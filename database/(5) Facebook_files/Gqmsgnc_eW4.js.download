if (self.CavalryLogger) { CavalryLogger.start_js_script(document.currentScript); }/*FB_PKG_DELIM*/

__d("CometStickerPickerCardQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="7409013322449551"}),null);
__d("CometStickerPickerCardQuery$Parameters",["CometStickerPickerCardQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("CometStickerPickerCardQuery_facebookRelayOperation"),metadata:{},name:"CometStickerPickerCardQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("CometUFICommentList_feedback.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},b={kind:"Variable",name:"use_default_actor",variableName:"useDefaultActor"},c=[b],d={kind:"Variable",name:"includeNestedComments",variableName:"includeNestedComments"},e=[d];return{argumentDefinitions:[{kind:"RootArgument",name:"feedLocation"},{defaultValue:!1,kind:"LocalArgument",name:"hasScenario"},{defaultValue:!1,kind:"LocalArgument",name:"includeHighlightedComments"},{defaultValue:!0,kind:"LocalArgument",name:"includeNestedComments"},{defaultValue:!0,kind:"LocalArgument",name:"isInitialFetch"},{defaultValue:null,kind:"LocalArgument",name:"topLevelViewOption"},{kind:"RootArgument",name:"useDefaultActor"}],kind:"Fragment",metadata:null,name:"CometUFICommentList_feedback",selections:[{alias:null,args:null,concreteType:"AskMeAnythingFeedbackMetadata",kind:"LinkedField",name:"ask_me_anything_feedback_metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_viewer_host",storageKey:null}],storageKey:null},a,{alias:null,args:[{kind:"Variable",name:"location",variableName:"feedLocation"},b],kind:"ScalarField",name:"can_viewer_comment",storageKey:null},{alias:null,args:c,kind:"ScalarField",name:"comment_composer_placeholder",storageKey:null},{alias:"comment_count",args:null,concreteType:"TopLevelCommentsConnection",kind:"LinkedField",name:"top_level_comments",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"total_count",storageKey:null}],storageKey:null},{alias:"toplevel_comment_count",args:[{kind:"Literal",name:"orderby",value:"toplevel"}],concreteType:"TopLevelCommentsConnection",kind:"LinkedField",name:"top_level_comments",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"count",storageKey:null}],storageKey:'top_level_comments(orderby:"toplevel")'},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"threading_config",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:c,concreteType:null,kind:"LinkedField",name:"viewer_actor",plural:!1,selections:[a],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_vc_acting_as_page_or_profile_plus",storageKey:null},{args:null,kind:"FragmentSpread",name:"CometUFIComment_feedback"},{condition:"hasScenario",kind:"Condition",passingValue:!0,selections:[{condition:"includeNestedComments",kind:"Condition",passingValue:!0,selections:[{args:e,kind:"FragmentSpread",name:"CometUFITopLevelCommentsProviderForCommentsAPI_feedback"}]},{condition:"includeNestedComments",kind:"Condition",passingValue:!1,selections:[{args:e,kind:"FragmentSpread",name:"CometUFIReplyCommentsProviderForCommentsAPI_feedback"}]}]},{args:[{kind:"Variable",name:"includeHighlightedComments",variableName:"includeHighlightedComments"},d,{kind:"Variable",name:"isInitialFetch",variableName:"isInitialFetch"},{kind:"Literal",name:"isPaginating",value:!1},{kind:"Variable",name:"topLevelViewOption",variableName:"topLevelViewOption"}],kind:"FragmentSpread",name:"CometUFICommentsProviderForDisplayComments_feedback"},{args:null,kind:"FragmentSpread",name:"CometUFIComposer_feedback"},{args:null,kind:"FragmentSpread",name:"CometUFICommentEditor_feedback"},{alias:null,args:null,kind:"ScalarField",name:"is_eligible_for_comment_api",storageKey:null}],type:"Feedback",abstractKey:null}}();e.exports=a}),null);
__d("CometUFICommentsProviderForDisplayCommentsQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5284122301714886"}),null);
__d("CometUFICommentsProviderForDisplayCommentsQuery.graphql",["CometTextWithEntitiesRelay_textWithEntities$normalization.graphql","CometUFICommentsProviderForDisplayCommentsQuery_facebookRelayOperation"],(function(a,aa,b,c,d,e){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"UFI2CommentsProvider_commentsKey"},b={defaultValue:!1,kind:"LocalArgument",name:"__false"},c={defaultValue:!0,kind:"LocalArgument",name:"__true"},d={defaultValue:null,kind:"LocalArgument",name:"after"},e={defaultValue:null,kind:"LocalArgument",name:"before"},ba={defaultValue:null,kind:"LocalArgument",name:"displayCommentsContextEnableComment"},ca={defaultValue:null,kind:"LocalArgument",name:"displayCommentsContextIsAdPreview"},da={defaultValue:null,kind:"LocalArgument",name:"displayCommentsContextIsAggregatedShare"},ea={defaultValue:null,kind:"LocalArgument",name:"displayCommentsContextIsStorySet"},fa={defaultValue:null,kind:"LocalArgument",name:"displayCommentsFeedbackContext"},ga={defaultValue:null,kind:"LocalArgument",name:"feedLocation"},ha={defaultValue:null,kind:"LocalArgument",name:"feedbackSource"},ia={defaultValue:null,kind:"LocalArgument",name:"first"},ja={defaultValue:null,kind:"LocalArgument",name:"focusCommentID"},ka={defaultValue:null,kind:"LocalArgument",name:"id"},la={defaultValue:null,kind:"LocalArgument",name:"includeHighlightedComments"},ma={defaultValue:null,kind:"LocalArgument",name:"includeNestedComments"},na={defaultValue:null,kind:"LocalArgument",name:"initialViewOption"},oa={defaultValue:null,kind:"LocalArgument",name:"isInitialFetch"},pa={defaultValue:null,kind:"LocalArgument",name:"isPaginating"},qa={defaultValue:null,kind:"LocalArgument",name:"last"},ra={defaultValue:null,kind:"LocalArgument",name:"scale"},sa={defaultValue:null,kind:"LocalArgument",name:"topLevelViewOption"},ta={defaultValue:null,kind:"LocalArgument",name:"useDefaultActor"},ua={defaultValue:null,kind:"LocalArgument",name:"viewOption"},va=[{kind:"Variable",name:"id",variableName:"id"}],wa={kind:"Variable",name:"after",variableName:"after"},xa={kind:"Variable",name:"before",variableName:"before"},ya={kind:"Variable",name:"first",variableName:"first"},za={kind:"Variable",name:"last",variableName:"last"},f={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"subscription_target_id",storageKey:null},i={kind:"Variable",name:"feed_context_enable_comment",variableName:"displayCommentsContextEnableComment"},j={kind:"Variable",name:"feed_context_fb_feed_location",variableName:"feedLocation"},k={kind:"Variable",name:"feed_context_is_ad_preview",variableName:"displayCommentsContextIsAdPreview"},l={kind:"Variable",name:"feed_context_is_aggregated_share",variableName:"displayCommentsContextIsAggregatedShare"},m={kind:"Variable",name:"feed_context_is_story_set",variableName:"displayCommentsContextIsStorySet"},n={kind:"Variable",name:"feedback_context",variableName:"displayCommentsFeedbackContext"},o={kind:"Variable",name:"feedback_source",variableName:"feedbackSource"},p={kind:"Variable",name:"focus_comment_id",variableName:"focusCommentID"},q={kind:"Variable",name:"is_initial_fetch",variableName:"isInitialFetch"},r={kind:"Variable",name:"top_level_comment_order",variableName:"topLevelViewOption"},Aa=[wa,xa,{kind:"Variable",name:"comment_order",variableName:"viewOption"},i,j,k,l,m,n,o,ya,p,{kind:"Variable",name:"initial_comment_order",variableName:"initialViewOption"},q,{kind:"Variable",name:"is_top_level",variableName:"includeNestedComments"},za,r],s={alias:null,args:null,kind:"ScalarField",name:"after_count",storageKey:null},Ba={alias:null,args:null,kind:"ScalarField",name:"before_count",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"count",storageKey:null},Ca={alias:null,args:null,kind:"ScalarField",name:"legacy_fbid",storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},Da={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},v={kind:"TypeDiscriminator",abstractKey:"__isActor"},w={alias:null,args:null,kind:"ScalarField",name:"is_verified",storageKey:null},x={alias:null,args:null,kind:"ScalarField",name:"short_name",storageKey:null},y={alias:null,args:null,kind:"ScalarField",name:"gender",storageKey:null},z={kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"availability",storageKey:null}]},A={kind:"Variable",name:"scale",variableName:"scale"},B={alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null},C=[B],D={alias:"profile_picture_depth_0",args:[{kind:"Literal",name:"height",value:32},A,{kind:"Literal",name:"width",value:32}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:C,storageKey:null},E=[{kind:"Literal",name:"height",value:24},A,{kind:"Literal",name:"width",value:24}],F={alias:"profile_picture_depth_1",args:E,concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:C,storageKey:null};w={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"author",plural:!1,selections:[f,g,u,{kind:"InlineFragment",selections:[Da],type:"Entity",abstractKey:"__isEntity"},v,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"WorkUserInfo",kind:"LinkedField",name:"work_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_active_account",storageKey:null}],storageKey:null},w,x,{alias:null,args:null,kind:"ScalarField",name:"subscribe_status",storageKey:null},y,z],type:"User",abstractKey:null},{kind:"InlineFragment",selections:[w],type:"Page",abstractKey:null},D,F],storageKey:null};var Ea={alias:null,args:null,kind:"ScalarField",name:"is_author_weak_reference",storageKey:null},G={alias:null,args:null,kind:"ScalarField",name:"created_time",storageKey:null},Fa={alias:null,args:null,kind:"ScalarField",name:"spam_display_mode",storageKey:null},Ga={alias:null,args:null,concreteType:"XFBCommunityCommentSignalRenderer",kind:"LinkedField",name:"community_comment_signal_renderer",plural:!1,selections:[{args:null,documentName:"CometCommunityCommentSignalRenderer_comment",fragmentName:"CometCommunityCommentSignalBubble_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],storageKey:null},Ha={alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"attachments",plural:!0,selections:[{alias:null,args:[{kind:"Literal",name:"supported",value:["StoryAttachmentAnimatedImageShareStyleRenderer","StoryAttachmentDonationStyleRenderer","StoryAttachmentFallbackStyleRenderer","StoryAttachmentPhotoStyleRenderer","StoryAttachmentStickerStyleRenderer","StoryAttachmentStickerAvatarStyleRenderer","StoryAttachmentVideoAutoplayStyleRenderer","StoryAttachmentVideoStyleRenderer","StoryAttachmentTipJarPaymentStyleRenderer","StoryAttachmentCommentPlaceInfoStyleRenderer","StoryAttachmentChatCommandStyleRenderer","StoryAttachmentPageInCommentStyleRenderer","StoryAttachmentInstantGamesTournamentActivityStyleRenderer","StoryAttachmentInstantGamesUpdateCommentStyleRenderer","StoryAttachmentSubscriptionGiftStyleRenderer","StoryAttachmentFactsInCommentsCommentStyleRenderer","StoryAttachmentDataSnapshotStyleRenderer","StoryAttachmentCommunityAwardStyleRenderer"]}],concreteType:null,kind:"LinkedField",name:"style_type_renderer",plural:!1,selections:[f,{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentAnimatedImageShareAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentAnimatedImageShareStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentDonationAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentDonationStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentFallbackAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentFallbackStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentImageAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentPhotoStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentStickerAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentStickerStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentStickerAvatarAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentStickerAvatarStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentVideoAutoplayAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentVideoAutoplayStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentVideoAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentVideoStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentTipJarPaymentAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentTipJarPaymentStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentPlaceInfoAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentCommentPlaceInfoStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentChatCommandAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentChatCommandStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentPageInCommentAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentPageInCommentStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentInstantGamesTournamentActivityAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentInstantGamesTournamentActivityStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentInstantGamesUpdateCommentAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentInstantGamesUpdateCommentStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFISubscriptionGiftingAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentSubscriptionGiftStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFIFactsInCommentsAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentFactsInCommentsCommentStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentDataSnapshotAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentDataSnapshotStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentCommunityAwardAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentCommunityAwardStyleRenderer",abstractKey:null}],storageKey:'style_type_renderer(supported:["StoryAttachmentAnimatedImageShareStyleRenderer","StoryAttachmentDonationStyleRenderer","StoryAttachmentFallbackStyleRenderer","StoryAttachmentPhotoStyleRenderer","StoryAttachmentStickerStyleRenderer","StoryAttachmentStickerAvatarStyleRenderer","StoryAttachmentVideoAutoplayStyleRenderer","StoryAttachmentVideoStyleRenderer","StoryAttachmentTipJarPaymentStyleRenderer","StoryAttachmentCommentPlaceInfoStyleRenderer","StoryAttachmentChatCommandStyleRenderer","StoryAttachmentPageInCommentStyleRenderer","StoryAttachmentInstantGamesTournamentActivityStyleRenderer","StoryAttachmentInstantGamesUpdateCommentStyleRenderer","StoryAttachmentSubscriptionGiftStyleRenderer","StoryAttachmentFactsInCommentsCommentStyleRenderer","StoryAttachmentDataSnapshotStyleRenderer","StoryAttachmentCommunityAwardStyleRenderer"])'},{alias:null,args:null,kind:"ScalarField",name:"style_list",storageKey:null}],storageKey:null},H={kind:"Variable",name:"feed_location",variableName:"feedLocation"},I=[H],Ia={alias:null,args:I,kind:"ScalarField",name:"comment_menu_tooltip",storageKey:null},Ja={alias:null,args:I,kind:"ScalarField",name:"should_show_comment_menu",storageKey:null},Ka={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"comment_action_links_renderer",plural:!1,selections:[f,{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentActionLinks_comment",fragmentName:"CometUFICommentActionLinksExperimental_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"XFBCommentActionLinksRendererExperimental",abstractKey:null},{kind:"InlineFragment",selections:[{args:[{kind:"Literal",name:"CometUFICommentActionLinksStable_renderer$translationType",value:"ORIGINAL"}],documentName:"CometUFICommentActionLinks_comment",fragmentName:"CometUFICommentActionLinksStable_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"XFBCommentActionLinksRendererStable",abstractKey:null}],storageKey:null},J=[{kind:"Literal",name:"translation_type",value:"ORIGINAL"}],K={args:null,fragment:aa("CometTextWithEntitiesRelay_textWithEntities$normalization.graphql"),kind:"FragmentSpread"},L={alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null};K={alias:null,args:J,concreteType:null,kind:"LinkedField",name:"preferred_body",plural:!1,selections:[f,{kind:"InlineFragment",selections:[K,L],type:"TextWithEntities",abstractKey:null},K,{alias:null,args:null,kind:"ScalarField",name:"translation_type",storageKey:null}],storageKey:'preferred_body(translation_type:"ORIGINAL")'};J={alias:"body_renderer",args:J,concreteType:null,kind:"LinkedField",name:"preferred_body",plural:!1,selections:[f,{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentTextBodyRenderer_comment",fragmentName:"CometUFICommentBodyTextWithEntities_textWithEntities",fragmentPropName:"textWithEntities",kind:"ModuleImport"}],type:"TextWithEntities",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentTextBodyRenderer_comment",fragmentName:"CometUFICommentBodyComposedTextWithEntities_composedTextWithEntities",fragmentPropName:"composedTextWithEntities",kind:"ModuleImport"}],type:"FBMarkdownCommentBody",abstractKey:null}],storageKey:'preferred_body(translation_type:"ORIGINAL")'};x={alias:null,args:null,concreteType:"Comment",kind:"LinkedField",name:"comment_parent",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"author",plural:!1,selections:[f,u,{kind:"InlineFragment",selections:[x],type:"User",abstractKey:null},g],storageKey:null},g],storageKey:null};var La={alias:null,args:null,kind:"ScalarField",name:"is_declined_by_group_admin_assistant",storageKey:null},Ma={alias:null,args:null,kind:"ScalarField",name:"is_gaming_video_comment",storageKey:null},Na={alias:null,args:null,kind:"ScalarField",name:"timestamp_in_video",storageKey:null},Oa={alias:null,args:null,concreteType:"PostTranslatability",kind:"LinkedField",name:"translatability_for_viewer",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"source_dialect",storageKey:null}],storageKey:null},Pa={alias:null,args:null,kind:"ScalarField",name:"written_while_video_was_live",storageKey:null},Qa={alias:null,args:null,concreteType:"GroupCommentInfo",kind:"LinkedField",name:"group_comment_info",plural:!1,selections:[{args:null,documentName:"CometUFICommentActorLink_comment_groups",fragmentName:"CometUFIGroupCommentActorLink_groupCommentInfo",fragmentPropName:"groupCommentInfo",kind:"ModuleImport"}],storageKey:null},Ra={alias:null,args:I,concreteType:"BizWebCommentInfo",kind:"LinkedField",name:"bizweb_comment_info",plural:!1,selections:[{args:null,documentName:"CometUFICommentActorLink_comment_bizweb",fragmentName:"BizWebFBCommentAuthorLink_bizWebCommentInfo",fragmentPropName:"bizWebCommentInfo",kind:"ModuleImport"}],storageKey:null},Sa={alias:null,args:null,kind:"ScalarField",name:"is_actor_viewable",storageKey:null},Ta={alias:null,args:null,kind:"ScalarField",name:"has_constituent_badge",storageKey:null},Ua={alias:null,args:null,kind:"ScalarField",name:"can_viewer_see_subsribe_button",storageKey:null},Va={alias:null,args:null,kind:"ScalarField",name:"can_see_constituent_badge_upsell",storageKey:null},Wa={alias:null,args:null,kind:"ScalarField",name:"legacy_token",storageKey:null},Xa={alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"parent_feedback",plural:!1,selections:[g,{alias:null,args:null,kind:"ScalarField",name:"share_fbid",storageKey:null},{alias:null,args:null,concreteType:"PoliticalFigureData",kind:"LinkedField",name:"political_figure_data",plural:!1,selections:[u,{alias:null,args:null,concreteType:"PoliticalOffice",kind:"LinkedField",name:"political_office",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"generic_title",storageKey:null},g],storageKey:null},g],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owning_profile",plural:!1,selections:[f,u,g],storageKey:null}],storageKey:null},Ya={alias:null,args:null,kind:"ScalarField",name:"question_and_answer_type",storageKey:null},Za={alias:null,args:null,kind:"ScalarField",name:"is_author_original_poster",storageKey:null},$a={alias:null,args:null,kind:"ScalarField",name:"is_viewer_comment_poster",storageKey:null},ab={alias:null,args:null,kind:"ScalarField",name:"is_author_bot",storageKey:null},bb={alias:null,args:null,kind:"ScalarField",name:"is_author_non_coworker",storageKey:null},cb={alias:null,args:null,kind:"ScalarField",name:"can_subscribe_to_bulletin_creator",storageKey:null},db={alias:null,args:null,concreteType:"VoicesCreator",kind:"LinkedField",name:"bulletin_creator",plural:!1,selections:[{alias:null,args:null,concreteType:"VoicesPublication",kind:"LinkedField",name:"publication",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"publication_absolute_url",storageKey:null},g,{alias:null,args:null,kind:"ScalarField",name:"publication_name",storageKey:null}],storageKey:null},g],storageKey:null},eb={alias:null,args:I,concreteType:null,kind:"LinkedField",name:"author_user_signals_renderer",plural:!1,selections:[f,{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentActorLinkBadges_comment",fragmentName:"CometUFICommentActorUserSignalsRenderer_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"CometUFICommentActorUserSignalsRenderer",abstractKey:null}],storageKey:null};H={alias:null,args:[H,{kind:"Literal",name:"supported",value:["CometUFICommentActorConstituentBadge","CometUFICommentActorVerifiedBadge","CometUFICommentActorUserSignalsRenderer","CometUFICommentActorAMAQuestionAnswerBadge","CometUFICommentInlineFollowCTARenderer","GeminiUFICommentActorDeactivatedAccountBadge","GeminiUFICommentActorBotBadge","GeminiUFICommentActorNonCoworkerBadge","CometUFICommentPostAuthorBadge","GeminiUFICommentQAAnswerBadge","GeminiUFICommentQASocialAnswerBadge","GeminiUFICommentActorWPEnhancedAMAQuestionAnswerBadge","CometUFICommentWorkplaceFileMarkerBadge","CometUFICommentWorkKnowledgeEditorBadge"]}],concreteType:null,kind:"LinkedField",name:"author_badge_renderers",plural:!0,selections:[f,{kind:"InlineFragment",selections:[{args:null,documentName:"useCometUFICommentActorLinkBadges_comment",fragmentName:"CometUFICommentActorConstituentBadge3DWrapper_badge",fragmentPropName:"badge",kind:"ModuleImport"}],type:"CometUFICommentActorConstituentBadge",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"useCometUFICommentActorLinkBadges_comment",fragmentName:"CometUFICommentActorVerifiedBadge3DWrapper_badge",fragmentPropName:"badge",kind:"ModuleImport"}],type:"CometUFICommentActorVerifiedBadge",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"useCometUFICommentActorLinkBadges_comment",fragmentName:"CometUFICommentActorUserSignalsRenderer_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"CometUFICommentActorUserSignalsRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"useCometUFICommentActorLinkBadges_comment",fragmentName:"CometUFICommentActorAMAQuestionAnswerBadge3DWrapper_badge",fragmentPropName:"badge",kind:"ModuleImport"}],type:"CometUFICommentActorAMAQuestionAnswerBadge",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"useCometUFICommentActorLinkBadges_comment",fragmentName:"CometUFICommentInlineFollowCTARenderer_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"CometUFICommentInlineFollowCTARenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"useCometUFICommentActorLinkBadges_comment",fragmentName:"GeminiUFICommentActorDeactivatedAccountBadge3DWrapper_badge",fragmentPropName:"badge",kind:"ModuleImport"}],type:"GeminiUFICommentActorDeactivatedAccountBadge",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"useCometUFICommentActorLinkBadges_comment",fragmentName:"GeminiUFICommentActorBotBadge3DWrapper_badge",fragmentPropName:"badge",kind:"ModuleImport"}],type:"GeminiUFICommentActorBotBadge",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"useCometUFICommentActorLinkBadges_comment",fragmentName:"GeminiUFICommentActorNonCoworkerBadge3DWrapper_badge",fragmentPropName:"badge",kind:"ModuleImport"}],type:"GeminiUFICommentActorNonCoworkerBadge",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"useCometUFICommentActorLinkBadges_comment",fragmentName:"CometUFICommentPostAuthorBadge3DWrapper_badge",fragmentPropName:"badge",kind:"ModuleImport"}],type:"CometUFICommentPostAuthorBadge",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"useCometUFICommentActorLinkBadges_comment",fragmentName:"GeminiUFICommentQAAnswerBadge_badge",fragmentPropName:"badge",kind:"ModuleImport"}],type:"GeminiUFICommentQAAnswerBadge",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"useCometUFICommentActorLinkBadges_comment",fragmentName:"GeminiUFICommentQASocialAnswerBadge_badge",fragmentPropName:"badge",kind:"ModuleImport"}],type:"GeminiUFICommentQASocialAnswerBadge",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"useCometUFICommentActorLinkBadges_comment",fragmentName:"GeminiUFICommentActorEnhancedAMAQuestionAnswerBadge3DWrapper_badge",fragmentPropName:"badge",kind:"ModuleImport"}],type:"GeminiUFICommentActorWPEnhancedAMAQuestionAnswerBadge",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"useCometUFICommentActorLinkBadges_comment",fragmentName:"CometUFICommentWorkplaceFileMarkerBadge3DWrapper_badge",fragmentPropName:"badge",kind:"ModuleImport"}],type:"CometUFICommentWorkplaceFileMarkerBadge",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"useCometUFICommentActorLinkBadges_comment",fragmentName:"CometUFICommentWorkKnowledgeEditorBadge3DWrapper_badge",fragmentPropName:"badge",kind:"ModuleImport"}],type:"CometUFICommentWorkKnowledgeEditorBadge",abstractKey:null}],storageKey:null};var M={alias:"grey_badge_asset",args:null,kind:"ScalarField",name:"badge_asset",storageKey:null},N={alias:"dark_mode_badge_asset",args:null,kind:"ScalarField",name:"information_asset_dark_mode_v2",storageKey:null},O={alias:"light_mode_badge_asset",args:null,kind:"ScalarField",name:"information_asset_v2",storageKey:null},P={alias:null,args:null,kind:"ScalarField",name:"is_earned",storageKey:null},Q={alias:null,args:null,kind:"ScalarField",name:"information_title",storageKey:null},R={alias:null,args:null,kind:"ScalarField",name:"information_description",storageKey:null},S={alias:null,args:null,kind:"ScalarField",name:"is_enabled",storageKey:null},T={alias:null,args:null,kind:"ScalarField",name:"is_manageable",storageKey:null},U={alias:null,args:null,kind:"ScalarField",name:"serialized",storageKey:null},V={alias:null,args:null,kind:"ScalarField",name:"identity_badge_type",storageKey:null},W={alias:null,args:null,kind:"ScalarField",name:"information_button_enabled",storageKey:null},X={alias:null,args:null,kind:"ScalarField",name:"information_button_uri",storageKey:null},Y={alias:null,args:null,kind:"ScalarField",name:"information_button_text",storageKey:null},Z={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"tier_info",plural:!1,selections:[f,{alias:null,args:null,kind:"ScalarField",name:"tier_name",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"stars_sent_this_week",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"stars_threshold_for_next_tier",storageKey:null}],type:"TipperBadgeTierInfo",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"supporter_age_for_progress_bar",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"supporter_threshold_for_next_tier",storageKey:null}],type:"WoodhengeBadgeTierInfo",abstractKey:null}],storageKey:null},fb={alias:null,args:I,concreteType:"IdentityBadge",kind:"LinkedField",name:"identity_badges_web",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"badge_asset",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"multiple_badge_asset",storageKey:null},L,{alias:null,args:null,kind:"ScalarField",name:"text_gradient",storageKey:null},M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,{alias:null,args:null,kind:"ScalarField",name:"gaming_video_image_uri",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"gaming_video_dark_mode_image_uri",storageKey:null}],storageKey:null};I={alias:null,args:I,kind:"ScalarField",name:"can_show_multiple_identity_badges",storageKey:null};M={alias:null,args:null,concreteType:"IdentityBadge",kind:"LinkedField",name:"discoverable_identity_badges_web",plural:!0,selections:[M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z],storageKey:null};N={alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:[u,{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:C,storageKey:null},g],storageKey:null};O=[{alias:null,args:null,kind:"ScalarField",name:"video_channel_is_viewer_following",storageKey:null}];P=[g];Q={kind:"InlineFragment",selections:P,type:"Node",abstractKey:"__isNode"};R={alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"parent_post_story",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"attachments",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media",plural:!1,selections:[f,{kind:"InlineFragment",selections:[g,{alias:null,args:null,kind:"ScalarField",name:"is_live_streaming",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"broadcast_duration",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"playable_duration",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owner",plural:!1,selections:[f,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor_to_follow",plural:!1,selections:[f,g,{kind:"InlineFragment",selections:O,type:"Page",abstractKey:null},{kind:"InlineFragment",selections:O,type:"User",abstractKey:null}],storageKey:null},u],type:"VideoOwner",abstractKey:"__isVideoOwner"},g],storageKey:null}],type:"Video",abstractKey:null},Q,{kind:"InlineFragment",selections:P,type:"GenericAttachmentMedia",abstractKey:null},{kind:"InlineFragment",selections:P,type:"MontageImage",abstractKey:null},{kind:"InlineFragment",selections:P,type:"MontageVideo",abstractKey:null}],storageKey:null}],storageKey:null},g],storageKey:null};S={alias:null,args:null,kind:"ScalarField",name:"work_ama_answer_status",storageKey:null};T={alias:null,args:null,concreteType:"WorkKnowledgeInlineAnnotationCommentBadgeRenderer",kind:"LinkedField",name:"work_knowledge_inline_annotation_comment_badge_renderer",plural:!1,selections:[{args:null,documentName:"CometUFICommentBody_comment_work_knowledge_inline_annotation_comment_badge_renderer",fragmentName:"CometUFICommentBodyInlineAnnotationBadgeWrapper_workKnowledgeInlineAnnotationCommentBadgeRenderer",fragmentPropName:"workKnowledgeInlineAnnotationCommentBadgeRenderer",kind:"ModuleImport"}],storageKey:null};U={alias:null,args:null,concreteType:"XFBBusinessCommentAttribute",kind:"LinkedField",name:"business_comment_attributes",plural:!0,selections:[{args:null,documentName:"CometUFICommentBody_comment_business_comment_attributes",fragmentName:"BizWebBusinessCommentBadge_businessCommentAttributes",fragmentPropName:"businessCommentAttributes",kind:"ModuleImport"},g],storageKey:null};V={alias:null,args:null,kind:"ScalarField",name:"is_live_video_comment",storageKey:null};W={alias:null,args:null,kind:"ScalarField",name:"can_viewer_disable_preview",storageKey:null};X={alias:null,args:null,kind:"ScalarField",name:"translation_available_for_viewer",storageKey:null};Y={alias:null,args:null,concreteType:"InlineSurveyStoryActionLink",kind:"LinkedField",name:"inline_survey_config",plural:!1,selections:[{args:null,documentName:"CometUFIComment_comment",fragmentName:"CometUFICommentQualitySurvey_inlineSurveyConfig",fragmentPropName:"inlineSurveyConfig",kind:"ModuleImport"},{alias:null,args:[A],concreteType:"Image",kind:"LinkedField",name:"favicon",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"scale",storageKey:null},B,{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"followup_choices",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"followup_question",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"main_choices",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"main_question",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"privacy_text",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"session_blob",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"thankyou_text",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"tessa_survey_config_id",storageKey:null}],storageKey:null};Z=[f,g];O={alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"attached_story",plural:!1,selections:Z,storageKey:null};A={alias:null,args:null,concreteType:"Comment",kind:"LinkedField",name:"comment_direct_parent",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"author",plural:!1,selections:[f,u,{kind:"InlineFragment",selections:[y],type:"User",abstractKey:null},g],storageKey:null},g],storageKey:null};B={alias:null,args:null,concreteType:"Comment",kind:"LinkedField",name:"if_viewer_can_see_member_page_tooltip",plural:!1,selections:Z,storageKey:null};Z=[t];var gb={alias:null,args:null,concreteType:"ReactorsOfContentConnection",kind:"LinkedField",name:"reactors",plural:!1,selections:Z,storageKey:null},hb={alias:null,args:null,kind:"ScalarField",name:"should_show_top_reactions",storageKey:null},ib={alias:"can_see_top_custom_reactions_on_comment",args:null,concreteType:"Feedback",kind:"LinkedField",name:"if_viewer_can_render_group_custom_reactions",plural:!1,selections:[{args:null,documentName:"CometUFICommentTopReactions_feedback",fragmentName:"CometUFICommentCustomTopReactions_feedback",fragmentPropName:"feedback",kind:"ModuleImport"},g],storageKey:null},jb={alias:"cannot_see_top_custom_reactions_on_comment",args:null,concreteType:"Feedback",kind:"LinkedField",name:"if_viewer_cannot_render_group_custom_reactions",plural:!1,selections:[{args:null,documentName:"CometUFICommentTopReactions_feedback__cannot_use_group_custom_reactions",fragmentName:"CometUFIClassicCommentTopReactions_feedback",fragmentPropName:"feedback",kind:"ModuleImport"},g],storageKey:null},$={kind:"Variable",name:"use_default_actor",variableName:"useDefaultActor"},kb={alias:null,args:[{kind:"Variable",name:"location",variableName:"feedLocation"},$],kind:"ScalarField",name:"can_viewer_comment",storageKey:null};$=[$];var lb={alias:null,args:$,kind:"ScalarField",name:"comment_composer_placeholder",storageKey:null},mb={alias:null,args:null,concreteType:"AskMeAnythingFeedbackMetadata",kind:"LinkedField",name:"ask_me_anything_feedback_metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_viewer_host",storageKey:null}],storageKey:null},nb={alias:"comment_count",args:null,concreteType:"TopLevelCommentsConnection",kind:"LinkedField",name:"top_level_comments",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"total_count",storageKey:null}],storageKey:null};Z={alias:"toplevel_comment_count",args:[{kind:"Literal",name:"orderby",value:"toplevel"}],concreteType:"TopLevelCommentsConnection",kind:"LinkedField",name:"top_level_comments",plural:!1,selections:Z,storageKey:'top_level_comments(orderby:"toplevel")'};var ob={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"threading_config",plural:!1,selections:[f],storageKey:null};y={kind:"InlineFragment",selections:[y,z],type:"User",abstractKey:null};z={alias:null,args:$,concreteType:null,kind:"LinkedField",name:"viewer_actor",plural:!1,selections:[f,g,v,u,D,F,y],storageKey:null};$={alias:null,args:null,kind:"ScalarField",name:"is_vc_acting_as_page_or_profile_plus",storageKey:null};v=[i,j,k,l,m,n,o,p,q,{kind:"Variable",name:"is_top_level",variableName:"__false"},r];D={alias:null,args:null,kind:"ScalarField",name:"comment_order",storageKey:null};F={alias:null,args:null,concreteType:"Comment",kind:"LinkedField",name:"expanded_sub_reply_parents",plural:!0,selections:P,storageKey:null};var pb={alias:null,args:null,kind:"ScalarField",name:"is_initially_expanded",storageKey:null},qb={alias:null,args:null,kind:"ScalarField",name:"page_size",storageKey:null},rb={alias:null,args:null,kind:"ScalarField",name:"reply_comment_order",storageKey:null},sb={alias:null,args:null,kind:"ScalarField",name:"should_render_composer_preemptively",storageKey:null};i=[i,j,k,l,m,n,o,p,q,{kind:"Literal",name:"is_top_level",value:!1},r];j={alias:null,args:null,concreteType:"Comment",kind:"LinkedField",name:"highlighted_comments",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"author",plural:!1,selections:[f,u,{alias:"profilePictureForReplyExpander",args:E,concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:C,storageKey:null},y,g],storageKey:null},G,g],storageKey:null};k={alias:"sub_replies_count",args:null,kind:"ScalarField",name:"comment_count",storageKey:null};l={alias:null,args:null,kind:"ScalarField",name:"is_hide_transparency_enabled_for_actor",storageKey:null};m={alias:null,args:null,kind:"ScalarField",name:"is_disabled",storageKey:null};n={alias:null,args:null,concreteType:"WorkAMAUFIAnsweredEventCommentModuleRenderer",kind:"LinkedField",name:"work_answered_event_comment_renderer",plural:!1,selections:[{args:null,documentName:"CometUFIComment_comment_work_answered_event_comment_renderer",fragmentName:"CometUFIAMABroadcastAnswerEventRow_data",fragmentPropName:"data",kind:"ModuleImport"}],storageKey:null};o={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"comment_upper_badge_renderer",plural:!1,selections:[f,{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFIComment_comment_upper_badge_renderer",fragmentName:"GroupsCometCommentPinnedBadgeRenderer_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"GroupsCometCommentPinnedBadgeRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFIComment_comment_upper_badge_renderer",fragmentName:"GroupsCometCommentUnpinnedBadgeRenderer_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"GroupsCometCommentUnpinnedBadgeRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFIComment_comment_upper_badge_renderer",fragmentName:"GroupsCometCommentAuthorsFavoriteBadgeRenderer_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"GroupsCometCommentAuthorsFavoriteBadgeRenderer",abstractKey:null}],storageKey:null};p={alias:null,args:[{kind:"Literal",name:"supported",value:["AwardElevatedCommentData","StarsElevatedCommentData","SupporterElevatedCommentData","SimpleElevatedCommentData","ClipElevatedCommentData","GroupPromotionElevatedCommentData","GiftedSubsElevatedCommentData"]}],concreteType:null,kind:"LinkedField",name:"elevated_comment_data",plural:!1,selections:[f,{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFIComment_comment_elevated_comment_data",fragmentName:"AwardElevatedCommentContent_awardElevatedCommentData",fragmentPropName:"awardElevatedCommentData",kind:"ModuleImport"}],type:"AwardElevatedCommentData",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFIComment_comment_elevated_comment_data",fragmentName:"GFIStarsElevatedCommentContent_starsElevatedCommentData",fragmentPropName:"starsElevatedCommentData",kind:"ModuleImport"}],type:"StarsElevatedCommentData",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFIComment_comment_elevated_comment_data",fragmentName:"GFIFubsElevatedCommentContent_fubsElevatedCommentData",fragmentPropName:"fubsElevatedCommentData",kind:"ModuleImport"}],type:"SupporterElevatedCommentData",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFIComment_comment_elevated_comment_data",fragmentName:"SimpleElevatedCommentContent_simpleElevatedCommentData",fragmentPropName:"simpleElevatedCommentData",kind:"ModuleImport"}],type:"SimpleElevatedCommentData",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFIComment_comment_elevated_comment_data",fragmentName:"GFIClipElevatedCommentContent_clipElevatedCommentData",fragmentPropName:"clipElevatedCommentData",kind:"ModuleImport"}],type:"ClipElevatedCommentData",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFIComment_comment_elevated_comment_data",fragmentName:"GFIGroupPromotionElevatedCommentContent_groupPromotionElevatedCommentData",fragmentPropName:"groupPromotionElevatedCommentData",kind:"ModuleImport"}],type:"GroupPromotionElevatedCommentData",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFIComment_comment_elevated_comment_data",fragmentName:"GFIGiftedSubsElevatedCommentContent_giftedSubsElevatedCommentData",fragmentPropName:"giftedSubsElevatedCommentData",kind:"ModuleImport"}],type:"GiftedSubsElevatedCommentData",abstractKey:null}],storageKey:'elevated_comment_data(supported:["AwardElevatedCommentData","StarsElevatedCommentData","SupporterElevatedCommentData","SimpleElevatedCommentData","ClipElevatedCommentData","GroupPromotionElevatedCommentData","GiftedSubsElevatedCommentData"])'};q={alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"body",plural:!1,selections:[L,{alias:null,args:null,concreteType:"EntityAtRange",kind:"LinkedField",name:"ranges",plural:!0,selections:[f,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"entity",plural:!1,selections:[f,Q],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entity_is_weak_reference",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"length",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"offset",storageKey:null}],storageKey:null}],storageKey:null};r={alias:null,args:null,kind:"ScalarField",name:"is_markdown_enabled",storageKey:null};u={alias:null,args:null,kind:"ScalarField",name:"is_subreply_parent_deleted",storageKey:null};E={alias:null,args:null,concreteType:"Comment",kind:"LinkedField",name:"reply_parent_comment",plural:!1,selections:P,storageKey:null};C={alias:"threading_depth",args:null,kind:"ScalarField",name:"depth",storageKey:null};y={kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"optimistic_action",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"optimistic_error",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"client_id",storageKey:null},{alias:null,args:null,concreteType:"FBGComponentRoot",kind:"LinkedField",name:"fbg_component_root",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"interactive_plugin_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fbg_component_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fbg_component_source",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"optimistic_error_code",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reply_comment_parent_fbid",storageKey:null}]};L={alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null};Q={alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"page_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"end_cursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_next_page",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_previous_page",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"start_cursor",storageKey:null}],storageKey:null};P={kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"ufi2_connection_generation",storageKey:null}]};var tb=["feedback_source","focus_comment_id","comment_order"],ub={kind:"Variable",name:"__dynamicKey",variableName:"UFI2CommentsProvider_commentsKey"},vb={alias:null,args:null,kind:"ScalarField",name:"should_show_premium_award_giver_popover",storageKey:null},wb={alias:null,args:null,kind:"ScalarField",name:"is_eligible_for_comment_api",storageKey:null},xb=[{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:[k,l],storageKey:null},u],yb=[j];return{fragment:{argumentDefinitions:[a,b,c,d,e,ba,ca,da,ea,fa,ga,ha,ia,ja,ka,la,ma,na,oa,pa,qa,ra,sa,ta,ua],kind:"Fragment",metadata:null,name:"CometUFICommentsProviderForDisplayCommentsQuery",selections:[{alias:null,args:va,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{args:[{kind:"Variable",name:"__false",variableName:"__false"},{kind:"Variable",name:"__true",variableName:"__true"},wa,xa,ya,{kind:"Variable",name:"includeHighlightedComments",variableName:"includeHighlightedComments"},{kind:"Variable",name:"includeNestedComments",variableName:"includeNestedComments"},{kind:"Variable",name:"initialViewOption",variableName:"initialViewOption"},{kind:"Variable",name:"isInitialFetch",variableName:"isInitialFetch"},{kind:"Variable",name:"isPaginating",variableName:"isPaginating"},za,{kind:"Variable",name:"topLevelViewOption",variableName:"topLevelViewOption"},{kind:"Variable",name:"viewOption",variableName:"viewOption"}],kind:"FragmentSpread",name:"CometUFICommentsProviderForDisplayComments_feedback"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[a,b,c,d,e,ba,ca,da,ea,fa,ga,ha,ia,ja,la,ma,na,oa,pa,qa,ra,sa,ta,ua,ka],kind:"Operation",name:"CometUFICommentsProviderForDisplayCommentsQuery",selections:[{alias:null,args:va,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[f,g,{kind:"InlineFragment",selections:[h,{alias:null,args:Aa,concreteType:"DisplayCommentsConnection",kind:"LinkedField",name:"display_comments",plural:!1,selections:[s,Ba,t,{alias:null,args:null,concreteType:"DisplayCommentsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Comment",kind:"LinkedField",name:"node",plural:!1,selections:[g,Ca,w,Ea,G,Fa,Ga,Ha,Ia,Ja,Ka,K,J,x,La,Ma,Na,Oa,Pa,Qa,Ra,Sa,Ta,Ua,Va,Wa,Xa,Ya,Za,$a,ab,bb,cb,db,eb,H,fb,I,M,N,R,S,T,U,V,W,X,Y,O,A,B,{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:[g,gb,hb,ib,jb,kb,lb,{condition:"includeNestedComments",kind:"Condition",passingValue:!0,selections:[mb,nb,Z,ob,z,$,h,{alias:null,args:v,concreteType:"DisplayCommentsConnection",kind:"LinkedField",name:"display_comments",plural:!1,selections:[D,F,pb,qb,rb,sb,s,Ba,t,{alias:null,args:null,concreteType:"DisplayCommentsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Comment",kind:"LinkedField",name:"node",plural:!1,selections:[g,Ca,w,Ea,G,Fa,Ga,Ha,Ia,Ja,Ka,K,J,x,La,Ma,Na,Oa,Pa,Qa,Ra,Sa,Ta,Ua,Va,Wa,Xa,Ya,Za,$a,ab,bb,cb,db,eb,H,fb,I,M,N,R,S,T,U,V,W,X,Y,O,A,B,{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:[g,gb,hb,ib,jb,kb,lb,{condition:"__false",kind:"Condition",passingValue:!0,selections:[mb,nb,Z,ob,z,$,h,{alias:null,args:i,concreteType:"DisplayCommentsConnection",kind:"LinkedField",name:"display_comments",plural:!1,selections:[j,D,F,pb,qb,rb,sb,s,Ba,t,{alias:null,args:null,concreteType:"DisplayCommentsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Comment",kind:"LinkedField",name:"node",plural:!1,selections:[g,Ca,w,Ea,G,Fa,Ga,Ha,Ia,Ja,Ka,K,J,x,La,Ma,Na,Oa,Pa,Qa,Ra,Sa,Ta,Ua,Va,Wa,Xa,Ya,Za,$a,ab,bb,cb,db,eb,H,fb,I,M,N,R,S,T,U,V,W,X,Y,O,A,B,{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:[g,gb,hb,ib,jb,k,l,kb,lb],storageKey:null},m,n,o,p,q,r,u,E,C,f,y],storageKey:null},L],storageKey:null},Q,P],storageKey:null},{alias:null,args:i,filters:tb,handle:"ufi2_comments",key:"UFI2CommentsProvider_feedback_display_comments",kind:"LinkedHandle",name:"display_comments",dynamicKey:ub},Da,vb,wb]}],storageKey:null},m,n,o,p,q,r,E,C,f,y,{condition:"__false",kind:"Condition",passingValue:!1,selections:xb}],storageKey:null},L],storageKey:null},Q,{condition:"__true",kind:"Condition",passingValue:!0,selections:yb},P],storageKey:null},{alias:null,args:v,filters:tb,handle:"ufi2_comments",key:"UFI2CommentsProvider_feedback_display_comments",kind:"LinkedHandle",name:"display_comments",dynamicKey:ub},Da,vb,wb]}],storageKey:null},m,n,o,p,q,r,E,C,f,y,{condition:"includeNestedComments",kind:"Condition",passingValue:!1,selections:xb}],storageKey:null},L],storageKey:null},Q,{condition:"includeHighlightedComments",kind:"Condition",passingValue:!0,selections:yb},{condition:"isPaginating",kind:"Condition",passingValue:!1,selections:[D,F,pb,qb,rb,sb,P]}],storageKey:null},{alias:null,args:Aa,filters:tb,handle:"ufi2_comments",key:"UFI2CommentsProvider_feedback_display_comments",kind:"LinkedHandle",name:"display_comments",dynamicKey:ub}],type:"Feedback",abstractKey:null}],storageKey:null}]},params:{id:aa("CometUFICommentsProviderForDisplayCommentsQuery_facebookRelayOperation"),metadata:{},name:"CometUFICommentsProviderForDisplayCommentsQuery",operationKind:"query",text:null}}}();d.exports=a}),null);
__d("CometUFICommentsProviderForDisplayCommentsReadCommentsPageQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="4918263768271456"}),null);
__d("CometUFICommentsProviderForDisplayCommentsReadCommentsPageQuery.graphql",["CometUFICommentsProviderForDisplayCommentsReadCommentsPageQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"after"},c={defaultValue:null,kind:"LocalArgument",name:"before"},d={defaultValue:null,kind:"LocalArgument",name:"displayCommentsContextEnableComment"},e={defaultValue:null,kind:"LocalArgument",name:"displayCommentsContextIsAdPreview"},f={defaultValue:null,kind:"LocalArgument",name:"displayCommentsContextIsAggregatedShare"},g={defaultValue:null,kind:"LocalArgument",name:"displayCommentsContextIsStorySet"},h={defaultValue:null,kind:"LocalArgument",name:"displayCommentsFeedbackContext"},i={defaultValue:null,kind:"LocalArgument",name:"feedLocation"},j={defaultValue:null,kind:"LocalArgument",name:"feedbackSource"},k={defaultValue:null,kind:"LocalArgument",name:"first"},l={defaultValue:null,kind:"LocalArgument",name:"focusCommentID"},m={defaultValue:null,kind:"LocalArgument",name:"id"},n={defaultValue:!0,kind:"LocalArgument",name:"includeNestedComments"},o={defaultValue:null,kind:"LocalArgument",name:"initialViewOption"},p={defaultValue:null,kind:"LocalArgument",name:"isInitialFetch"},q={defaultValue:null,kind:"LocalArgument",name:"last"},r={defaultValue:null,kind:"LocalArgument",name:"topLevelViewOption"},s={defaultValue:null,kind:"LocalArgument",name:"viewOption"},t=[{kind:"Variable",name:"id",variableName:"id"}],u={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},v={kind:"InlineFragment",selections:[{alias:null,args:[{kind:"Variable",name:"after",variableName:"after"},{kind:"Variable",name:"before",variableName:"before"},{kind:"Variable",name:"comment_order",variableName:"viewOption"},{kind:"Variable",name:"feed_context_enable_comment",variableName:"displayCommentsContextEnableComment"},{kind:"Variable",name:"feed_context_fb_feed_location",variableName:"feedLocation"},{kind:"Variable",name:"feed_context_is_ad_preview",variableName:"displayCommentsContextIsAdPreview"},{kind:"Variable",name:"feed_context_is_aggregated_share",variableName:"displayCommentsContextIsAggregatedShare"},{kind:"Variable",name:"feed_context_is_story_set",variableName:"displayCommentsContextIsStorySet"},{kind:"Variable",name:"feedback_context",variableName:"displayCommentsFeedbackContext"},{kind:"Variable",name:"feedback_source",variableName:"feedbackSource"},{kind:"Variable",name:"first",variableName:"first"},{kind:"Variable",name:"focus_comment_id",variableName:"focusCommentID"},{kind:"Variable",name:"initial_comment_order",variableName:"initialViewOption"},{kind:"Variable",name:"is_initial_fetch",variableName:"isInitialFetch"},{kind:"Variable",name:"is_top_level",variableName:"includeNestedComments"},{kind:"Variable",name:"last",variableName:"last"},{kind:"Variable",name:"top_level_comment_order",variableName:"topLevelViewOption"}],concreteType:"DisplayCommentsConnection",kind:"LinkedField",name:"display_comments",plural:!1,selections:[{alias:null,args:null,concreteType:"DisplayCommentsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Comment",kind:"LinkedField",name:"node",plural:!1,selections:[u],storageKey:null}],storageKey:null}],storageKey:null}],type:"Feedback",abstractKey:null};return{fragment:{argumentDefinitions:[a,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s],kind:"Fragment",metadata:null,name:"CometUFICommentsProviderForDisplayCommentsReadCommentsPageQuery",selections:[{alias:null,args:t,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[v],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[a,c,h,d,e,f,g,i,j,k,l,m,n,o,p,q,r,s],kind:"Operation",name:"CometUFICommentsProviderForDisplayCommentsReadCommentsPageQuery",selections:[{alias:null,args:t,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},v,u],storageKey:null}]},params:{id:b("CometUFICommentsProviderForDisplayCommentsReadCommentsPageQuery_facebookRelayOperation"),metadata:{},name:"CometUFICommentsProviderForDisplayCommentsReadCommentsPageQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("CometUFICommentsProviderForDisplayComments_displayCommentsHighlightedComments.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"InlineDataFragment",name:"CometUFICommentsProviderForDisplayComments_displayCommentsHighlightedComments"};e.exports=a}),null);
__d("CometUFICommentsProviderForDisplayComments_displayCommentsMetadata.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"InlineDataFragment",name:"CometUFICommentsProviderForDisplayComments_displayCommentsMetadata"};e.exports=a}),null);
__d("CometUFICommentsProviderForDisplayComments_feedback.graphql",["CometUFICommentsProviderForDisplayCommentsQuery.graphql"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=["display_comments"],c={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},d=[c],e={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},f={kind:"Variable",name:"use_default_actor",variableName:"useDefaultActor"};return{argumentDefinitions:[{kind:"RootArgument",name:"UFI2CommentsProvider_commentsKey"},{defaultValue:!1,kind:"LocalArgument",name:"__false"},{defaultValue:!0,kind:"LocalArgument",name:"__true"},{defaultValue:null,kind:"LocalArgument",name:"after"},{defaultValue:null,kind:"LocalArgument",name:"before"},{kind:"RootArgument",name:"displayCommentsContextEnableComment"},{kind:"RootArgument",name:"displayCommentsContextIsAdPreview"},{kind:"RootArgument",name:"displayCommentsContextIsAggregatedShare"},{kind:"RootArgument",name:"displayCommentsContextIsStorySet"},{kind:"RootArgument",name:"displayCommentsFeedbackContext"},{kind:"RootArgument",name:"feedLocation"},{kind:"RootArgument",name:"feedbackSource"},{defaultValue:null,kind:"LocalArgument",name:"first"},{kind:"RootArgument",name:"focusCommentID"},{defaultValue:null,kind:"LocalArgument",name:"includeHighlightedComments"},{defaultValue:null,kind:"LocalArgument",name:"includeNestedComments"},{defaultValue:null,kind:"LocalArgument",name:"initialViewOption"},{defaultValue:null,kind:"LocalArgument",name:"isInitialFetch"},{defaultValue:null,kind:"LocalArgument",name:"isPaginating"},{defaultValue:null,kind:"LocalArgument",name:"last"},{kind:"RootArgument",name:"scale"},{defaultValue:null,kind:"LocalArgument",name:"topLevelViewOption"},{kind:"RootArgument",name:"useDefaultActor"},{defaultValue:null,kind:"LocalArgument",name:"viewOption"}],kind:"Fragment",metadata:{connection:[{count:null,cursor:null,direction:"bidirectional",path:a}],refetch:{connection:{forward:{count:"first",cursor:"after"},backward:{count:"last",cursor:"before"},path:a},fragmentPathInResult:["node"],operation:b("CometUFICommentsProviderForDisplayCommentsQuery.graphql"),identifierField:"id"}},name:"CometUFICommentsProviderForDisplayComments_feedback",selections:[c,{alias:null,args:null,kind:"ScalarField",name:"subscription_target_id",storageKey:null},{alias:"display_comments",args:[{kind:"Variable",name:"__dynamicKey",variableName:"UFI2CommentsProvider_commentsKey"},{kind:"Variable",name:"comment_order",variableName:"viewOption"},{kind:"Variable",name:"feedback_source",variableName:"feedbackSource"},{kind:"Variable",name:"focus_comment_id",variableName:"focusCommentID"}],concreteType:"DisplayCommentsConnection",kind:"LinkedField",name:"__UFI2CommentsProvider_feedback_display_comments_ufi2_comments",plural:!1,selections:[{condition:"includeHighlightedComments",kind:"Condition",passingValue:!0,selections:[{kind:"InlineDataFragmentSpread",name:"CometUFICommentsProviderForDisplayComments_displayCommentsHighlightedComments",selections:[{alias:null,args:null,concreteType:"Comment",kind:"LinkedField",name:"highlighted_comments",plural:!0,selections:[{args:null,kind:"FragmentSpread",name:"CometUFIRepliesExpander_highlightedComments"}],storageKey:null}],args:null,argumentDefinitions:[]}]},{condition:"isPaginating",kind:"Condition",passingValue:!1,selections:[{kind:"InlineDataFragmentSpread",name:"CometUFICommentsProviderForDisplayComments_displayCommentsMetadata",selections:[{alias:null,args:null,kind:"ScalarField",name:"comment_order",storageKey:null},{alias:null,args:null,concreteType:"Comment",kind:"LinkedField",name:"expanded_sub_reply_parents",plural:!0,selections:d,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_initially_expanded",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"page_size",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reply_comment_order",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"should_render_composer_preemptively",storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"ufi2_connection_generation",storageKey:null}]}],args:null,argumentDefinitions:[]}]},{alias:null,args:null,kind:"ScalarField",name:"after_count",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"before_count",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"count",storageKey:null},{alias:null,args:null,concreteType:"DisplayCommentsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Comment",kind:"LinkedField",name:"node",plural:!1,selections:[c,{alias:null,args:null,kind:"ScalarField",name:"legacy_fbid",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"author",plural:!1,selections:[e,c,{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_author_weak_reference",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"created_time",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"spam_display_mode",storageKey:null},{args:null,kind:"FragmentSpread",name:"CometUFIComment_comment"},{args:null,kind:"FragmentSpread",name:"CometUFICommentEditor_comment"},{condition:"includeNestedComments",kind:"Condition",passingValue:!1,selections:[{args:null,kind:"FragmentSpread",name:"CometUFIFullThreadedReplyContainer_comment"}]},{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:[c,{alias:null,args:[{kind:"Variable",name:"location",variableName:"feedLocation"},f],kind:"ScalarField",name:"can_viewer_comment",storageKey:null},{alias:null,args:[f],kind:"ScalarField",name:"comment_composer_placeholder",storageKey:null},{condition:"includeNestedComments",kind:"Condition",passingValue:!0,selections:[{args:[{kind:"Variable",name:"includeHighlightedComments",variableName:"__true"},{kind:"Variable",name:"includeNestedComments",variableName:"__false"},{kind:"Variable",name:"isInitialFetch",variableName:"isInitialFetch"},{kind:"Variable",name:"topLevelViewOption",variableName:"topLevelViewOption"}],kind:"FragmentSpread",name:"CometUFICommentList_feedback"}]}],storageKey:null},{alias:null,args:null,concreteType:"InlineSurveyStoryActionLink",kind:"LinkedField",name:"inline_survey_config",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"UFI2CommentQualitySurvey_inlineSurveyConfig"}],storageKey:null},{alias:null,args:null,concreteType:"Comment",kind:"LinkedField",name:"reply_parent_comment",plural:!1,selections:d,storageKey:null},{alias:"threading_depth",args:null,kind:"ScalarField",name:"depth",storageKey:null},{args:null,kind:"FragmentSpread",name:"UFI2CommentQualitySurvey_comment"},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"client_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"optimistic_action",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"optimistic_error",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reply_comment_parent_fbid",storageKey:null}]},e],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"page_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"end_cursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_next_page",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_previous_page",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"start_cursor",storageKey:null}],storageKey:null}],storageKey:null}],type:"Feedback",abstractKey:null}}();e.exports=a}),null);
__d("cometUFIComposerAssociateReplyWithParentPlugin_plugin$normalization.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"SplitOperation",metadata:{},name:"cometUFIComposerAssociateReplyWithParentPlugin_plugin$normalization",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}]};e.exports=a}),null);
__d("cometUFIComposerAssociateReplyWithParentPlugin_plugin.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"cometUFIComposerAssociateReplyWithParentPlugin_plugin",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],type:"CommentComposerAssociateReplyWithParentPlugin",abstractKey:null};e.exports=a}),null);
__d("cometUFIComposerAvatarPlugin_plugin$normalization.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"SplitOperation",metadata:{},name:"cometUFIComposerAvatarPlugin_plugin$normalization",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}]};e.exports=a}),null);
__d("cometUFIComposerAvatarPlugin_plugin.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"cometUFIComposerAvatarPlugin_plugin",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],type:"CommentComposerAvatarPlugin",abstractKey:null};e.exports=a}),null);
__d("cometUFIComposerAvatarPlugin_pluginData.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"InlineDataFragment",name:"cometUFIComposerAvatarPlugin_pluginData"};e.exports=a}),null);
__d("cometUFIComposerDelightsPlugin_plugin$normalization.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"SplitOperation",metadata:{},name:"cometUFIComposerDelightsPlugin_plugin$normalization",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}]};e.exports=a}),null);
__d("cometUFIComposerDelightsPlugin_plugin.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"cometUFIComposerDelightsPlugin_plugin",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],type:"CommentComposerDelightsPlugin",abstractKey:null};e.exports=a}),null);
__d("cometUFIComposerEmojiPlugin_plugin$normalization.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"SplitOperation",metadata:{},name:"cometUFIComposerEmojiPlugin_plugin$normalization",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}]};e.exports=a}),null);
__d("cometUFIComposerEmojiPlugin_plugin.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"cometUFIComposerEmojiPlugin_plugin",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],type:"CommentComposerEmojiPlugin",abstractKey:null};e.exports=a}),null);
__d("cometUFIComposerEmojiPlugin_pluginData.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"InlineDataFragment",name:"cometUFIComposerEmojiPlugin_pluginData"};e.exports=a}),null);
__d("cometUFIComposerEmoticonPlugin_plugin$normalization.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"SplitOperation",metadata:{},name:"cometUFIComposerEmoticonPlugin_plugin$normalization",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}]};e.exports=a}),null);
__d("cometUFIComposerEmoticonPlugin_plugin.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"cometUFIComposerEmoticonPlugin_plugin",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],type:"CommentComposerEmoticonPlugin",abstractKey:null};e.exports=a}),null);
__d("cometUFIComposerEmoticonPlugin_pluginData.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"InlineDataFragment",name:"cometUFIComposerEmoticonPlugin_pluginData"};e.exports=a}),null);
__d("cometUFIComposerHashtagPlugin_plugin$normalization.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"SplitOperation",metadata:{},name:"cometUFIComposerHashtagPlugin_plugin$normalization",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}]};e.exports=a}),null);
__d("cometUFIComposerHashtagPlugin_plugin.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"cometUFIComposerHashtagPlugin_plugin",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],type:"CommentComposerHashtagPlugin",abstractKey:null};e.exports=a}),null);
__d("cometUFIComposerMentionsPlugin_plugin$normalization.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"SplitOperation",metadata:{},name:"cometUFIComposerMentionsPlugin_plugin$normalization",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}]};e.exports=a}),null);
__d("cometUFIComposerMentionsPlugin_plugin.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"cometUFIComposerMentionsPlugin_plugin",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],type:"CommentComposerMentionsPlugin",abstractKey:null};e.exports=a}),null);
__d("cometUFIComposerPrefillMentionPlugin_plugin$normalization.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"SplitOperation",metadata:{},name:"cometUFIComposerPrefillMentionPlugin_plugin$normalization",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}]};e.exports=a}),null);
__d("cometUFIComposerPrefillMentionPlugin_plugin.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"cometUFIComposerPrefillMentionPlugin_plugin",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],type:"CommentComposerPrefillMentionPlugin",abstractKey:null};e.exports=a}),null);
__d("cometUFIComposerSetReplyClickedPlugin_plugin$normalization.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"SplitOperation",metadata:{},name:"cometUFIComposerSetReplyClickedPlugin_plugin$normalization",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}]};e.exports=a}),null);
__d("cometUFIComposerSetReplyClickedPlugin_plugin.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"cometUFIComposerSetReplyClickedPlugin_plugin",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],type:"CommentComposerSetReplyClickedPlugin",abstractKey:null};e.exports=a}),null);
__d("cometUFIComposerStateSnapshotPlugin_plugin$normalization.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"SplitOperation",metadata:{},name:"cometUFIComposerStateSnapshotPlugin_plugin$normalization",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}]};e.exports=a}),null);
__d("cometUFIComposerStateSnapshotPlugin_plugin.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"cometUFIComposerStateSnapshotPlugin_plugin",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],type:"CommentComposerStateSnapshotPlugin",abstractKey:null};e.exports=a}),null);
__d("cometUFIComposerStickersPlugin_next_plugin$normalization.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"SplitOperation",metadata:{},name:"cometUFIComposerStickersPlugin_next_plugin$normalization",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}]};e.exports=a}),null);
__d("cometUFIComposerStickersPlugin_next_plugin.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"cometUFIComposerStickersPlugin_next_plugin",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],type:"CometComposerCometizedStickersPlugin",abstractKey:null};e.exports=a}),null);
__d("cometUFIComposerStickersPlugin_next_pluginData.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"InlineDataFragment",name:"cometUFIComposerStickersPlugin_next_pluginData"};e.exports=a}),null);
__d("cometUFIComposerLiveTypingBroadcastPlugin_plugin$normalization.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"SplitOperation",metadata:{},name:"cometUFIComposerLiveTypingBroadcastPlugin_plugin$normalization",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}]};e.exports=a}),null);
__d("cometUFIComposerLiveTypingBroadcastPlugin_plugin.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"cometUFIComposerLiveTypingBroadcastPlugin_plugin",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],type:"CommentComposerLiveTypingBroadcastPlugin",abstractKey:null};e.exports=a}),null);
__d("cometUFIComposerLiveTypingBroadcastPlugin_pluginData.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"InlineDataFragment",name:"cometUFIComposerLiveTypingBroadcastPlugin_pluginData"};e.exports=a}),null);
__d("cometUFIComposerWriteToComposerPlugin_plugin$normalization.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"SplitOperation",metadata:{},name:"cometUFIComposerWriteToComposerPlugin_plugin$normalization",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}]};e.exports=a}),null);
__d("cometUFIComposerWriteToComposerPlugin_plugin.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"cometUFIComposerWriteToComposerPlugin_plugin",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],type:"CommentComposerWriteToComposerPlugin",abstractKey:null};e.exports=a}),null);
__d("FishbowlCommentUtils",[],(function(a,b,c,d,e,f){"use strict";function a(a){switch(a){case"FISHBOWL_GUESTS":case"FISHBOWL_NORMIES":case"FISHBOWL_NORMIES_ALL_COMMENTS":case"FISHBOWL_NORMIES_MOST_RELEVANT":case"FISHBOWL_NORMIES_RECENT_ACTIVITY":return!0;default:return!1}}f.isFishbowlCommentOrderingMode=a}),66);
__d("CometStickerPickerStickerSearchCard.entrypoint",["CometStickerPickerFlyoutTagSelectorRoot.entrypoint","JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";a=c("JSResourceForInteraction")("CometStickerPickerStickerSearchCard.react").__setRef("CometStickerPickerStickerSearchCard.entrypoint");b={getPreloadProps:function(a){var b=a.flyoutTagsCount,d=a.flyoutTagsCursor;a=a.stickerInterface;b={count:b,cursor:d};return{entryPoints:{flyoutTagSelectorEntrypointReference:{entryPoint:c("CometStickerPickerFlyoutTagSelectorRoot.entrypoint"),entryPointParams:b}},extraProps:{stickerInterface:a}}},root:a};g["default"]=b}),98);
__d("CometStickerPickerCard.entrypoint",["CometStickerPickerCardQuery$Parameters","CometStickerPickerStickerSearchCard.entrypoint","JSResourceForInteraction","WebPixelRatio"],(function(a,b,c,d,e,f,g){"use strict";a=c("JSResourceForInteraction")("CometStickerPickerCard.react").__setRef("CometStickerPickerCard.entrypoint");b={getPreloadProps:function(a){var b=a.feedbackID,e=a.stickerInterface;a=babelHelpers.objectWithoutPropertiesLoose(a,["feedbackID","stickerInterface"]);a=babelHelpers["extends"]({},a,{stickerInterface:e});a;return{entryPoints:{stickerSearchEntrypointReference:{entryPoint:c("CometStickerPickerStickerSearchCard.entrypoint"),entryPointParams:a}},extraProps:{feedbackTargetID:b,stickerInterface:e},queries:{stickerPickerQueryReference:{parameters:c("CometStickerPickerCardQuery$Parameters"),variables:{feedbackID:b,scale:d("WebPixelRatio").get(),stickerInterface:e}}}}},root:a};g["default"]=b}),98);
__d("CometStickerPickerPopoverRoot.entrypoint",["CometStickerPickerCard.entrypoint","JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";a=c("JSResourceForInteraction")("CometStickerPickerPopoverRoot.react").__setRef("CometStickerPickerPopoverRoot.entrypoint");b={getPreloadProps:function(a){a=babelHelpers["extends"]({},a);a;return{entryPoints:{stickerPickerCardEntrypointReference:{entryPoint:c("CometStickerPickerCard.entrypoint"),entryPointParams:a}}}},root:a};g["default"]=b}),98);
__d("CometStickerPickerCardPopoverRootWithPresetProps",["CometStickerPickerPopoverRoot.entrypoint","JSResourceForInteraction","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h=c("JSResourceForInteraction")("logStickersFlyoutHasOpened").__setRef("CometStickerPickerCardPopoverRootWithPresetProps");a={props:{onVisibilityChange:function(a){a===!0&&c("promiseDone")(h.load().then(function(a){a()}))}},resource:c("CometStickerPickerPopoverRoot.entrypoint")};g["default"]=a}),98);
__d("CometUFICommentListStateConfig",[],(function(a,b,c,d,e,f){"use strict";a=10;f.MIN_REPLIES_TO_SHOW_COLLAPSER=a}),66);
__d("CometUFICommentListState",["CometUFICommentListStateConfig","ErrorNormalizeUtils","FBLogger","UFI2ViewOption","gkx","recoverableViolation","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";function h(a){var b=a.count,c=a.direction,d=a.error,e=a.hasMore,f=a.isLoading,g=a.pageSize;a=a.totalCount;if(a!=null&&a===0)return null;if(b===0)return null;return!e?null:{__type:"PAGER",count:Math.min(b,g),direction:c,status:{error:d,pending:f}}}function i(a){var b=a.count,c=a.expanded;a=a.minCountToShowCollapser;if(!c)return null;if(a==null)return null;return b<=a?null:{__type:"REPLIES_COLLAPSER",count:b}}function j(a){var b=a.error,c=a.expanded,d=a.isLoading;a=a.totalCount;return c||a===0?null:{__type:"REPLIES_EXPANDER",count:a,status:{error:b,pending:d}}}function k(a){var b=a.direction;a=a.page;if(b==="forward"){b=Math.max(0,a.afterCount-1);return babelHelpers["extends"]({},a,{afterCount:b,hasNext:b>0})}b=Math.max(0,a.beforeCount-1);return babelHelpers["extends"]({},a,{beforeCount:b,hasPrevious:b>0})}function l(a,b){if(a==="forward"){a=b.afterCount+1;return babelHelpers["extends"]({},b,{afterCount:a,hasNext:a>0})}a=b.beforeCount+1;return babelHelpers["extends"]({},b,{beforeCount:a,hasPrevious:a>0})}function aa(a,b,c){var d,e=a.args.commentID,f=!1,g=!1,h=[].concat(b.commentPages),i=b.commentPages.find(function(a){return a.commentIDs.includes(c)});d=(d=i==null?void 0:i.state)!=null?d:b.newCommentsPage.visibleStates[c];if(d==="HIDDEN")if(i!=null){var k=b.commentPages.indexOf(i);h=h.map(function(a,b){return k!==b?l(k<b?"backward":"forward",a):babelHelpers["extends"]({},a)});i=b.commentPages.findIndex(function(a){return a.state==="VISIBLE"});g=k<i;f=k>i}else g=!0;else d==null&&(g=b.pagers.backward!=null&&b.pagers.forward==null,f=b.pagers.forward!=null&&b.pagers.backward==null);i=babelHelpers["extends"]({},b.commentsByID);delete i[e];return babelHelpers["extends"]({},b,{commentPages:h,commentsByID:i,pagers:{backward:g&&b.pagers.backward!=null?babelHelpers["extends"]({},b.pagers.backward,{count:b.pagers.backward.count+1}):b.pagers.backward,forward:f&&b.pagers.forward!=null?babelHelpers["extends"]({},b.pagers.forward,{count:b.pagers.forward.count+1}):b.pagers.forward},repliesExpander:j({error:(h=(d=b.repliesExpander)==null?void 0:(e=d.status)==null?void 0:e.error)!=null?h:null,expanded:b.expanded,isLoading:(f=(i=b.repliesExpander)==null?void 0:(g=i.status)==null?void 0:g.pending)!=null?f:!1,totalCount:a.args.totalCount})})}function m(a,b){var d=n(a,b);if(a.__type!=="INITIAL_STATE"&&b==null)throw c("unrecoverableViolation")("Expected state not to be null","ufi2");return d}function n(a,b){if(a.__type==="INITIAL_STATE"){var e,f=a.args,g=f.afterCount,m=f.beforeCount,n=f.canViewerComment,o=f.commentIDs,p=f.commentsByID,r=f.feedbackTargetID,v=f.hasNext,w=f.hasPrevious,x=f.hiddenCommentIDs,y=f.initiallyExpanded,z=f.isListVisible,A=f.pageSize,B=f.shouldRenderComposerPreemptively,C=f.topLevelFeedbackTargetID,D=f.totalCount;f=f.viewOption;e={backward:h({count:m,direction:"backward",error:null,hasMore:w,isLoading:(e=b==null?void 0:(e=b.pagers)==null?void 0:(e=e.backward)==null?void 0:(e=e.status)==null?void 0:e.pending)!=null?e:!1,pageSize:A,totalCount:D}),forward:h({count:g,direction:"forward",error:null,hasMore:v,isLoading:(e=b==null?void 0:(e=b.pagers)==null?void 0:(e=e.forward)==null?void 0:(e=e.status)==null?void 0:e.pending)!=null?e:!1,pageSize:A,totalCount:D})};var ia={};x.forEach(function(a){ia[a]="COLLAPSED"});x={canViewerComment:n,commentPages:o.length>0?[{__type:"COMMENTS_PAGE",afterCount:g,beforeCount:m,commentIDs:o,hasNext:v,hasPrevious:w,state:"VISIBLE"}]:[],commentsByID:p,commentsHiddenByViewer:ia,expanded:(A=b==null?void 0:b.expanded)!=null?A:y,feedbackTargetID:r,hasPaged:{backward:!1,forward:!1},isListVisible:z,locallyComposedCommentIDs:[],newCommentsPage:{__type:"NEW_COMMENTS_PAGE",commentIDs:[],visibleStates:{}},pagers:e,shouldComposerRenderWhenListIsExpanded:B,topLevelFeedbackTargetID:C,viewOption:f};if(a.args.depth===0)return babelHelpers["extends"]({},x,{__type:"DEPTH_0",status:{error:null,pending:!1}});n=a.args;g=n.minCountToShowCollapser;m=n.parentCommentID;v=null;b!=null&&b.__type==="DEPTH_1"&&(v=b.repliesExpander);m==null&&c("recoverableViolation")("No parent comment ID provided when setting initial state for nested\n          comment list","ufi2");return babelHelpers["extends"]({},x,{__type:"DEPTH_1",parentCommentID:m,repliesCollapser:i({count:o.length,expanded:y,minCountToShowCollapser:g}),repliesExpander:j({error:null,expanded:(w=b==null?void 0:b.expanded)!=null?w:y,isLoading:(r=(p=v)==null?void 0:(A=p.status)==null?void 0:A.pending)!=null?r:!1,totalCount:D})})}if(b==null)throw c("unrecoverableViolation")("Expected state not to be null","ufi2");switch(a.__type){case"COLLAPSE_LIST":z=a.args;e=z.depth;B=z.totalCount;if(b.expanded===!1)return b;if(b.__type==="DEPTH_0")return babelHelpers["extends"]({},b,{expanded:!1});C=u.getCommentsCount({depth:e,state:b})===0;f=B>0&&C===!0;f&&c("FBLogger")("ufi2").warn("UFI2CommentsListState.updater(...): COLLAPSE_LIST: expected list not to be empty if connection is not empty");return babelHelpers["extends"]({},b,{expanded:!1,repliesCollapser:null,repliesExpander:j({error:b.repliesExpander?b.repliesExpander.status.error:null,expanded:!1,isLoading:!1,totalCount:B})});case"DELETE_COMMENT":n=a.args;var E=n.commentID;x=n.depth;m=b.commentPages;o=b.locallyComposedCommentIDs;var F=b.newCommentsPage;if(m.length===0&&F.commentIDs.length===0)return b;g=F.commentIDs.filter(function(a){return a!==E});w=u.getVisibleCommentsCount({depth:x,state:b});y=g.length<F.commentIDs.length;if(y){var ja={};g.forEach(function(a){ja[a]=F.visibleStates[a]});v=babelHelpers["extends"]({},F,{commentIDs:g,visibleStates:ja});p=m.map(function(a){return k({direction:"backward",page:a})});if(b.__type==="DEPTH_0")return babelHelpers["extends"]({},b,{__type:"DEPTH_0",commentPages:p,newCommentsPage:v});if(a.args.depth===0)throw c("unrecoverableViolation")("CometUFICommentList.updater(...): depth should be 1 or greater","ufi2");A=a.args.minCountToShowCollapser;return babelHelpers["extends"]({},b,{__type:"DEPTH_1",commentPages:p,newCommentsPage:v,repliesCollapser:i({count:w-1,expanded:b.expanded,minCountToShowCollapser:A})})}var G=null,H=!1;r=m.map(function(a,b){if(H)return k({direction:"backward",page:a});var c=a.commentIDs.filter(function(a){return a!==E});if(c.length<a.commentIDs.length){H=!0;G=b;return babelHelpers["extends"]({},a,{commentIDs:c})}return a}).map(function(a,b){return a&&G!=null&&b<G?k({direction:"forward",page:a}):a}).filter(Boolean);if(H===!1){c("FBLogger")("ufi2").warn("CometUFICommentListState.updater(...): Tried deleting a comment that isnt present");return b}D=o.filter(function(a){return a!==E});if(b.__type==="DEPTH_0")return babelHelpers["extends"]({},b,{__type:"DEPTH_0",commentPages:r,locallyComposedCommentIDs:D});if(a.args.depth===0)throw c("unrecoverableViolation")("CometUFICommentList.updater(...): depth should be 1 or greater","ufi2");return babelHelpers["extends"]({},b,{__type:"DEPTH_1",commentPages:r,locallyComposedCommentIDs:D,repliesCollapser:i({count:w-1,expanded:b.expanded,minCountToShowCollapser:a.args.minCountToShowCollapser})});case"EXPAND_HIDDEN_COMMENTS":z=a.args.commentIDs;var ka=b.commentsHiddenByViewer,I=babelHelpers["extends"]({},ka);z.forEach(function(a){var b=ka[a];if(b==null){c("FBLogger")("ufi2").warn("CometUFICommentListState.updater(...): Tried expanding a comment that is not hidden");return}b==="COLLAPSED"&&(I[a]="EXPANDED")});return b.__type==="DEPTH_0"?babelHelpers["extends"]({},b,{__type:"DEPTH_0",commentsHiddenByViewer:I}):babelHelpers["extends"]({},b,{__type:"DEPTH_1",commentsHiddenByViewer:I});case"EXPAND_LIST":e=a.args;C=e.depth;f=e.totalCount;B=b.commentPages;n=b.newCommentsPage;if(b.expanded===!0&&b.shouldComposerRenderWhenListIsExpanded===!0)return b;if(C!==0&&u.isRepliesExpanderLoading({depth:C,state:b}))return b;if(f===0)return b.__type==="DEPTH_0"?babelHelpers["extends"]({},b,{__type:"DEPTH_0",expanded:!0,shouldComposerRenderWhenListIsExpanded:!0}):babelHelpers["extends"]({},b,{__type:"DEPTH_1",expanded:!0,repliesCollapser:null,repliesExpander:null,shouldComposerRenderWhenListIsExpanded:!0});x=u.getVisibleCommentsCount({depth:C,state:b});if(x===0){if(n.commentIDs.length===0&&B.length===0)return b.__type==="DEPTH_0"?babelHelpers["extends"]({},b,{__type:"DEPTH_0",expanded:!0,shouldComposerRenderWhenListIsExpanded:!0,status:{error:null,pending:!0}}):babelHelpers["extends"]({},b,{__type:"DEPTH_1",expanded:!1,repliesCollapser:null,repliesExpander:j({error:null,expanded:!1,isLoading:!0,totalCount:f})});y=B.length>0?B[0]:null;g=y!=null?[babelHelpers["extends"]({},y,{state:"VISIBLE"})].concat(B.slice(1)):B;var la={};n.commentIDs.forEach(function(a){la[a]="VISIBLE"});p=babelHelpers["extends"]({},n,{visibleStates:la});if(b.__type==="DEPTH_0")return babelHelpers["extends"]({},b,{__type:"DEPTH_0",commentPages:g,expanded:!0,newCommentsPage:p,shouldComposerRenderWhenListIsExpanded:!0});if(a.args.depth===0)throw c("unrecoverableViolation")("CometUFICommentList.updater(...): depth should be 1 or greater","ufi2");v=(y!=null?y.commentIDs.length:0)+n.commentIDs.length;return babelHelpers["extends"]({},b,{__type:"DEPTH_1",commentPages:g,expanded:!0,newCommentsPage:p,repliesCollapser:i({count:v,expanded:!0,minCountToShowCollapser:a.args.minCountToShowCollapser}),repliesExpander:null,shouldComposerRenderWhenListIsExpanded:!0})}if(b.__type==="DEPTH_0")return babelHelpers["extends"]({},b,{__type:"DEPTH_0",expanded:!0,shouldComposerRenderWhenListIsExpanded:!0});if(a.args.depth===0)throw c("unrecoverableViolation")("CometUFICommentList.updater(...): depth should be 1 or greater","ufi2");return babelHelpers["extends"]({},b,{__type:"DEPTH_1",expanded:!0,repliesCollapser:i({count:x,expanded:!0,minCountToShowCollapser:a.args.minCountToShowCollapser}),repliesExpander:null,shouldComposerRenderWhenListIsExpanded:!0});case"FAIL_COMMENT_PAGINATION":A=a.args;m=A.depth;o=A.direction;r=A.error;if(o==="forward"&&m!==0&&b.__type==="DEPTH_1"&&u.isRepliesExpanderLoading({depth:m,state:b}))return b.repliesExpander!=null?babelHelpers["extends"]({},b,{__type:"DEPTH_1",repliesExpander:babelHelpers["extends"]({},b.repliesExpander,{status:babelHelpers["extends"]({},b.repliesExpander.status,{error:r,pending:!1})})}):b;D=u.isPagerLoading({depth:m,direction:o,state:b})===!0;if(D===!1)return b;w=b.pagers.backward;z=b.pagers.forward;e=babelHelpers["extends"]({},b.pagers,{backward:o==="backward"&&w!=null?babelHelpers["extends"]({},w,{status:{error:r,pending:!1}}):w,forward:o==="forward"&&z!=null?babelHelpers["extends"]({},z,{status:{error:r,pending:!1}}):z});if(b.__type==="DEPTH_0")return babelHelpers["extends"]({},b,{__type:"DEPTH_0",pagers:e});else return babelHelpers["extends"]({},b,{__type:"DEPTH_1",pagers:e});case"HIDE_COMMENTS":C=a.args.commentIDs;f=b.commentsHiddenByViewer;var J=babelHelpers["extends"]({},f);C.forEach(function(a){J[a]="LOCALLY_HIDDEN"});return b.__type==="DEPTH_0"?babelHelpers["extends"]({},b,{__type:"DEPTH_0",commentsHiddenByViewer:J}):babelHelpers["extends"]({},b,{__type:"DEPTH_1",commentsHiddenByViewer:J});case"RECEIVE_COMMENTS_PAGE":B=b.commentPages;y=b.locallyComposedCommentIDs;var K=b.newCommentsPage;n=b.pagers;g=a.args;var L=g.commentIDs;p=g.depth;v=g.direction;x=g.hiddenCommentIDs;A=g.pageSize;var M=u.isPagerLoading({depth:p,direction:v,state:b})===!0;m=p!==0&&u.isRepliesExpanderLoading({depth:p,state:b});var ma=p===0&&!M;D=K.commentIDs.filter(function(a){return!(L.includes(a)&&(!ma||K.visibleStates[a]==="HIDDEN"))});w=y.filter(function(a){return!L.includes(a)});var N={};D.forEach(function(a){N[a]=K.visibleStates[a]});o=babelHelpers["extends"]({},K,{commentIDs:D,visibleStates:N});var na=new Set(B.reduce(function(a,b){return a.concat(b.commentIDs)},[]).concat(ma?D:[]));r=L.filter(function(a){return!na.has(a)});z=b.shouldComposerRenderWhenListIsExpanded===!0||M===!0||m===!0;var O=babelHelpers["extends"]({},b.commentsHiddenByViewer);x.forEach(function(a){Object.prototype.hasOwnProperty.call(O,a)||(O[a]="COLLAPSED")});e=na.size;if(p!==0&&a.args.direction==="forward"&&e===0){f=a.args;C=f.afterCount;g=f.hasNext;v={backward:null,forward:h({count:C,direction:"forward",error:null,hasMore:g,isLoading:!1,pageSize:A})};var P=b.expanded||m?"VISIBLE":"HIDDEN";y={__type:"COMMENTS_PAGE",afterCount:C,beforeCount:D.length,commentIDs:r,hasNext:g,hasPrevious:!1,state:P};D.forEach(function(a){N[a]=P});o=babelHelpers["extends"]({},K,{commentIDs:D,visibleStates:N});if(a.args.depth===0)throw c("unrecoverableViolation")("CometUFICommentList.updater(...): depth should be 1 or greater","ufi2");if(b.__type!=="DEPTH_1")throw c("unrecoverableViolation")("CometUFICommentList.updater(...): depth should be 1 or greater","ufi2");x=a.args.minCountToShowCollapser;return babelHelpers["extends"]({},b,{__type:"DEPTH_1",commentPages:[y],commentsHiddenByViewer:O,expanded:P==="VISIBLE",locallyComposedCommentIDs:w,newCommentsPage:o,pagers:v,repliesCollapser:i({count:r.length,expanded:m,minCountToShowCollapser:x}),repliesExpander:m?null:b.repliesExpander,shouldComposerRenderWhenListIsExpanded:z})}e=B[0];f=B[B.length-1];C=u.getVisibleCommentsCount({depth:p,state:b});if(a.args.direction==="backward"){if(M&&e!=null&&e.state!=="VISIBLE")throw c("unrecoverableViolation")("Expected first available page to be visible if backward pager was loading when backward comments were received","ufi2");g=a.args;y=g.beforeCount;v=g.hasPrevious;x=y<=D.length;x&&(N={},o.commentIDs.forEach(function(a){N[a]=M?"VISIBLE":"HIDDEN"}),o=babelHelpers["extends"]({},o,{visibleStates:N}));p=y-o.commentIDs.length-w.length;g=babelHelpers["extends"]({},n,{backward:M?h({count:p,direction:"backward",error:null,hasMore:v&&!x,isLoading:!1,pageSize:A}):n.backward});e={__type:"COMMENTS_PAGE",afterCount:((D=e==null?void 0:e.afterCount)!=null?D:0)+((D=e==null?void 0:(p=e.commentIDs)==null?void 0:p.length)!=null?D:0),beforeCount:y,commentIDs:r,hasNext:!0,hasPrevious:v,state:M||m?"VISIBLE":"HIDDEN"};if(b.__type==="DEPTH_0")return babelHelpers["extends"]({},b,{__type:"DEPTH_0",commentPages:[e].concat(B),commentsHiddenByViewer:O,locallyComposedCommentIDs:w,newCommentsPage:o,pagers:g,shouldComposerRenderWhenListIsExpanded:z});if(a.args.depth===0)throw c("unrecoverableViolation")("CometUFICommentList.updater(...): depth should be 1 or greater","ufi2");p=a.args.minCountToShowCollapser;D=m?!0:b.expanded;y=C+(e.state==="VISIBLE"?r.length:0)+(x&&M?o.commentIDs.length:0);return babelHelpers["extends"]({},b,{__type:"DEPTH_1",commentPages:[e].concat(B),commentsHiddenByViewer:O,expanded:D,locallyComposedCommentIDs:w,newCommentsPage:o,pagers:g,repliesCollapser:i({count:y,expanded:D,minCountToShowCollapser:p}),repliesExpander:m?null:b.repliesExpander,shouldComposerRenderWhenListIsExpanded:z})}if(M&&f!=null&&f.state!=="VISIBLE")throw c("unrecoverableViolation")("Expected last available page to be visible if forward pager was loading when forward comments were received","ufi2");v=a.args;x=v.afterCount;e=v.hasNext;g=babelHelpers["extends"]({},n,{forward:M?h({count:x,direction:"forward",error:null,hasMore:e,isLoading:!1,pageSize:A}):n.forward});v={__type:"COMMENTS_PAGE",afterCount:x,beforeCount:B.length===0?o.commentIDs.length:((y=f==null?void 0:f.beforeCount)!=null?y:0)+((p=f==null?void 0:(D=f.commentIDs)==null?void 0:D.length)!=null?p:0),commentIDs:r,hasNext:e,hasPrevious:!0,state:M||m?"VISIBLE":"HIDDEN"};var Q=0;A=m?B.map(function(a){a.state==="HIDDEN"&&(Q+=a.commentIDs.length);return babelHelpers["extends"]({},a,{state:"VISIBLE"})}):B;if(b.__type==="DEPTH_0")return babelHelpers["extends"]({},b,{__type:"DEPTH_0",commentPages:[].concat(A,[v]),commentsHiddenByViewer:O,locallyComposedCommentIDs:w,newCommentsPage:o,pagers:g,shouldComposerRenderWhenListIsExpanded:z});if(a.args.depth===0)throw c("unrecoverableViolation")("CometUFICommentList.updater(...): depth should be 1 or greater","ufi2");n=a.args.minCountToShowCollapser;x=v.state==="VISIBLE"?C+Q+r.length:C+Q;y=m?!0:b.expanded;return babelHelpers["extends"]({},b,{__type:"DEPTH_1",commentPages:[].concat(A,[v]),commentsHiddenByViewer:O,expanded:y,locallyComposedCommentIDs:w,newCommentsPage:o,pagers:g,repliesCollapser:i({count:x,expanded:y,minCountToShowCollapser:n}),repliesExpander:m?null:b.repliesExpander,shouldComposerRenderWhenListIsExpanded:z});case"RECEIVE_NEW_COMMENT":f=a.args;var R=f.commentID;D=f.commentsComposedByThisUFI;p=f.depth;e=f.pageSize;B=f.prevTotalCount;r=f.totalCount;C=b.commentPages;A=b.commentsByID;v=b.expanded;w=b.locallyComposedCommentIDs;var S=b.newCommentsPage;o=b.pagers;g=b.viewOption;x=u.getCommentsCount({depth:p,state:b})===0;y=Object.prototype.hasOwnProperty.call(S.visibleStates,R)||C.some(function(a){return a.commentIDs.includes(R)});if(y)return b;n=A[R]!=null&&D!=null&&A[R].client_id!=null&&D.has(A[R].client_id);var T=!d("UFI2ViewOption").shouldDisplayInReverse(g)&&b.__type!=="DEPTH_0";m=b.repliesExpander!=null?babelHelpers["extends"]({},b.repliesExpander,{count:Math.min(b.repliesExpander.count+1,r)}):null;if(C.length===0){f=babelHelpers["extends"]({},S,{commentIDs:[R].concat(S.commentIDs),visibleStates:babelHelpers["extends"]({},S.visibleStates,(z={},z[R]=v||n||p!==0&&x&&B===0?"VISIBLE":"HIDDEN",z))});y=n?[R].concat(w):w;if(b.__type==="DEPTH_0")return babelHelpers["extends"]({},b,{__type:"DEPTH_0",locallyComposedCommentIDs:y,newCommentsPage:f});if(a.args.depth===0)throw c("unrecoverableViolation")("CometUFICommentList.updater(...): depth should be 1 or greater","ufi2");D=a.args.minCountToShowCollapser;A=x&&B===0?!0:v;return babelHelpers["extends"]({},b,{__type:"DEPTH_1",expanded:A,locallyComposedCommentIDs:y,newCommentsPage:f,repliesCollapser:i({count:f.commentIDs.length,expanded:v,minCountToShowCollapser:D}),repliesExpander:m,shouldComposerRenderWhenListIsExpanded:!0})}g=C[0];z=q(b);x=p===0&&u.hasMoreInDirection({depth:p,direction:"forward",state:b,totalCount:r})&&!b.commentPages.some(function(a){return a.state==="VISIBLE"});if(!x&&n){var U=!1,V=babelHelpers["extends"]({},S.visibleStates),oa=[],W=[];A=(T?[].concat(C).reverse():C).map(function(a){if(!U&&a.state==="VISIBLE"){U=!0;S.commentIDs.forEach(function(a){V[a]==="VISIBLE"&&!t(b)?(delete V[a],W.push(a)):oa.push(a)});return babelHelpers["extends"]({},a,{commentIDs:T?[].concat(a.commentIDs,W.reverse(),[R]):[R].concat(W,a.commentIDs)})}return U?babelHelpers["extends"]({},a,{afterCount:T?a.afterCount+1+W.length:a.afterCount,beforeCount:T?a.beforeCount:a.beforeCount+1+W.length}):a});y=babelHelpers["extends"]({},S,{commentIDs:oa,visibleStates:V});f=[R].concat(w);if(b.__type==="DEPTH_0")return babelHelpers["extends"]({},b,{__type:"DEPTH_0",commentPages:A,locallyComposedCommentIDs:f,newCommentsPage:y});if(a.args.depth===0)throw c("unrecoverableViolation")("CometUFICommentList.updater(...): depth should be 1 or greater","ufi2");D=a.args.minCountToShowCollapser;var X=u.getVisibleCommentsCount({depth:p,state:b});return babelHelpers["extends"]({},b,{__type:"DEPTH_1",commentPages:T?A.reverse():A,locallyComposedCommentIDs:f,newCommentsPage:y,repliesCollapser:i({count:X+1,expanded:v,minCountToShowCollapser:D}),repliesExpander:m,shouldComposerRenderWhenListIsExpanded:!0})}else if(x){f={commentPages:C.map(function(a,b){return b===0?babelHelpers["extends"]({},a,{beforeCount:a.beforeCount+1,hasPrevious:!0}):a}),locallyComposedCommentIDs:n?[R].concat(w):w,newCommentsPage:babelHelpers["extends"]({},S,{commentIDs:[R].concat(S.commentIDs),visibleStates:babelHelpers["extends"]({},S.visibleStates,(A={},A[R]="VISIBLE",A))})};return b.__type==="DEPTH_0"?babelHelpers["extends"]({},b,f,{__type:"DEPTH_0"}):babelHelpers["extends"]({},b,f,{__type:"DEPTH_1"})}else if(z&&ca(b)){y=C.map(function(a){return babelHelpers["extends"]({},a,{beforeCount:a.beforeCount+1})});D=babelHelpers["extends"]({},S,{commentIDs:[R].concat(S.commentIDs),visibleStates:babelHelpers["extends"]({},S.visibleStates,(X={},X[R]="VISIBLE",X))});if(b.__type==="DEPTH_0")return babelHelpers["extends"]({},b,{__type:"DEPTH_0",commentPages:y,newCommentsPage:D});if(a.args.depth===0)throw c("unrecoverableViolation")("CometUFICommentList.updater(...): depth should be 1 or greater","ufi2");x=a.args.minCountToShowCollapser;n=u.getVisibleCommentsCount({depth:p,state:b});return babelHelpers["extends"]({},b,{__type:"DEPTH_1",commentPages:y,newCommentsPage:D,repliesCollapser:i({count:n+1,expanded:v,minCountToShowCollapser:x}),repliesExpander:m,shouldComposerRenderWhenListIsExpanded:!0})}else if(z&&S.commentIDs.length===0){w=o.backward!=null?babelHelpers["extends"]({},o,{backward:babelHelpers["extends"]({},o.backward,{count:Math.min(o.backward.count+1,e)})}):o;A=g.commentIDs.length<e;if(A){f=[babelHelpers["extends"]({},g,{commentIDs:[R].concat(g.commentIDs)})].concat(C.slice(1).map(function(a){return babelHelpers["extends"]({},a,{beforeCount:a.beforeCount+1})}));return b.__type==="DEPTH_0"?babelHelpers["extends"]({},b,{__type:"DEPTH_0",commentPages:f,pagers:w}):babelHelpers["extends"]({},b,{__type:"DEPTH_1",commentPages:f,pagers:w,repliesExpander:m})}X=[{__type:"COMMENTS_PAGE",afterCount:g.afterCount+g.commentIDs.length,beforeCount:0,commentIDs:[R],hasNext:!0,hasPrevious:!1,state:"HIDDEN"},babelHelpers["extends"]({},g,{beforeCount:1,hasPrevious:!0})].concat(C.slice(1).map(function(a){return babelHelpers["extends"]({},a,{beforeCount:a.beforeCount+1})}));return b.__type==="DEPTH_0"?babelHelpers["extends"]({},b,{__type:"DEPTH_0",commentPages:X,pagers:w}):babelHelpers["extends"]({},b,{__type:"DEPTH_1",commentPages:X,pagers:w,repliesExpander:m})}else{p=r<=B;y=p?C:C.map(function(a){return babelHelpers["extends"]({},a,{beforeCount:a.beforeCount+1,hasPrevious:!0})});D=o.backward!=null?babelHelpers["extends"]({},o,{backward:babelHelpers["extends"]({},o.backward,{count:p?o.backward.count:Math.min(o.backward.count+1,e)})}):o;v=babelHelpers["extends"]({},S,{commentIDs:[R].concat(S.commentIDs),visibleStates:babelHelpers["extends"]({},S.visibleStates,(n={},n[R]="HIDDEN",n))});return b.__type==="DEPTH_0"?babelHelpers["extends"]({},b,{__type:"DEPTH_0",commentPages:y,newCommentsPage:v,pagers:D}):babelHelpers["extends"]({},b,{__type:"DEPTH_1",commentPages:y,newCommentsPage:v,pagers:D,repliesExpander:m})}case"RECEIVE_REALTIME_COMMENT":var Y=a.args.commentID;x=Object.prototype.hasOwnProperty.call(b.newCommentsPage.visibleStates,Y)||b.commentPages.some(function(a){return a.commentIDs.includes(Y)});z=t(b);A=ga(b);f=ha(b);if(!d("UFI2ViewOption").shouldDisplayInReverse(b.viewOption)&&!z&&!A&&!f){if(d("UFI2ViewOption").expectedWasteComment(b.viewOption,b.__type==="DEPTH_0"))return b;c("FBLogger")("ufi2").warn("Unable to receive realtime comment for non chronological ordering mode %s",(g=b.viewOption)!=null?g:"(null ordering mode)");return b}if(x)return b;X=b.commentsByID[Y];r=X==null?void 0:(w=X.reply_parent_comment)==null?void 0:w.id;if((b.viewOption==="SUB_REPLIES"||b.viewOption==="CHRONO_SUB_REPLIES"||b.viewOption==="RANKED_SUB_REPLIES")&&b.__type==="DEPTH_1"&&r!=null&&b.parentCommentID!==r)return aa(a,b,r);B=u.getCommentsCount({depth:a.args.depth,state:b})===0;C=s(b).length===0;p=!a.args.hideCommentInPager&&B&&b.__type==="DEPTH_1";e=C&&!b.expanded;o=a.args.hideCommentInPager||!b.expanded&&!p||!B&&!ca(b)||z&&!B&&!ea(b);n=!e&&o===!0&&!(C&&b.pagers.forward!=null)&&!z;y=!e&&o&&!n;var pa=z;A={canViewerComment:b.canViewerComment,commentPages:b.commentPages.map(function(a){return pa?babelHelpers["extends"]({},a,{afterCount:a.afterCount+1,hasNext:!0}):babelHelpers["extends"]({},a,{beforeCount:a.beforeCount+1,hasPrevious:!0})}),commentsByID:b.commentsByID,commentsHiddenByViewer:b.commentsHiddenByViewer,expanded:b.expanded||p,feedbackTargetID:b.feedbackTargetID,hasPaged:b.hasPaged,locallyComposedCommentIDs:b.locallyComposedCommentIDs,newCommentsPage:babelHelpers["extends"]({},b.newCommentsPage,{commentIDs:pa?[].concat(b.newCommentsPage.commentIDs,[Y]):[Y].concat(b.newCommentsPage.commentIDs),visibleStates:babelHelpers["extends"]({},b.newCommentsPage.visibleStates,(v={},v[Y]=o?"HIDDEN":"VISIBLE",v))}),pagers:o?{backward:n?{__type:"PAGER",count:((A=(D=b.pagers)==null?void 0:(m=D.backward)==null?void 0:m.count)!=null?A:0)+1,direction:"backward",status:{error:(x=(f=b.pagers)==null?void 0:(g=f.backward)==null?void 0:g.status.error)!=null?x:null,pending:(r=(X=b.pagers)==null?void 0:(w=X.backward)==null?void 0:w.status.pending)!=null?r:!1}}:b.pagers.backward,forward:y?{__type:"PAGER",count:((e=(B=b.pagers)==null?void 0:(C=B.forward)==null?void 0:C.count)!=null?e:0)+1,direction:"forward",status:{error:(v=(z=b.pagers)==null?void 0:(p=z.forward)==null?void 0:p.status.error)!=null?v:null,pending:(m=(n=b.pagers)==null?void 0:(D=n.forward)==null?void 0:D.status.pending)!=null?m:!1}}:b.pagers.forward}:b.pagers,shouldComposerRenderWhenListIsExpanded:b.shouldComposerRenderWhenListIsExpanded,topLevelFeedbackTargetID:b.topLevelFeedbackTargetID,viewOption:b.viewOption};if(b.__type==="DEPTH_1"){return babelHelpers["extends"]({},b,A,{repliesCollapser:i({count:u.getVisibleCommentsCount({depth:a.args.depth,state:b})+(o?0:1),expanded:b.expanded,minCountToShowCollapser:d("CometUFICommentListStateConfig").MIN_REPLIES_TO_SHOW_COLLAPSER}),repliesExpander:j({error:(x=(f=b.repliesExpander)==null?void 0:(g=f.status)==null?void 0:g.error)!=null?x:null,expanded:b.expanded,isLoading:(r=(X=b.repliesExpander)==null?void 0:(w=X.status)==null?void 0:w.pending)!=null?r:!1,totalCount:a.args.totalCount})})}return b.__type==="DEPTH_0"?babelHelpers["extends"]({},b,A):b;case"RECEIVE_REFETCH_LIST":y=a.args.depth;B=b.feedbackTargetID;C=b.topLevelFeedbackTargetID;e=b.viewOption;if(y!==0)throw c("unrecoverableViolation")("Expected depth to be 0 for RECEIVE_REFETCH_LIST","ufi2");if(!u.isListLoading({depth:y,state:b}))throw c("unrecoverableViolation")("Expected list to be loading","ufi2");z=ba.getInitialState({args:babelHelpers["extends"]({},a.args,{depth:0,feedbackTargetID:B,initiallyExpanded:!0,topLevelFeedbackTargetID:C,viewOption:e}),state:null});if(z.__type!=="DEPTH_0")throw c("unrecoverableViolation")("Expected depth to be 0 for RECEIVE_REFETCH_LIST","ufi2");return babelHelpers["extends"]({},z,{__type:"DEPTH_0",expanded:b.expanded,status:{error:null,pending:!1}});case"RECEIVE_REPARENTED_COMMENT":if(b.__type==="DEPTH_0")return b;p=b.commentPages;v=b.newCommentsPage;n=a.args;var qa=n.commentID,ra=n.removedID;if(v.commentIDs.includes(ra)){D=v.commentIDs.indexOf(ra);m=[].concat(v.commentIDs);m.splice(D,0,qa);o=babelHelpers["extends"]({},v.visibleStates);o[qa]="VISIBLE";f=babelHelpers["extends"]({},v,{commentIDs:m,visibleStates:o});g=p.map(function(a){return l("backward",a)});return babelHelpers["extends"]({},b,{__type:"DEPTH_1",commentPages:g,newCommentsPage:f})}var sa=!1,ta=-1;x=p.map(function(a,b){if(sa)return l("backward",a);var c=a.commentIDs.indexOf(ra);if(c===-1)return a;var d=[].concat(a.commentIDs);d.splice(c,0,qa);ta=b;sa=!0;return babelHelpers["extends"]({},a,{commentIDs:d})}).map(function(a,b){return ta===-1||b>=ta?a:l("forward",a)});return babelHelpers["extends"]({},b,{__type:"DEPTH_1",commentPages:x});case"REQUEST_COMMENTS_PAGE":X=a.args;w=X.depth;r=X.direction;A=X.pageSize;y=b.commentPages;B=b.expanded;C=b.newCommentsPage;e=b.pagers;if(!B)throw c("unrecoverableViolation")("Expected list to be expanded","ufi2");if(u.isPagerLoading({depth:w,direction:r,state:b}))throw c("unrecoverableViolation")("Cant request page if pager is loading","ufi2");if(w===0&&u.isListLoading({depth:w,state:b}))throw c("unrecoverableViolation")("Cant request page if list is loading","ufi2");if(w!==0&&u.isRepliesExpanderLoading({depth:w,state:b}))throw c("unrecoverableViolation")("Cant request page if replies expander is loading","ufi2");if(r==="backward"){z=y.findIndex(function(a){return a.state==="VISIBLE"});n=-1;D=q(b)&&fa(b,"HIDDEN");if(z>-1){v=y[z];v.hasPrevious===!1&&c("FBLogger")("ufi2").mustfix("CometUFICommentList.updater(...): REQUEST_COMMENTS_PAGE - Can't request previous comments if there are no more comments available, feedbackID: %s",b.topLevelFeedbackTargetID);if(v.hasPrevious!==!0)throw c("unrecoverableViolation")("Can't request previous comments if there are no more comments available","ufi2");n=z-1}else z===-1&&y.length>0&&!D&&(n=0);m=y[n];if(m&&m.state==="HIDDEN"){o=[].concat(y);o[n]=babelHelpers["extends"]({},m,{state:"VISIBLE"});g=babelHelpers["extends"]({},e,{backward:h({count:m.beforeCount,direction:"backward",error:null,hasMore:m.hasPrevious,isLoading:!1,pageSize:A})});if(b.__type==="DEPTH_0")return babelHelpers["extends"]({},b,{__type:"DEPTH_0",commentPages:o,hasPaged:babelHelpers["extends"]({},b.hasPaged,{backward:!0}),pagers:g,shouldComposerRenderWhenListIsExpanded:!0});if(a.args.depth===0)throw c("unrecoverableViolation")("CometUFICommentList.updater(...): depth should be 1 or greater","ufi2");f=a.args.minCountToShowCollapser;p=u.getVisibleCommentsCount({depth:w,state:b});return babelHelpers["extends"]({},b,{__type:"DEPTH_1",commentPages:o,hasPaged:babelHelpers["extends"]({},b.hasPaged,{backward:!0}),pagers:g,repliesCollapser:i({count:p+m.commentIDs.length,expanded:b.expanded,minCountToShowCollapser:f}),shouldComposerRenderWhenListIsExpanded:!0})}else if(D){var ua={};C.commentIDs.forEach(function(a){ua[a]="VISIBLE"});x=babelHelpers["extends"]({},C,{visibleStates:ua});X=babelHelpers["extends"]({},e,{backward:null});if(b.__type==="DEPTH_0")return babelHelpers["extends"]({},b,{__type:"DEPTH_0",hasPaged:babelHelpers["extends"]({},b.hasPaged,{backward:!0}),newCommentsPage:x,pagers:X,shouldComposerRenderWhenListIsExpanded:!0});if(a.args.depth===0)throw c("unrecoverableViolation")("CometUFICommentList.updater(...): depth should be 1 or greater","ufi2");B=a.args.minCountToShowCollapser;r=u.getVisibleCommentsCount({depth:w,state:b});return babelHelpers["extends"]({},b,{__type:"DEPTH_1",hasPaged:babelHelpers["extends"]({},b.hasPaged,{backward:!0}),newCommentsPage:x,pagers:X,repliesCollapser:i({count:r+x.commentIDs.length,expanded:b.expanded,minCountToShowCollapser:B}),shouldComposerRenderWhenListIsExpanded:!0})}else{v=babelHelpers["extends"]({},e,{backward:e.backward&&babelHelpers["extends"]({},e.backward,{status:{error:null,pending:!0}})});return b.__type==="DEPTH_0"?babelHelpers["extends"]({},b,{__type:"DEPTH_0",hasPaged:babelHelpers["extends"]({},b.hasPaged,{backward:!0}),pagers:v}):babelHelpers["extends"]({},b,{__type:"DEPTH_1",hasPaged:babelHelpers["extends"]({},b.hasPaged,{backward:!0}),pagers:v})}}z=[].concat(y).reverse().findIndex(function(a){return a.state==="VISIBLE"});n=-1;if(z>-1){o=y.length-1-z;g=y[o];if(g.hasNext!==!0)throw c("unrecoverableViolation")("Can't request previous comments if there are no more comments available","ufi2");n=o+1}else z===-1&&y.length>0&&(n=y.length-1);p=y[n];if(p&&p.state==="HIDDEN"){m=[].concat(y);m[n]=babelHelpers["extends"]({},p,{state:"VISIBLE"});f=babelHelpers["extends"]({},e,{forward:h({count:p.afterCount,direction:"forward",error:null,hasMore:p.hasNext,isLoading:!1,pageSize:A})});if(b.__type==="DEPTH_0")return babelHelpers["extends"]({},b,{__type:"DEPTH_0",commentPages:m,hasPaged:babelHelpers["extends"]({},b.hasPaged,{forward:!0}),pagers:f,shouldComposerRenderWhenListIsExpanded:!0});if(a.args.depth===0)throw c("unrecoverableViolation")("CometUFICommentList.updater(...): depth should be 1 or greater","ufi2");D=a.args.minCountToShowCollapser;X=u.getVisibleCommentsCount({depth:w,state:b});return babelHelpers["extends"]({},b,{__type:"DEPTH_1",commentPages:m,hasPaged:babelHelpers["extends"]({},b.hasPaged,{forward:!0}),pagers:f,repliesCollapser:i({count:X+p.commentIDs.length,expanded:b.expanded,minCountToShowCollapser:D}),shouldComposerRenderWhenListIsExpanded:!0})}else if(t(b)&&da(b)&&fa(b,"HIDDEN")&&b.__type==="DEPTH_0"){var va={};C.commentIDs.forEach(function(a){va[a]="VISIBLE"});return babelHelpers["extends"]({},b,{hasPaged:babelHelpers["extends"]({},b.hasPaged,{forward:!0}),newCommentsPage:babelHelpers["extends"]({},C,{visibleStates:va}),pagers:babelHelpers["extends"]({},e,{forward:null}),shouldComposerRenderWhenListIsExpanded:!0})}else{r=babelHelpers["extends"]({},e,{forward:e.forward&&babelHelpers["extends"]({},e.forward,{status:{error:null,pending:!0}})});return b.__type==="DEPTH_0"?babelHelpers["extends"]({},b,{__type:"DEPTH_0",hasPaged:babelHelpers["extends"]({},b.hasPaged,{forward:!0}),pagers:r}):babelHelpers["extends"]({},b,{__type:"DEPTH_1",hasPaged:babelHelpers["extends"]({},b.hasPaged,{forward:!0}),pagers:r})}case"REQUEST_REFETCH_LIST":x=a.args.depth;if(x!==0||b.__type!=="DEPTH_0")throw c("unrecoverableViolation")("Expected depth to be 0 for RECEIVE_REFETCH_LIST","ufi2");if(u.isListLoading({depth:x,state:b}))throw c("unrecoverableViolation")("Expected list to be loading","ufi2");return babelHelpers["extends"]({},b,{__type:"DEPTH_0",commentPages:[],expanded:!0,hasPaged:{backward:!1,forward:!1},locallyComposedCommentIDs:[],newCommentsPage:{__type:"NEW_COMMENTS_PAGE",commentIDs:[],visibleStates:{}},pagers:{backward:null,forward:null},status:{error:null,pending:!0}});case"SET_CAN_VIEWER_COMMENT":B=a.args.canViewerComment;return b.__type==="DEPTH_0"?babelHelpers["extends"]({},b,{__type:"DEPTH_0",canViewerComment:B}):babelHelpers["extends"]({},b,{__type:"DEPTH_1",canViewerComment:B});case"SET_COMMENTS_BY_ID":v=a.args.commentsByID;return b.__type==="DEPTH_0"?babelHelpers["extends"]({},b,{__type:"DEPTH_0",commentsByID:v}):babelHelpers["extends"]({},b,{__type:"DEPTH_1",commentsByID:v});case"SET_SERVER_COMMENT_ID":g=a.args;var Z=g.clientCommentID,$=g.serverCommentID;o=b.commentPages;z=b.locallyComposedCommentIDs;y=b.newCommentsPage;n=y.commentIDs.indexOf(Z);A=n!==-1;w=o.some(function(a){return a.commentIDs.some(function(a){return a===Z})});if(!A&&!w)return b;m=y.commentIDs.some(function(a){return a===$});f=o.filter(function(a){return a.state==="HIDDEN"}).some(function(a){return a.commentIDs.some(function(a){return a===$})});X=o.filter(function(a){return a.state==="VISIBLE"}).some(function(a){return a.commentIDs.some(function(a){return a===$})});p=b;if(f){D=o.map(function(a){var b=a.commentIDs.indexOf($);if(b===-1)return a;else return babelHelpers["extends"]({},a,{commentIDs:[].concat(a.commentIDs.slice(0,b),a.commentIDs.slice(b+1))})});p.__type==="DEPTH_0"?p=babelHelpers["extends"]({},p,{__type:"DEPTH_0",commentPages:D}):p=babelHelpers["extends"]({},p,{__type:"DEPTH_1",commentPages:D})}if(m){C=z.filter(function(a){return a===Z});e=y.commentIDs.filter(function(a){return a!==Z});r=babelHelpers["extends"]({},y.visibleStates);delete r[Z];x=babelHelpers["extends"]({},y,{commentIDs:e,visibleStates:r});p.__type==="DEPTH_0"?p=babelHelpers["extends"]({},p,{__type:"DEPTH_0",locallyComposedCommentIDs:C,newCommentsPage:x}):p=babelHelpers["extends"]({},p,{__type:"DEPTH_1",locallyComposedCommentIDs:C,newCommentsPage:x})}if(A){B=babelHelpers["extends"]({},y.visibleStates);if(X||m){v=y.commentIDs.filter(function(a){return a!==Z});delete B[Z];g=babelHelpers["extends"]({},y,{commentIDs:v,visibleStates:B});p.__type==="DEPTH_0"?p=babelHelpers["extends"]({},p,{__type:"DEPTH_0",newCommentsPage:g}):p=babelHelpers["extends"]({},p,{__type:"DEPTH_1",newCommentsPage:g})}else{n=y.commentIDs.map(function(a){return a===Z?$:a});B[$]=B[Z];delete B[Z];f=babelHelpers["extends"]({},y,{commentIDs:n,visibleStates:B});p.__type==="DEPTH_0"?p=babelHelpers["extends"]({},p,{__type:"DEPTH_0",newCommentsPage:f}):p=babelHelpers["extends"]({},p,{__type:"DEPTH_1",newCommentsPage:f})}}if(w)if(X||m){D=o.map(function(a){var b=a.commentIDs.indexOf(Z);if(b===-1)return a;else return babelHelpers["extends"]({},a,{commentIDs:[].concat(a.commentIDs.slice(0,b),a.commentIDs.slice(b+1))})});p.__type==="DEPTH_0"?p=babelHelpers["extends"]({},p,{__type:"DEPTH_0",commentPages:D}):p=babelHelpers["extends"]({},p,{__type:"DEPTH_1",commentPages:D})}else{e=o.map(function(a){var b=a.commentIDs.indexOf(Z);if(b===-1)return a;else return babelHelpers["extends"]({},a,{commentIDs:[].concat(a.commentIDs.slice(0,b),[$],a.commentIDs.slice(b+1))})});p.__type==="DEPTH_0"?p=babelHelpers["extends"]({},p,{__type:"DEPTH_0",commentPages:e}):p=babelHelpers["extends"]({},p,{__type:"DEPTH_1",commentPages:e})}r=z.map(function(a){return a===Z?$:a});return p.__type==="DEPTH_0"?babelHelpers["extends"]({},p,{__type:"DEPTH_0",locallyComposedCommentIDs:r}):babelHelpers["extends"]({},p,{__type:"DEPTH_1",locallyComposedCommentIDs:r});case"UNHIDE_COMMENTS":C=a.args.commentIDs;x=b.commentsHiddenByViewer;var wa=babelHelpers["extends"]({},x);C.forEach(function(a){delete wa[a]});return b.__type==="DEPTH_0"?babelHelpers["extends"]({},b,{__type:"DEPTH_0",commentsHiddenByViewer:wa}):babelHelpers["extends"]({},b,{__type:"DEPTH_1",commentsHiddenByViewer:wa});case"INITIAL_STATE":default:a.__type;throw c("unrecoverableViolation")("CometUFICommentListState: Invalid action type: "+a.__type,"ufi2")}}function o(a,b){try{var d=m(a,b);return d}catch(f){d=c("ErrorNormalizeUtils").normalizeError(f);d=d.message;var e=a.__type==="REQUEST_COMMENTS_PAGE"||a.__type==="RECEIVE_COMMENTS_PAGE"?a.args.direction:"Unknown";c("FBLogger")("ufi2").catching(f).addMetadata("UFI","COMMENTS_LIST_ACTION",a.__type).addMetadata("UFI","COMMENTS_LIST_DEPTH",""+a.args.depth).addMetadata("UFI","COMMENTS_LIST_DIRECTION",e).mustfix("CometUFICommentListState.updater(...): "+d);c("gkx")("676930")&&window.__enableUFI2CommentsListLogging===!0&&a.__type!=="SET_COMMENTS_BY_ID"&&console.groupEnd();if(!b)throw f;return b}}function a(a,b){return m(a,b)}function b(a,b){return m(a,b)}var ba={collapseList:function(a){var b=a.args;a=a.state;return o({__type:"COLLAPSE_LIST",args:b},a)},deleteComment:function(a){var b=a.args;a=a.state;return o({__type:"DELETE_COMMENT",args:b},a)},expandHiddenComments:function(a){var b=a.args;a=a.state;return o({__type:"EXPAND_HIDDEN_COMMENTS",args:b},a)},expandList:function(a){var b=a.args;a=a.state;return o({__type:"EXPAND_LIST",args:b},a)},failCommentPagination:function(a){var b=a.args;a=a.state;return o({__type:"FAIL_COMMENT_PAGINATION",args:b},a)},getInitialState:function(a){var b=a.args;a=a.state;return o({__type:"INITIAL_STATE",args:b},a)},hideComments:function(a){var b=a.args;a=a.state;return o({__type:"HIDE_COMMENTS",args:b},a)},receiveCommentsPage:function(a){var b=a.args;a=a.state;return o({__type:"RECEIVE_COMMENTS_PAGE",args:b},a)},receiveNewComment:function(a){var b=a.args;a=a.state;return o({__type:"RECEIVE_NEW_COMMENT",args:b},a)},receiveRealtimeComment:function(a){var b=a.args;a=a.state;return o({__type:"RECEIVE_REALTIME_COMMENT",args:b},a)},receiveRefetchList:function(a){var b=a.args;a=a.state;return o({__type:"RECEIVE_REFETCH_LIST",args:b},a)},receiveReparentedComment:function(a){var b=a.args;a=a.state;return o({__type:"RECEIVE_REPARENTED_COMMENT",args:b},a)},requestCommentsPage:function(a){var b=a.args;a=a.state;return o({__type:"REQUEST_COMMENTS_PAGE",args:b},a)},requestRefetchList:function(a){var b=a.args;a=a.state;return o({__type:"REQUEST_REFETCH_LIST",args:b},a)},setCanViewerComment:function(a){var b=a.args;a=a.state;return o({__type:"SET_CAN_VIEWER_COMMENT",args:b},a)},setCommentsByID:function(a){var b=a.args;a=a.state;return o({__type:"SET_COMMENTS_BY_ID",args:b},a)},setServerCommentID:function(a){var b=a.args;a=a.state;return o({__type:"SET_SERVER_COMMENT_ID",args:b},a)},unhideComments:function(a){var b=a.args;a=a.state;return o({__type:"UNHIDE_COMMENTS",args:b},a)}};function p(a){var b=a.direction;a=a.state;b=b==="forward"?[].concat(a.commentPages).reverse():a.commentPages;return b.find(function(a){return a.state==="VISIBLE"})}function q(a){var b=a.commentPages,c=a.newCommentsPage;b=b[0];if(!b)return c.commentIDs.length>0;return t(a)?b.beforeCount===0:b.beforeCount-c.commentIDs.length===0}function ca(a){var b=a.commentPages[0];b=(b==null||b.state==="VISIBLE")&&q(a);return b&&(t(a)||r(a,"VISIBLE"))}function da(a){var b=a.commentPages,c=a.newCommentsPage;b=[].concat(b).reverse()[0];if(!b)return c.commentIDs.length>0;return t(a)?b.afterCount-c.commentIDs.length===0:b.afterCount===0}function ea(a){var b=a.commentPages;b=[].concat(b).reverse()[0];b=(b==null||b.state==="VISIBLE")&&da(a);return b&&(!t(a)||r(a,"VISIBLE"))}function fa(a,b){var c=a.newCommentsPage;return c.commentIDs.some(function(a){return c.visibleStates[a]===b})}function r(a,b){var c=a.newCommentsPage;return c.commentIDs.every(function(a){return c.visibleStates[a]===b})}function s(a){var b=a.__type,c=a.commentPages,e=a.newCommentsPage,f=a.viewOption;c=c.filter(function(a){return a.state==="VISIBLE"}).reduce(function(a,b){return a.concat(b.commentIDs)},[]);var g=e.commentIDs.filter(function(a){return e.visibleStates[a]==="VISIBLE"});if(t(a))return[].concat(c,g);return b==="DEPTH_1"&&!d("UFI2ViewOption").shouldDisplayInReverse(f)?[].concat(c,g.reverse()):[].concat(g,c)}function t(a){return a.__type==="DEPTH_0"&&a.viewOption==="MOST_VOTED"}function ga(a){return a.__type==="DEPTH_0"&&a.viewOption==="ANSWERED"}function ha(a){return a.__type==="DEPTH_0"&&a.viewOption==="UNANSWERED"}var u={canFetchInDirection:function(a){var b=a.depth,c=a.direction,d=a.state;a=a.totalCount;if(a===0)return!1;a=d.commentPages;var e=d.newCommentsPage,f=u.isPagerLoading({depth:b,direction:c,state:d});if(f)return!1;f=b===0&&u.isListLoading({depth:b,state:d});if(f)return!1;f=b!==0&&u.isRepliesExpanderLoading({depth:b,state:d});if(f)return!1;if(a.length===0&&c==="forward")return!0;else if(a.length===0&&c==="backward")return!1;f=a[0];a=a[a.length-1];b=u.getPagerCount({depth:b,direction:"backward",state:d});b=b===e.commentIDs.length&&r(d,"HIDDEN");return c==="backward"?f.state!=="HIDDEN"&&!b&&f.hasPrevious:a.state!=="HIDDEN"&&a.hasNext},getCommentsCount:function(a){a=a.state;var b=a.commentPages;a=a.newCommentsPage;return a.commentIDs.concat(b.reduce(function(a,b){return a.concat(b.commentIDs)},[])).length},getCountForFetch:function(a){var b=a.depth,d=a.direction,e=a.pageSize;a=a.state;d=u.getPagerCount({depth:b,direction:d,state:a});if(d!=null)return d;if(b!==0){if(e==null)throw c("unrecoverableViolation")("CometUFICommentListState.getCountForFetch(...): Expected pageSize to compute fetch count for expanding replies","ufi2");d=u.getRepliesExpanderCount({depth:b,state:a});if(d!=null)return Math.min(d,e)}return null},getHiddenStateForComment:function(a){var b=a.commentID;a=a.state;a=a.commentsHiddenByViewer;return a[b]||null},getPagerCount:function(a){var b=a.direction;a=a.state;a=a.pagers;if(!a)return null;a=a[b];return a!=null?a.count:null},getPagerError:function(a){var b=a.direction;a=a.state;a=a.pagers;if(!a)return null;a=a[b];return a!=null?a.status.error:null},getRepliesCollapserCount:function(a){var b=a.depth;a=a.state;if(b===0||a.__type!=="DEPTH_1")return null;b=a.repliesCollapser;return b!=null?b.count:null},getRepliesExpanderCount:function(a){var b=a.depth;a=a.state;if(b===0||a.__type!=="DEPTH_1")return null;b=a.repliesExpander;return b!=null?b.count:null},getRepliesExpanderError:function(a){var b=a.depth;a=a.state;if(b===0||a.__type!=="DEPTH_1")return null;b=a.repliesExpander;return b!=null?b.status.error:null},getVisibleComments:function(a){a=a.state;var b=a.commentsByID,e=a.locallyComposedCommentIDs,f=a.newCommentsPage,g=a.viewOption;a=s(a);var h=a.map(function(a){var d=b[a];if(!d){c("FBLogger")("ufi2").warn("CometUFICommentListState.getVisibleComments: Could not find comment locally: %s",a);return null}return d}).filter(Boolean);a.length>0&&h.length===0&&c("FBLogger")("ufi2").warn("CometUFICommentListState.getVisibleComments: Could not find ANY of the %s comments locally",a.length);return!e.length&&f.commentIDs.length>0&&d("UFI2ViewOption").shouldDisplayInReverse(g)?h.sort(function(a,b){return((b=b.created_time)!=null?b:0)-((b=a.created_time)!=null?b:0)}):h},getVisibleCommentsCount:function(a){a=a.state;return s(a).length},getVisibleCommentsGroupedByCollapsedState:function(a){var b=a.depth,c=a.reverse,d=a.shouldCollapseComment;a=a.state;b=u.getVisibleComments({depth:b,state:a});a=c?b.slice().reverse():b;return a.reduce(function(a,b){var c=d(b)?"COLLAPSED":"VISIBLE";if(a.length===0)return[{comments:[b],state:c}];var e=a[a.length-1],f=e.comments[e.comments.length-1];if(!f)return a;f=e.state;if(f===c){e.comments.push(b);return a}return[].concat(a,[{comments:[b],state:c}])},[])},getVisibleCommentsWithHiddenCommentsCollapsed:function(a){var b=a.depth,c=a.reverse,d=a.state;return u.getVisibleCommentsGroupedByCollapsedState({depth:b,reverse:c,shouldCollapseComment:function(a){return u.getHiddenStateForComment({commentID:a.id,depth:b,state:d})==="COLLAPSED"},state:d})},hasLastPageLeftInDirection:function(a){var b=a.direction,c=a.pageSize,d=a.state;a=a.totalCount;d=p({direction:b,state:d});if(!d)return b==="forward"?a<=c:!1;return b==="forward"?d.afterCount<=c:d.beforeCount<=c},hasMoreInDirection:function(a){var b=a.direction,c=a.state;a=a.totalCount;c=p({direction:b,state:c});if(!c)return b==="forward"?a>0:!1;return b==="forward"?c.hasNext:c.hasPrevious},hasPagedInDirection:function(a){var b=a.direction;a=a.state;a=a.hasPaged;return a[b]},hasVisibleComments:function(a){var b=a.depth;a=a.state;return u.getVisibleComments({depth:b,state:a}).length>0},isComposerVisible:function(a){a=a.state;return a.canViewerComment&&a.expanded&&a.shouldComposerRenderWhenListIsExpanded},isListExpanded:function(a){a=a.state;return a.expanded},isListLoading:function(a){var b=a.depth;a=a.state;return b!==0||a.__type!=="DEPTH_0"?!1:a.status.pending},isPagerLoading:function(a){var b=a.direction;a=a.state;a=a.pagers;if(!a)return!1;a=a[b];return a!=null?a.status.pending:!1},isPagerVisible:function(a){var b=a.direction;a=a.state;a=a.pagers;if(!a)return!1;a=a[b];return a!=null},isRepliesCollapserVisible:function(a){var b=a.depth;a=a.state;if(b===0||a.__type!=="DEPTH_1")return!1;b=a.repliesCollapser;return b!=null},isRepliesExpanderLoading:function(a){var b=a.depth;a=a.state;if(b===0||a.__type!=="DEPTH_1")return!1;b=a.repliesExpander;return b!=null?b.status.pending:!1},isRepliesExpanderVisible:function(a){var b=a.depth;a=a.state;if(b===0||a.__type!=="DEPTH_1")return!1;b=a.repliesExpander;return b!=null},pagerHasRealtimeComments:function(a){var b=a.direction;a=a.state;var c=Object.values(a.newCommentsPage.visibleStates).find(function(a){return a==="HIDDEN"})!=null;return b==="forward"?a.pagers.backward==null?c:!1:c}};g._updaterDepth0_DO_NOT_USE=a;g._updaterDepth1_DO_NOT_USE=b;g.StateUpdaters=ba;g.Selectors=u}),98);
__d("CometUFICommentListGetDerivedStateFromProps",["CometUFICommentListState","CometUFICommentListStateConfig","UFI2UserActivityIdleTimeout","UserActivity","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";function h(a){var b=a.depth,c=a.feedback,d=a.topLevelCommentFeedback;a=a.topLevelFeedback;return b>1?(d==null?void 0:d.can_viewer_comment)===!0&&(a==null?void 0:a.can_viewer_comment)===!0:b===0?Boolean(c.can_viewer_comment):a!=null&&a.can_viewer_comment===!0&&c!=null&&c.can_viewer_comment===!0}function a(a,e){var f=e.listState;e=e.mirroredProps;if(e===a)return{listState:f,mirroredProps:e};var g=e.connectionGeneration,j=e.feedback,k=e.isRefetchingConnection,l=e.topLevelCommentFeedback,m=e.topLevelFeedback;e=e.totalCount;var n=a.commentIDs,o=a.commentsByID,p=a.connectionGeneration,q=a.connectionPageInfo,r=a.depth,s=a.feedback,t=a.hiddenCommentIDs,u=a.isRefetchingConnection,v=a.shouldRenderComposerPreemptively,w=a.topLevelCommentFeedback,x=a.topLevelFeedback,y=a.totalCount,z=a,A=q.afterCount,B=q.beforeCount,C=q.hasNext,D=q.hasPrevious;q=q.pageSize;var E=f;E=d("CometUFICommentListState").StateUpdaters.setCommentsByID({args:{commentsByID:o,depth:r},state:E});if(r===0&&d("CometUFICommentListState").Selectors.isListLoading({depth:r,state:E})){k=k===!0&&u===!1;k&&(E=d("CometUFICommentListState").StateUpdaters.receiveRefetchList({args:{afterCount:A,beforeCount:B,canViewerComment:h({depth:r,feedback:s,topLevelCommentFeedback:w,topLevelFeedback:x}),commentIDs:n,commentsByID:o,depth:r,hasNext:C,hasPrevious:D,hiddenCommentIDs:t,pageSize:q,shouldRenderComposerPreemptively:v,totalCount:y},state:E}));return{listState:E,mirroredProps:z}}if(p>g){E=i(z,f);return{listState:E,mirroredProps:z}}u=a.commentIDsUpdatedToServerIDs;k=a.locallyComposedCommentIds;A=a.newlyCreatedCommentIDs;B=a.newlyHiddenCommentIDs;n=a.newlyReparentedToDeletedCommentsMap;o=a.newlyUnhiddenCommentIDs;C=a.realtimeCommentIds;D=a.removedCommentIDs;t=h({depth:r,feedback:j,topLevelCommentFeedback:l,topLevelFeedback:m});q=h({depth:r,feedback:s,topLevelCommentFeedback:w,topLevelFeedback:x});u.length>0&&u.forEach(function(a){var b=a.clientID;a=a.serverID;E=d("CometUFICommentListState").StateUpdaters.setServerCommentID({args:{clientCommentID:b,depth:r,serverCommentID:a},state:E})});t!==q&&(E=d("CometUFICommentListState").StateUpdaters.setCanViewerComment({args:{canViewerComment:q,depth:r},state:E}));B.length>0&&(E=d("CometUFICommentListState").StateUpdaters.hideComments({args:{commentIDs:B,depth:r},state:E}));o.length>0&&(E=d("CometUFICommentListState").StateUpdaters.unhideComments({args:{commentIDs:o,depth:r},state:E}));if(A.length>0){v=a.connectionPageInfo.pageSize;for(var p=A.length-1;p>=0;p--){g=A[p];if(C.has(g)){E=d("CometUFICommentListState").StateUpdaters.receiveRealtimeComment({args:{commentID:g,depth:r,hideCommentInPager:!c("UserActivity").isActive(b("UFI2UserActivityIdleTimeout"))||!a.isUFIVisible.current,totalCount:y},state:E});continue}r===0?E=d("CometUFICommentListState").StateUpdaters.receiveNewComment({args:{commentID:g,commentsComposedByThisUFI:k,depth:r,pageSize:v,prevTotalCount:e,totalCount:y},state:E}):E=d("CometUFICommentListState").StateUpdaters.receiveNewComment({args:{commentID:g,commentsComposedByThisUFI:k,depth:r,minCountToShowCollapser:d("CometUFICommentListStateConfig").MIN_REPLIES_TO_SHOW_COLLAPSER,pageSize:v,prevTotalCount:e,totalCount:y},state:E})}}else n.size>0&&n.forEach(function(a,b){E=d("CometUFICommentListState").StateUpdaters.receiveReparentedComment({args:{commentID:b,depth:r,removedID:a},state:E})}),D.length>0&&D.forEach(function(a){r===0?E=d("CometUFICommentListState").StateUpdaters.deleteComment({args:{commentID:a,depth:r},state:E}):E=d("CometUFICommentListState").StateUpdaters.deleteComment({args:{commentID:a,depth:r,minCountToShowCollapser:d("CometUFICommentListStateConfig").MIN_REPLIES_TO_SHOW_COLLAPSER},state:E})});return{listState:E,mirroredProps:z}}function i(a,b){var e=a.commentIDs,f=a.commentsByID,g=a.connectionPageInfo,i=g.afterCount,j=g.beforeCount,k=g.hasNext,l=g.hasPrevious;g=g.pageSize;var m=a.depth,n=a.feedback,o=a.hiddenCommentIDs,p=a.isInitiallyExpanded,q=a.shouldRenderComposerPreemptively,r=a.topLevelCommentFeedback,s=a.topLevelFeedback,t=a.totalCount,u=a.viewOption;r=h({depth:m,feedback:n,topLevelCommentFeedback:r,topLevelFeedback:s});if(n.id==null)throw c("unrecoverableViolation")("A feedback target cannot have a null id","ufi2");j={afterCount:i,beforeCount:j,canViewerComment:r,commentIDs:e,commentsByID:f,feedbackTargetID:n.id,hasNext:k,hasPrevious:l,hiddenCommentIDs:o,initiallyExpanded:p,pageSize:g,shouldRenderComposerPreemptively:q,topLevelFeedbackTargetID:(i=s==null?void 0:s.id)!=null?i:n.id,totalCount:t,viewOption:u};if(m===0){return d("CometUFICommentListState").StateUpdaters.getInitialState({args:babelHelpers["extends"]({},j,{depth:0}),state:(r=b)!=null?r:null})}f=(e=a.commentParent)==null?void 0:e.id;if(f==null)throw c("unrecoverableViolation")("A nested comment list must have a parent comment ID","ufi2");return d("CometUFICommentListState").StateUpdaters.getInitialState({args:babelHelpers["extends"]({},j,{depth:1,minCountToShowCollapser:d("CometUFICommentListStateConfig").MIN_REPLIES_TO_SHOW_COLLAPSER,parentCommentID:f}),state:(k=b)!=null?k:null})}g.getCanViewerComment=h;g.getDerivedStateFromProps=a;g.getInitialState=i}),98);
__d("CometUFICommentsProviderState",["FBLogger","filterMap","gkx"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b,c){if(b){var d=a==null?void 0:a.client_id;if(d!=null&&b.has(d))return!0}if(c){b=a==null?void 0:a.id;if(b!=null&&c.has(b))return!0}return a!=null&&(a.optimistic_error!=null||a.optimistic_action!=null)}function i(a){return!a||a.spam_display_mode==null?!1:(a==null?void 0:a.spam_display_mode)!=="none"}function a(a){a=(a=a.feedback)==null?void 0:(a=a.display_comments)==null?void 0:a.before_count;return typeof a==="number"?a:null}function j(a){return a.filter(function(a){return a.startsWith("client:")})}function k(a){var b={};a=a?a.map(function(a){if(!a){c("FBLogger")("ufi2").warn("CometUFICommentsProviderState.getCommentsFromEdges(...): Received null edge from comments connection.");return null}a=a.node;if(!a){c("FBLogger")("ufi2").warn("CometUFICommentsProviderState.getCommentsFromEdges(...): Received null comment from comments connection.");return null}if(a.id!=null){var d=a.id;b[d]=a;return d}else{c("FBLogger")("ufi2").warn("CometUFICommentsProviderState.getCommentsFromEdges(...): Received comment with null id from comments connection.");return null}}).filter(Boolean):[];if(a.length>Object.keys(b).length){c("FBLogger")("ufi2").warn("CometUFICommentsProviderState.getCommentsFromEdges(...): Received duplicate comments from comments connection");var d=new Set();return{commentIDs:a.filter(function(a){if(d.has(a))return!1;d.add(a);return!0}),commentsByID:b}}return{commentIDs:a,commentsByID:b}}function l(a,b,c){a=Object.keys(a);return a.filter(function(a){return!Object.prototype.hasOwnProperty.call(b,a)}).filter(function(a){return!c.some(function(b){return b.clientID===a})})}function m(a,b,c,d){var e=[];c=a.filter(function(a){return!a.startsWith("client:")});var f=function(){if(h){if(i>=g.length)return"break";a=g[i++]}else{i=g.next();if(i.done)return"break";a=i.value}var c=a,f=d[c],j=f&&f.client_id!=null?f.client_id:null;j!=null&&b.find(function(a){return a===j})&&e.push({clientID:j,serverID:c})};for(var g=c,h=Array.isArray(g),i=0,g=h?g:g[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){c=f();if(c==="break")break}return e}function n(a,b,d,e,f,g){if(d.length<=b.length)return[];var i=a[d[0]];if(!i){c("FBLogger")("ufi2").warn("CometUFICommentsProviderState.getNewlyCreatedCommentIDs(...): Next most recent comment not found");return[]}i=b.filter(function(b){return h(a[b],e,f)});b=d.filter(function(b){return h(a[b],e,f)});d=b.length-i.length>0;if(!d)return[];if(i.length===0)return b;var j=new Set(i);return b.filter(function(a){return!j.has(a)}).filter(function(a){return!g.has(a)})}function o(a,b){return b.filter(function(b){b=a[b];return b!=null&&i(b)})}function p(a,b,c){return c.filter(function(c){var d=a[c];c=b[c];return d!=null&&i(d)===!1&&i(c)===!0})}function q(a,b,c){return c.filter(function(c){var d=a[c];c=b[c];return d!=null&&i(d)===!0&&i(c)===!1})}function r(a,b,d){var e=function(c,d){return b.includes(d)&&!a.includes(d)};return c("filterMap")(d,e)}function b(a,b){var d=a.depth,e=a.locallyComposedCommentIds,f=a.realtimeCommentIds,g=a.reparentedToDeletedCommentsMap,h=b.commentsByID,i=b.commentIDs;a=k(a.edges);var s=a.commentIDs;a=a.commentsByID;var t=i.length,u=b.clientCommentIDs,v=j(s),w=s.length,x=b.selectedViewOption;b=b.isRefetchingConnection;var y=o(a,s),z=p(h,a,s),A=q(h,a,s);u=m(s,u,v,a);g=r(i,s,g);w=w>t;t=w?n(a,i,s,e,f,g):[];w=!b;i=w?l(h,a,u):[];e={clientCommentIDs:v,commentIDs:s,commentIDsUpdatedToServerIDs:u,commentsByID:a,hiddenCommentIDs:y,isRefetchingConnection:b,newlyCreatedCommentIDs:t,newlyHiddenCommentIDs:z,newlyReparentedToDeletedCommentsMap:g,newlyUnhiddenCommentIDs:A,removedCommentIDs:i,selectedViewOption:x};c("gkx")("676930")&&window.__enableUFI2CommentsListLogging===!0&&(console.groupCollapsed("%cUFI2 Relay Comments Connection Update at depth "+d+":",";background-color:#75DBCD;color:#1F2D3D;opacity:0.7;font-weight:bold;"),console.groupEnd());return e}function d(a){a=a.edges;a=k(a);var b=a.commentIDs;a=a.commentsByID;var c=j(b),d=o(a,b);return{clientCommentIDs:c,commentIDs:b,commentIDsUpdatedToServerIDs:[],commentsByID:a,hiddenCommentIDs:d,isRefetchingConnection:!1,newlyCreatedCommentIDs:[],newlyHiddenCommentIDs:[],newlyReparentedToDeletedCommentsMap:new Map(),newlyUnhiddenCommentIDs:[],removedCommentIDs:[],selectedViewOption:null}}g.getBeforeCount=a;g.getClientCommentIDs=j;g.getCommentsFromEdges=k;g.getRemovedCommentIDs=l;g.getCommentIDsUpdatedToServerIDs=m;g.getNewlyCreatedCommentIDs=n;g.getHiddenCommentIDs=o;g.getNewlyHiddenCommentIDs=p;g.getNewlyUnhiddenCommentIDs=q;g.getNewlyReparentedCommentIDs=r;g.getDerivedStateFromProps=b;g.getInitialState=d}),98);
__d("UFI2RelayConnectionRenderer.react",["invariant","RelayRuntime","react","react-relay/ReactRelayContext","react-relay/ReactRelayQueryFetcher","react-relay/RelayContext"],(function(a,b,c,d,e,f,g,h){"use strict";a=d("react");b=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;var i=b.ReactCurrentDispatcher,j=b.ReactCurrentOwner;function k(a){var b=i!=null?i.current:j.currentDispatcher;return b.readContext(a)}e=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var e;e=a.call(this,b)||this;e.$1=!1;e.$2=!1;e.$3=0;e.$8=function(a,b){if(!e.$9()||e.$1)return;e.$6("forward",a,b||{})};e.$10=function(a,b){if(!e.$11()||e.$2)return;e.$6("backward",a,b||{})};var f=d("react-relay/RelayContext").assertRelayContext(k(c("react-relay/ReactRelayContext")));e.state={mirroredRelayContext:f,prevProps:b,queryFetchers:{backward:new(c("react-relay/ReactRelayQueryFetcher"))(),forward:new(c("react-relay/ReactRelayQueryFetcher"))()}};return e}b.getDerivedStateFromProps=function(a,b){var e=d("react-relay/RelayContext").assertRelayContext(k(c("react-relay/ReactRelayContext")));if(b.prevProps.paginationQuery!==a.paginationQuery||b.mirroredRelayContext.environment!==e.environment){b=b.queryFetchers;return{mirroredRelayContext:e,prevProps:a,queryFetchers:babelHelpers["extends"]({},b)}}return null};var e=b.prototype;e.componentDidUpdate=function(a,b){this.state.queryFetchers!==b.queryFetchers&&this.$4(b.queryFetchers)};e.componentWillUnmount=function(){var a=this.state.queryFetchers;this.$4(a)};e.shouldComponentUpdate=function(a,b){return!0};e.$5=function(a,b){a==="forward"?(this.$1=!1,this.forceUpdate(b)):a==="backward"&&(this.$2=!1,this.forceUpdate(b))};e.$6=function(a,b,d){var e=this,f=this.props,g=f.connection;f=f.paginationQuery;var i=this.state.queryFetchers;i=i[a];g=l(g);g||h(0,1775);b=m(a,b,g,d);if(b==null)return;var j=babelHelpers["extends"]({},b,{UFI2CommentsProvider_commentsKey:this.props.commentsKey,id:this.props.feedbackID});g=this.state.mirroredRelayContext.environment;var k=d.onLoaded;b=c("RelayRuntime").getRequest(f);d=c("RelayRuntime").createOperationDescriptor(b,j);var n=!1,o=this.$3;try{var p=i.fetch({environment:g,onDataChange:function(b){var c=b.error,d=b.snapshot;if(n||o!==e.$3)return;n=!0;e.$5(a,function(){k&&k({data:d==null?void 0:d.data,error:c,variables:j})})},operation:d});p?(n=!0,this.$5(a,function(){k&&k({data:p.data,variables:j})})):this.$7(a)}catch(a){k&&k({error:a,variables:j})}};e.$9=function(){var a=this.props.connection;a=l(a);return a?a.hasNext:!1};e.$11=function(){var a=this.props.connection;a=l(a);return a?a.hasPrevious:!1};e.$7=function(a,b){a==="forward"?(this.$1=!0,this.forceUpdate(b)):a==="backward"&&(this.$2=!0,this.forceUpdate(b))};e.$4=function(a){var b=a.backward;a=a.forward;b.dispose();a.dispose();this.$1=!1;this.$2=!1;this.$3++};e.render=function(){var a=this.props.connection;if(!a)return null;a=a.edges;a={edges:a,hasNext:this.$9(),hasPrevious:this.$11(),isLoadingNext:this.$1,isLoadingPrevious:this.$2,loadNext:this.$8,loadPrevious:this.$10};return this.props.children(a)};return b}(a.Component);function l(a){if(!a)return null;var b=c("RelayRuntime").ConnectionInterface.get(),d=b.PAGE_INFO,e=b.HAS_NEXT_PAGE,f=b.HAS_PREV_PAGE,g=b.END_CURSOR;b=b.START_CURSOR;a=a[d];a||h(0,1776);return{backwardCursor:a[b],forwardCursor:a[g],hasNext:a[e],hasPrevious:a[f]}}function m(a,b,c,d){switch(a){case"backward":a=b;var e=c.backwardCursor;return typeof d.queryVariables==="function"?d.queryVariables({after:null,before:e,first:null,last:a}):babelHelpers["extends"]({},d.queryVariables,{after:null,before:e,first:null,last:a});case"forward":e=b;a=c.forwardCursor;return typeof d.queryVariables==="function"?d.queryVariables({after:a,before:null,first:e,last:null}):babelHelpers["extends"]({},d.queryVariables,{after:a,before:null,first:e,last:null});default:throw new Error("UFI2RelayConnectionRenderer: direction must be one of backward or forward")}}g["default"]=e}),98);
__d("CometUFICommentsProviderForDisplayComments.react",["CometRelay","CometUFICommentAPIContext","CometUFICommentsProviderForDisplayCommentsQuery.graphql","CometUFICommentsProviderForDisplayCommentsReadCommentsPageQuery.graphql","CometUFICommentsProviderForDisplayComments_displayCommentsHighlightedComments.graphql","CometUFICommentsProviderForDisplayComments_displayCommentsMetadata.graphql","CometUFICommentsProviderForDisplayComments_feedback.graphql","CometUFICommentsProviderState","FBLogger","FishbowlCommentUtils","RelayUFI2CommentsKeyContext","SiteData","UFI2RealtimeContainer.react","UFI2RelayConnectionRenderer.react","gkx","react","relay-runtime","requireDeferred","setTimeout","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=d("react"),m=d("react").useMemo,n=c("requireDeferred")("CometUFICreateCommentSubscription").__setRef("CometUFICommentsProviderForDisplayComments.react"),o=50,p=function(e){babelHelpers.inheritsLoose(a,e);function a(a){var b;b=e.call(this,a)||this;b.state=d("CometUFICommentsProviderState").getInitialState({edges:b.props.edges,feedback:b.props.feedback});b.commentOrdering=null;b.replyCommentOrdering=null;b.$1=function(a){var d=a.count,e=a.direction,f=a.onCommentsFetched;a=b.props;var g=a.depth,h=a.displayCommentsContext,i=a.feedback,j=a.feedbackSource,k=a.feedLocation,l=a.focusCommentID,m=a.isLoadingNext,n=a.isLoadingPrevious,o=a.loadNext,p=a.loadPrevious,q=a.topLevelViewOption;a=a.useDefaultActor;var r=b.state.selectedViewOption;i=i==null?void 0:i.id;if(i==null){c("FBLogger")("ufi2").mustfix("CometUFICommentsProviderForDisplayComments: Cant fetch without a feedback id");return}if(e==="forward"&&m)return;if(e==="backward"&&n)return;n={displayCommentsContextEnableComment:h==null?void 0:h.enableComment,displayCommentsContextIsAdPreview:h==null?void 0:h.isAdPreview,displayCommentsContextIsAggregatedShare:h==null?void 0:h.isAggregatedShare,displayCommentsContextIsStorySet:h==null?void 0:h.isStorySet,displayCommentsFeedbackContext:h==null?void 0:h.feedbackContext,feedbackSource:j,feedLocation:k,focusCommentID:l,id:i,includeHighlightedComments:!1,includeNestedComments:g===0,initialViewOption:b.commentOrdering,isInitialFetch:!1,isPaginating:!0,scale:c("SiteData").pr,topLevelViewOption:(m=r)!=null?m:q,useDefaultActor:a,viewOption:r};if(e==="backward")p(d,{onLoaded:function(a){var c=a.error;a=a.variables;return b.$2({direction:e,error:c,onCommentsFetched:f,variables:a})},queryVariables:n});else if(e==="forward")o(d,{onLoaded:function(a){var c=a.error;a=a.variables;return b.$2({direction:e,error:c,onCommentsFetched:f,variables:a})},queryVariables:n});else throw c("unrecoverableViolation")("CometUFICommentsProviderForDisplayComments: Invalid direction","ufi2")};b.$3=function(a){var d=b.state.commentsByID[a];if(d==null){c("FBLogger")("ufi2").warn("CometUFICommentsProviderForDisplayComments: Could not find requested comment locally: %s",a);return null}return d};b.$5=function(a){var e=a.onComplete,f=a.queryVariables;a=b.props;var g=a.depth,h=a.displayCommentsContext,i=a.feedback,j=a.feedbackSource,k=a.feedLocation,l=a.focusCommentID,m=a.refetch,n=a.topLevelViewOption,o=a.useDefaultActor,p=b.state.selectedViewOption,q=i==null?void 0:i.id;if(q==null){c("FBLogger")("ufi2").mustfix("CometUFICommentsProviderForDisplayComments: Cant refetch without a feedback id");return}b.setState({isRefetchingConnection:!0},function(){var a;m(babelHelpers["extends"]({displayCommentsContextEnableComment:h==null?void 0:h.enableComment,displayCommentsContextIsAdPreview:h==null?void 0:h.isAdPreview,displayCommentsContextIsAggregatedShare:h==null?void 0:h.isAggregatedShare,displayCommentsContextIsStorySet:h==null?void 0:h.isStorySet,displayCommentsFeedbackContext:h==null?void 0:h.feedbackContext,feedbackSource:j,feedLocation:k,focusCommentID:l,id:q,includeHighlightedComments:g>0&&((f==null?void 0:f.isPaginating)==null||(f==null?void 0:f.isPaginating)===!1),includeNestedComments:!0,isInitialFetch:!1,isPaginating:!1,scale:c("SiteData").pr,topLevelViewOption:(a=p)!=null?a:n,useDefaultActor:o,viewOption:p},f),{fetchPolicy:d("FishbowlCommentUtils").isFishbowlCommentOrderingMode(p)?"store-and-network":void 0,onComplete:function(a){b.$4(a||null,e)}})})};b.$6=function(a){var c=a.onComplete;a=a.viewOption;b.setState({selectedViewOption:a},function(){b.$5({onComplete:c,queryVariables:{isPaginating:!1}})})};b.$7=function(){var a=b.props,d=a.commentsKey,e=a.depth,f=a.environment,g=a.feedback,h=a.feedbackSource,i=a.feedLocation,j=a.focusCommentID,k=a.onRealtimeCommentReceived,l=a.useDefaultActor,m=b.replyCommentOrdering;if(c("gkx")("1352852")&&(h===1||h===69))return null;var o=g==null?void 0:g.id;a=g==null?void 0:g.subscription_target_id;if(e===1||o==null||a==null)return null;var p=!1,q={dispose:function(){p=!0}};n.load().then(function(a){if(p)return;q.dispose=a.subscribe({commentsKey:d,environment:f,feedbackSource:h,feedLocation:i,focusCommentID:j,isComet:!0,onNext:function(a){k&&k(a==null?void 0:(a=a.comment_create_subscribe)==null?void 0:a.feedback_comment_edge)},replyCommentOrdering:m,topLevelFeedbackTargetID:o,useDefaultActor:l}).dispose})["catch"](function(a){return c("FBLogger")("ufi2").catching(a).mustfix("Error subscribing to CometUFICreateCommentSubscription, this is probably because the arguments didn't line up with what we're expected or someone has been tinkering with its implementation")});return q};return b}var f=a.prototype;f.$2=function(a){var b=a.direction,c=a.error,e=a.onCommentsFetched;a=a.variables;if(c){e&&e({commentIDs:[],direction:b,error:c});return}c=this.props.environment;var f=d("relay-runtime").getRequest(q);f=d("relay-runtime").createOperationDescriptor(f,a);a=c.lookup(f.fragment).data;c=(a=a==null?void 0:(c=a.node)==null?void 0:(f=c.display_comments)==null?void 0:f.edges)!=null?a:[];f=c.map(function(a){return a==null?void 0:(a=a.node)==null?void 0:a.id}).filter(Boolean);e&&e({commentIDs:f||[],direction:b,error:null})};f.$4=function(a,b){var d=this;c("setTimeout")(function(){d.setState({isRefetchingConnection:!1},function(){b&&b(a)})})};f.render=function(){var a,e,f,g=this.props,j=g.children,k=g.depth,m=g.feedback,n=g.hasNext,p=g.hasPrevious,q=g.isLoadingNext,r=g.isLoadingPrevious,s=g.reparentedToDeletedCommentsMap;g=g.topLevelViewOption;var t=this.state,u=t.commentIDs,v=t.commentIDsUpdatedToServerIDs,w=t.commentsByID,x=t.hiddenCommentIDs,y=t.isRefetchingConnection,z=t.newlyCreatedCommentIDs,A=t.newlyHiddenCommentIDs,B=t.newlyReparentedToDeletedCommentsMap,C=t.newlyUnhiddenCommentIDs,D=t.removedCommentIDs;t=t.selectedViewOption;var E=d("CometRelay").readInlineData(h!==void 0?h:h=b("CometUFICommentsProviderForDisplayComments_displayCommentsMetadata.graphql"),m==null?void 0:m.display_comments);a=(a=E==null?void 0:E.page_size)!=null?a:o;e=(e=E==null?void 0:E.ufi2_connection_generation)!=null?e:0;f={afterCount:(f=m==null?void 0:(f=m.display_comments)==null?void 0:f.after_count)!=null?f:0,beforeCount:(f=m==null?void 0:(f=m.display_comments)==null?void 0:f.before_count)!=null?f:0,hasNext:n,hasPrevious:p,pageSize:a};n=null;try{p=d("CometRelay").readInlineData(i!==void 0?i:i=b("CometUFICommentsProviderForDisplayComments_displayCommentsHighlightedComments.graphql"),m==null?void 0:m.display_comments);n=(a=p==null?void 0:p.highlighted_comments)!=null?a:[]}catch(a){}var F={};((p=E==null?void 0:E.expanded_sub_reply_parents)!=null?p:[]).forEach(function(a){a=a==null?void 0:a.id;a!=null&&(F[a]=!0)});a=(E==null?void 0:E.is_initially_expanded)===!0;p=(m=m==null?void 0:(p=m.display_comments)==null?void 0:p.count)!=null?m:0;m=(E==null?void 0:E.comment_order)||t;t=(t=E==null?void 0:E.reply_comment_order)!=null?t:null;this.commentOrdering=m;this.replyCommentOrdering=t;var G=c("gkx")("6978")?"Display Comments Provider":null;return l.jsxs(c("UFI2RealtimeContainer.react"),{subscribe:this.$7,children:[j({commentIDs:u,commentIDsUpdatedToServerIDs:v,commentsByID:w,connectionGeneration:e,connectionPageInfo:f,expandedSubReplyParents:F,fetchComments:this.$1,getComment:this.$3,hiddenCommentIDs:x,highlightedComments:n,isFetchingNextComments:q,isFetchingPreviousComments:r,isInitiallyExpanded:a,isRefetchingConnection:y,newlyCreatedCommentIDs:z,newlyHiddenCommentIDs:A,newlyReparentedToDeletedCommentsMap:B,newlyUnhiddenCommentIDs:C,refetchConnection:this.$5,removedCommentIDs:D,reparentedToDeletedCommentsMap:s,replyViewOption:t,setViewOption:this.$6,shouldRenderComposerPreemptively:(j=E==null?void 0:E.should_render_composer_preemptively)!=null?j:k===0,topLevelViewOption:(u=g)!=null?u:null,totalCount:p,viewOption:m}),G]})};return a}(l.PureComponent);p.displayName="CometUFICommentsProviderForDisplayCommentsInternal";p.getDerivedStateFromProps=d("CometUFICommentsProviderState").getDerivedStateFromProps;function a(a){var e=a.feedback,f=babelHelpers.objectWithoutPropertiesLoose(a,["feedback"]),g=d("CometRelay").useRelayEnvironment();a=d("CometRelay").useRefetchableFragment(j!==void 0?j:j=b("CometUFICommentsProviderForDisplayComments_feedback.graphql"),e);var h=a[0],i=a[1];e=m(function(){return{hasScenario:!1}},[]);var k=h==null?void 0:h.display_comments;if(k==null){return(a=f.fallback)!=null?a:null}var n=h.id;if(n==null){c("FBLogger")("ufi2").mustfix("CometUFICommentsProviderForDisplayComments: Can't render without a feedback id");return(a=f.fallback)!=null?a:null}return l.jsx(d("CometUFICommentAPIContext").CometUFICommentAPIContext.Provider,{value:e,children:l.jsx(c("RelayUFI2CommentsKeyContext").Consumer,{children:function(a){if(a==null&&c("gkx")("1510195"))throw c("unrecoverableViolation")("CometUFICommentsProviderForDisplayComments expected RelayUFI2CommentsKeyContext to be set","ufi2");return l.jsx(c("UFI2RelayConnectionRenderer.react"),{commentsKey:a,connection:k,feedbackID:n,paginationQuery:c("CometUFICommentsProviderForDisplayCommentsQuery.graphql"),children:function(b){return l.jsx(p,babelHelpers["extends"]({commentsKey:a,depth:0,environment:g},f,{feedback:h,refetch:i},b))}})}})})}a.displayName=a.name+" [from "+f.id+"]";var q=k!==void 0?k:k=b("CometUFICommentsProviderForDisplayCommentsReadCommentsPageQuery.graphql");g["default"]=a}),98);
__d("CometUFICommentsProvider.react",["CometUFICommentAPIContext","CometUFICommentsProviderForDisplayComments.react","cr:4850","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useContext;function a(a){var e=a.isEligibleForCommentAPI;a=babelHelpers.objectWithoutPropertiesLoose(a,["isEligibleForCommentAPI"]);var f=i(d("CometUFICommentAPIContext").CometUFICommentAPIContext);f=f.hasScenario;return f&&e===!0&&b("cr:4850")!=null?h.jsx(b("cr:4850"),babelHelpers["extends"]({},a)):h.jsx(c("CometUFICommentsProviderForDisplayComments.react"),babelHelpers["extends"]({},a))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometUFIVisibilityContext",["react"],(function(a,b,c,d,e,f,g){"use strict";a=d("react");b=a.createContext({current:!0});g["default"]=b}),98);
__d("CometUFICommentList.react",["fbt","CometDebounce","CometRelay","CometUFIActionsContext","CometUFIAutoMentionReplyConfigContext","CometUFICommentListGetDerivedStateFromProps","CometUFICommentListState","CometUFICommentListStateConfig","CometUFICommentList_feedback.graphql","CometUFICommentListenersContext","CometUFICommentScrollOptionsContext","CometUFICommentsProvider.react","CometUFIReparentedCommentIDsContext.react","CometUFIVisibilityContext","FBLogger","SearchableEntry","SubscriptionsHandler","gkx","qex","react","recoverableViolation","scrollIntoView","unrecoverableViolation"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=d("react"),k=d("react").useContext,l={behavior:c("qex")._("149")===!0?"auto":"smooth",verticalAlign:"center"};function m(a,b){return(a=a.comment_composer_placeholder)!=null?a:b>0?h._("__JHASH__Bvm5tbnyB9U__JHASH__"):h._("__JHASH__TwTf_ccJZKN__JHASH__")}var n=function(b){babelHelpers.inheritsLoose(a,b);function a(a){var e;e=b.call(this,a)||this;e.state={listState:d("CometUFICommentListGetDerivedStateFromProps").getInitialState(e.props,void 0),mirroredProps:e.props};e.$2=null;e.$5=null;e.$6=new Map();e.$7=null;e.$8=new Map();e.$4=new Map();e.$9={};e.$10=!1;e.$11=!1;e.$12=!1;e.$13=!1;e.$14={};e.$3=new(c("SubscriptionsHandler"))();e.$17=function(a,b){e.$4.set(a,b)};e.$18=function(){var a=e.props.feedback.id;a!=null&&e.props.commentListenerContext.isInitialized?e.props.commentListenerContext.getEmitter(a,e.props.feedLocation).emit("comments_collapse",a):a==null&&e.props.commentListenerContext.isInitialized&&c("recoverableViolation")("Feedback ID Required to emit events for CometUFICommentList","ufi2");a=e.props;var b=a.depth,f=a.totalCount;e.$19(function(a){return d("CometUFICommentListState").StateUpdaters.collapseList({args:{depth:b,totalCount:f},state:a})})};e.$20=function(a){var b=a.focusComposer,f=a.preventFetch,g=a.scrollToComposer;a=e.props.feedback.id;a!=null&&e.props.commentListenerContext.isInitialized?e.props.commentListenerContext.getEmitter(a,e.props.feedLocation).emit("comments_expand",a):a==null&&e.props.commentListenerContext.isInitialized&&c("recoverableViolation")("Feedback ID Required to emit events for CometUFICommentList","ufi2");a=e.props;var h=a.connectionPageInfo.pageSize,i=a.depth,j=a.fetchComments,k=a.refetchConnection,l=a.totalCount;a=e.state.listState;f!==!0&&d("CometUFICommentListState").Selectors.isListExpanded({depth:i,state:a})&&d("CometUFICommentListState").Selectors.getVisibleCommentsCount({depth:i,state:a})===0&&l>0&&(a.pagers.forward||a.pagers.backward)&&((f=c("qex")._("1613"))!=null?f:!1)&&(a.pagers.forward?e.$21:e.$22)({onCommentsRendered:function(){return e.$20({focusComposer:b,preventFetch:!0,scrollToComposer:g})}});b&&(e.$10=!0);g===!0&&(e.$11=!0);e.$15();var m=!1;e.$19(function(a){var b=i===0&&d("CometUFICommentListState").Selectors.isListLoading({depth:i,state:a})||i!==0&&d("CometUFICommentListState").Selectors.isRepliesExpanderLoading({depth:i,state:a});if(b)return null;b=i===0?d("CometUFICommentListState").StateUpdaters.expandList({args:{depth:i,totalCount:l},state:a}):d("CometUFICommentListState").StateUpdaters.expandList({args:{depth:i,minCountToShowCollapser:d("CometUFICommentListStateConfig").MIN_REPLIES_TO_SHOW_COLLAPSER,totalCount:l},state:a});if(i===0){a=d("CometUFICommentListState").Selectors.isListLoading({depth:i,state:b});m=a;return b}a=d("CometUFICommentListState").Selectors.isRepliesExpanderLoading({depth:i,state:b});m=a;return b},function(a){if(!m)return;if(i===0){k({});return}a=d("CometUFICommentListState").Selectors.getCountForFetch({depth:i,direction:"forward",pageSize:h,state:a});if(a==null)return;j({count:a,direction:"forward",onCommentsFetched:e.$23})})};e.$24=function(a){var b=e.props.depth;e.$19(function(c){return d("CometUFICommentListState").StateUpdaters.expandHiddenComments({args:{commentIDs:a,depth:b},state:c})})};e.$25=function(a){var b=e.props,c=b.connectionPageInfo.pageSize,f=b.depth,g=b.fetchComments;b=b.totalCount;var h=e.state.listState;if(!d("CometUFICommentListState").Selectors.canFetchInDirection({depth:f,direction:a,state:h,totalCount:b}))return;b=d("CometUFICommentListState").Selectors.getCountForFetch({depth:f,direction:a,pageSize:c,state:h});if(b==null)return;g({count:b,direction:a,onCommentsFetched:e.$23})};e.$26=function(){var a=e.props,b=a.depth,d=a.feedback,f=a.feedbackSource,g=a.feedLocation,h=a.focusCommentID;a=a.useDefaultActor;if(d.id==null)throw c("unrecoverableViolation")("CometUFICommentList: Expected feedback to have an id","ufi2");return{feedback:d,feedbackSource:f,feedbackTargetID:d.id,feedLocation:g,focusCommentID:h,placeholder:m(d,b),useDefaultActor:a}};e.$27=function(a){var b=e.props,c=b.depth,d=b.feedback,f=b.feedbackSource,g=b.topLevelFeedback;b=b.useDefaultActor;g=g==null?void 0:g.id;a={addConstantHighlightCallbacks:e.$28,comment:a,depth:c,feedback:d,feedbackSource:f,onReplyToComment:e.handleReplyToComment,removeConstantHighlightCallback:e.$29,useDefaultActor:b};return g==null?a:babelHelpers["extends"]({},a,{topLevelFeedbackID:g})};e.$31=function(){var a=e.props,b=a.commentParent,c=a.depth,d=a.feedback,f=a.feedbackSource,g=a.feedLocation,h=a.focusCommentID,i=a.topLevelFeedback,j=a.topLevelViewOption,k=a.useDefaultActor;a=a.viewOption;i=i==null?void 0:i.id;b={ariaLabel:e.$30(),commentParent:b,componentRef:c===0?e.$32:e.$33,feedback:d,feedbackSource:f,feedLocation:g,focusCommentID:h,onBlur:e.$34,onFocus:e.$35,placeholder:m(d,c),topLevelViewOption:j,useDefaultActor:k,viewOption:a};return i==null?b:babelHelpers["extends"]({},b,{topLevelFeedbackID:i})};e.$37=function(){return e.$36("forward")};e.$38=function(){return e.$36("backward")};e.$39=function(){var a=e.props,b=a.depth,c=a.environment;a=a.totalCount;var f=e.state.listState;return{Selectors:d("CometUFICommentListState").Selectors,depth:b,environment:c,expandHiddenComments:e.$24,listState:f,totalCount:a}};e.$40=function(a){var b=e.props,d=b.depth,f=b.displayCommentsContext,g=b.feedback,h=b.feedbackSource,i=b.feedLocation,j=b.focusCommentID,k=b.getComment,l=b.locallyComposedCommentIds,m=b.onComposerFocusCallback,n=b.realtimeCommentIds,o=b.topLevelCommentFeedback,p=b.topLevelFeedback,q=b.topLevelViewOption,r=b.useDefaultActor;b=b.viewOption;var s=k(a);k=s&&s.feedback;var t=s&&s.expansion_info,u=function(b){e.$9[a]=b,e.$41()},v=function(b){e.$14[a]=b};if(k==null)throw c("unrecoverableViolation")("CometUFICommentList: Expected comment to have a `feedback` in order to render a replies list.","ufi2");o=d===0?k:o;if(o==null)throw c("unrecoverableViolation")("CometUFICommentList: Expected nested list to have been provided a toplevel comment feedback.","ufi2");g=d===0?g:p;if(g==null)throw c("unrecoverableViolation")("CometUFICommentList: Expected nested list to have been provided a toplevel feedback.","ufi2");return{commentParent:s,composerBlurUnhighlightCommentCallback:e.$42,composerFocusHighlightCommentCallback:e.$43,depth:d+1,displayCommentsContext:f,expansionInfo:t||void 0,feedback:k,feedbackSource:h,feedLocation:i,focusCommentID:j,listRef:u,locallyComposedCommentIds:l,onComposerFocusCallback:m,onListRendered:function(a){var b=s!=null?e.$4.get(s.id):null;b&&b(a)},realtimeCommentIds:n,subRepliesExpanderRef:v,topLevelCommentFeedback:o,topLevelFeedback:g,topLevelViewOption:(p=q)!=null?p:b,useDefaultActor:r}};e.$47=function(){return e.$44("forward")};e.$48=function(){return e.$44("backward")};e.$49=function(){var a=e.props,b=a.connectionPageInfo.pageSize,c=a.depth,f=a.environment;a=a.totalCount;var g=e.state.listState;return{Selectors:d("CometUFICommentListState").Selectors,depth:c,environment:f,listState:g,pageSize:b,totalCount:a}};e.$50=function(){var a=e.props,b=a.depth,f=a.environment,g=a.feedLocation;a=a.totalCount;var h=e.state.listState;if(b===0)throw c("unrecoverableViolation")("CometUFICommentList: Expected a replies list to get replies collapser props","ufi2");return{Selectors:d("CometUFICommentListState").Selectors,collapseList:e.$18,depth:b,environment:f,feedLocation:g,listState:h,totalCount:a}};e.$51=function(){var a=e.props,b=a.depth,f=a.environment,g=a.feedLocation,h=a.highlightedComments,i=a.totalCount;a=a.viewOption;var j=e.state.listState;if(b===0)throw c("unrecoverableViolation")("CometUFICommentList: Expected a replies list to get replies expander props","ufi2");return{Selectors:d("CometUFICommentListState").Selectors,depth:b,environment:f,expandList:e.$20,feedLocation:g,highlightedComments:h,listState:j,onMouseEnter:function(){return e.$45("forward")},totalCount:i,viewOption:a}};e.$52=function(a){var b=e.props.expandedSubReplyParents;return b[a]===!0};e.$23=function(a){var b=a.commentIDs,f=a.direction,g=a.error;if(g){e.$19(function(a){return d("CometUFICommentListState").StateUpdaters.failCommentPagination({args:{depth:e.props.depth,direction:f,error:g},state:a})});return}a=e.props;var h=a.connectionPageInfo,i=a.depth,j=a.feedback,k=a.hiddenCommentIDs,l=a.totalCount,m=h.afterCount,n=h.beforeCount,o=h.hasNext,p=h.hasPrevious,q=h.pageSize,r=j.id;if(r==null)throw c("unrecoverableViolation")("CometUFICommentList: Expected feedback to have an id","ufi2");var s=!1;e.$19(function(a){s=!0;if(i===0)if(f==="backward")return d("CometUFICommentListState").StateUpdaters.receiveCommentsPage({args:{beforeCount:n,commentIDs:b,depth:i,direction:f,feedbackTargetID:r,hasPrevious:p,hiddenCommentIDs:k,pageSize:q,totalCount:l},state:a});else return d("CometUFICommentListState").StateUpdaters.receiveCommentsPage({args:{afterCount:m,commentIDs:b,depth:i,direction:f,feedbackTargetID:r,hasNext:o,hiddenCommentIDs:k,pageSize:q,totalCount:l},state:a});else if(f==="backward")return d("CometUFICommentListState").StateUpdaters.receiveCommentsPage({args:{beforeCount:n,commentIDs:b,depth:i,direction:f,feedbackTargetID:r,hasPrevious:p,hiddenCommentIDs:k,minCountToShowCollapser:d("CometUFICommentListStateConfig").MIN_REPLIES_TO_SHOW_COLLAPSER,pageSize:q,totalCount:l},state:a});else return d("CometUFICommentListState").StateUpdaters.receiveCommentsPage({args:{afterCount:m,commentIDs:b,depth:i,direction:f,feedbackTargetID:r,hasNext:o,hiddenCommentIDs:k,minCountToShowCollapser:d("CometUFICommentListStateConfig").MIN_REPLIES_TO_SHOW_COLLAPSER,pageSize:q,totalCount:l},state:a})},function(a){s&&e.$53(f)})};e.$54=function(a){var b,d=function(){if(b==null){var d;d=(d=c("qex")._("1615"))!=null?d:1e3;b=c("CometDebounce")(function(){a.$25("forward")},{wait:d});a.$3.addSubscriptions(b)}b()};d.reset=function(){b&&b.reset()};return d}(babelHelpers.assertThisInitialized(e));e.$55=function(){e.$54.reset()};e.$28=function(a,b){e.$6.set(a,b)};e.$29=function(a){e.$6["delete"](a)};e.$42=function(a){a=e.$6.get(a);a&&a(!1)};e.$43=function(a){a=e.$6.get(a);a&&a(!0)};e.$34=function(){var a=e.props,b=a.commentParent;a=a.composerBlurUnhighlightCommentCallback;b&&a&&a(b.id)};e.$35=function(){var a=e.props,b=a.commentParent,f=a.composerFocusHighlightCommentCallback,g=a.depth;a=a.onComposerFocusCallback;var h=e.state.listState;d("CometUFICommentListState").Selectors.getVisibleCommentsCount({depth:g,state:h})===0&&(h.pagers.forward||h.pagers.backward)&&((g=c("qex")._("1616"))!=null?g:!1)&&(h.pagers.forward?e.$21:e.$22)({onCommentsRendered:function(){e.$10=!0,e.$11=!0,e.$15()}});b&&f&&f(b.id);a&&a()};e.$32=function(a){e.$5=a,e.$15()};e.$33=function(a){var b;!c("gkx")("1754")&&(((b=e.props.commentParent)==null?void 0:b.legacy_fbid)===e.props.focusCommentID||e.props.commentIDs.some(function(a){a=e.props.getComment(a);return(a==null?void 0:a.legacy_fbid)===e.props.focusCommentID}))&&(e.$10=!0);e.$32(a);if(a&&e.$7){b=e.$7;e.$7=null;e.$56(b,a)}a&&e.$13&&(e.$57(e.$1),e.$1=void 0,e.$13=!1);a&&e.$12&&(e.$58(),e.$12=!1)};e.$45=function(a){var b,d=function(d){if(b==null){var f;f=(f=c("qex")._("1617"))!=null?f:0;b=c("CometDebounce")(e.$25,{wait:f});a.$3.addSubscriptions(b)}b(d)};d.reset=function(){b&&b.reset()};return d}(babelHelpers.assertThisInitialized(e));e.handleReplyToComment=function(a){var b,c=e.props,f=c.depth,g=c.feedback,h=c.topLevelCommentFeedback;c=c.topLevelFeedback;if(d("CometUFICommentListGetDerivedStateFromProps").getCanViewerComment({depth:f,feedback:g,topLevelCommentFeedback:h,topLevelFeedback:c})===!1)return;var i=a.authorId,j=a.authorIsWeakReference,k=a.authorName,l=a.authorType,m=a.authorUrl,n=a.commentComposerPlaceholderText,o=a.commentId;b=i===((b=g.viewer_actor)==null?void 0:b.id);if(f>0){var p=e.$9[o];if(p!=null){p.handleReplyToComment(a);return}p=e.$14[o];if(p!=null){p.handleReplyToComment(a);return}e.$7=null;if(!b){p=e.$5;i={authorId:i,authorIsWeakReference:j,authorName:k,authorType:l,authorUrl:m};p?e.$56(i,p):e.$7=i}}if(f===0){l=(k=(j=g.ask_me_anything_feedback_metadata)==null?void 0:j.is_viewer_host)!=null?k:!1;m=!b&&!l;p=e.$9[o];p!=null&&(p.$57(void 0),p.$58(),m&&p.handleReplyToComment(a))}else e.$57({commentComposerPlaceholderText:n,id:o}),e.$58();if(f===0&&((i=g.threading_config)==null?void 0:i.__typename)==="NoThreadingFeedbackConfig"){e.$10=!0;e.$11=!0;e.$15();return}j=d("CometUFICommentListGetDerivedStateFromProps").getCanViewerComment({depth:f,feedback:g,topLevelCommentFeedback:h,topLevelFeedback:c});k=e.$9[o]!=null;if(k){b=f>1?(h==null?void 0:h.can_viewer_comment)===!0:g.can_viewer_comment===!0;if(b){l=o;e.$59.push({commentID:l,scrollToComposer:j});e.$41()}else{m=e.$5;m&&m.focus()}}else e.$20({focusComposer:j,scrollToComposer:j})};e.$60=function(a){a=e.$9[a.id];return a!=null?d("CometUFICommentListState").Selectors.isComposerVisible({depth:a.props.depth,state:a.state.listState}):!1};e.$61=function(a){a=e.$9[a.id];return a!=null?a.props.totalCount:0};e.$59=[];e.$21=function(a){a=a?a.onCommentsRendered:void 0;e.$62("forward",a)};e.$22=function(a){a=a?a.onCommentsRendered:void 0;e.$62("backward",a)};e.$63=function(a){var b=a.onComplete,c=a.viewOption;a=e.props;var f=a.depth,g=a.setViewOption;if(f!==0){b&&b(null);return}var h=!1;e.$19(function(a){if(d("CometUFICommentListState").Selectors.isListLoading({depth:f,state:a}))return null;h=!0;return d("CometUFICommentListState").StateUpdaters.requestRefetchList({args:{depth:f},state:a})},function(a){h?g({onComplete:b,viewOption:c}):b&&b(null)})};e.$64=function(a){a=a.focusComposer;var b=e.props,c=b.depth;b=b.totalCount;var f=e.state.listState;if(!d("CometUFICommentListState").Selectors.isListExpanded({depth:c,state:f})){e.$20({focusComposer:a,scrollToComposer:!1});return}b>0&&d("CometUFICommentListState").Selectors.getVisibleCommentsCount({depth:0,state:f})===0?f.pagers.forward?e.$21():f.pagers.backward&&e.$22():e.$18()};e.Actions={collapseList:e.$18,expandList:e.$20,loadNewerComments:e.$22,loadOlderComments:e.$21,setViewOption:e.$63,toggleList:e.$64};a=e.props.feedback.id;var f=e.props.feedLocation;if(a!=null)e.$2=e.props.ufiActionsContext.registerUFIActions(a,{expandList:e.Actions.expandList});else{c("recoverableViolation")("CometUFICommentList: Feedback target ID is null in feed location: "+((a=f)!=null?a:"unknown")+". UFI actions cannot be registered.","ufi2")}return e}var e=a.prototype;e.componentDidMount=function(){if(this.props.commentParent&&this.props.autoMentionReplyConfig){var a=this.props.autoMentionReplyConfig,b=this.props.commentParent;b.id===a.commentId&&this.handleReplyToComment(a)}};e.componentWillUnmount=function(){this.$3.release(),this.$4.clear(),this.$2!=null&&this.$2.dispose()};e.$15=function(){var a=this.$10,b=this.$11;if(!a){this.$10=!1;this.$11=!1;return}else{a=this.props;var e=a.depth;a=a.scrollDelay;var f=this.state.listState;f=e===0&&!d("CometUFICommentListState").Selectors.isListLoading({depth:e,state:f});e=e!==0;var g=this.$5;if(g!=null&&(f||e)){this.$10=!1;this.$11=!1;var h=g.getElementToScrollTo();if(b!==!0){g.focus();return}if(h==null)return;if(h instanceof Text){c("FBLogger")("ufi2").mustfix("The composer is a Text node! I don't know what happened but this is UNACCEPTABLE, we found this out because we were trying to scroll to this component. You can look into and possibly fix this issue by asserting the composerRef on CometUFICommentList is being set correctly");g.focus();return}f=function(){c("scrollIntoView")(h,babelHelpers["extends"]({},l,{onScrollComplete:function(){return g.focus()}}))};typeof a==="number"?window.setTimeout(f,a):f()}}};e.$16=function(a,b){var c=this.$8.get(a)||[];c.push(b);this.$8.set(a,c)};e.$30=function(){var a;a=(a=this.props.commentParent)==null?void 0:(a=a.author)==null?void 0:a.name;return typeof a==="string"?h._("__JHASH__ObGJYXp3PlS__JHASH__",[h._param("parent-name",a)]):h._("__JHASH__EUSyAb28pz0__JHASH__")};e.$36=function(a){var b=this.props,c=b.depth,e=b.environment,f=b.feedback,g=b.totalCount;b=b.viewOption;var h=this.state.listState,i=f.is_vc_acting_as_page_or_profile_plus;return{Selectors:d("CometUFICommentListState").Selectors,depth:c,direction:a,environment:e,isPageOrProfilePlus:i,listState:h,totalCount:g,unfilteredTotalCount:(a=(c=f.toplevel_comment_count)==null?void 0:c.count)!=null?a:g,viewOption:b}};e.$44=function(a){var b=this,c=this.props,e=c.connectionPageInfo.pageSize,f=c.depth,g=c.feedback,h=c.feedLocation,i=c.totalCount;c=c.viewOption;var j=this.state.listState,k=a==="forward"?this.$21:this.$22;return{Selectors:d("CometUFICommentListState").Selectors,depth:f,direction:a,feedLocation:h,listState:j,loadMoreComments:k,onMouseEnter:function(){return b.$45(a)},onMouseLeave:function(){return b.$46()},pageSize:e,summaryTotalNumComments:(h=(f=g.comment_count)==null?void 0:f.total_count)!=null?h:0,totalCount:i,viewOption:c}};e.$46=function(){this.$45.reset()};e.$57=function(a){var b=this.$5;b!=null?b.execCommand({__type:"SetReplyAssociation",commentAssociatedWithReply:a}):(this.$1=a,this.$13=!0)};e.$58=function(){var a=this.$5;a!=null?a.execCommand({__type:"SetReplyClicked"}):this.$12=!0};e.$41=function(){var a=this;this.$59=this.$59.filter(function(b){var c=b.commentID;b=b.scrollToComposer;c=a.$9[c];if(c!=null){c.$20({focusComposer:!0,scrollToComposer:b});return!1}return!0})};e.$62=function(a,b){var e=this,f=this.props.feedback.id,g=b?function(){b(),f!=null&&e.props.commentListenerContext.isInitialized?e.props.commentListenerContext.getEmitter(f,e.props.feedLocation).emit("comments_pagination",f):f==null&&e.props.commentListenerContext.isInitialized&&c("recoverableViolation")("Feedback ID Required to emit events for CometUFICommentList","ufi2")}:function(){},h=this.props,i=h.connectionPageInfo.pageSize,j=h.depth,k=h.fetchComments,l=!1;this.$19(function(b){var c=d("CometUFICommentListState").Selectors.isPagerLoading({depth:j,direction:a,state:b})||j===0&&d("CometUFICommentListState").Selectors.isListLoading({depth:j,state:b})||j!==0&&d("CometUFICommentListState").Selectors.isRepliesExpanderLoading({depth:j,state:b});if(c)return null;c=j===0?d("CometUFICommentListState").StateUpdaters.requestCommentsPage({args:{depth:0,direction:a,pageSize:i},state:b}):d("CometUFICommentListState").StateUpdaters.requestCommentsPage({args:{depth:j,direction:a,minCountToShowCollapser:d("CometUFICommentListStateConfig").MIN_REPLIES_TO_SHOW_COLLAPSER,pageSize:i},state:b});l=d("CometUFICommentListState").Selectors.isPagerLoading({depth:j,direction:a,state:c});if(l){b=d("CometUFICommentListState").Selectors.getCountForFetch({depth:j,direction:a,pageSize:i,state:c});b!=null&&(g!=null&&e.$16(a,g),k({count:b,direction:a,onCommentsFetched:e.$23}))}return c},function(a){l||g&&g()})};e.$56=function(a,b){var d=a.authorId,e=a.authorIsWeakReference,f=a.authorName,g=a.authorType;a=a.authorUrl;b.execCommand({__type:"PrefillMention",mentionableEntity:new(c("SearchableEntry"))({auxiliaryData:{authorativePerson:void 0,connectedPage:void 0,disableAutosuggest:void 0,indexRank:void 0,renderType:e?"non_member":"member",verified:void 0,workForeignEntity:void 0,workUser:void 0},title:f,type:g,uniqueID:d,uri:a})})};e.$53=function(a){var b=this.$8.get(a)||[];for(var b=b,c=Array.isArray(b),d=0,b=c?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=b.length)break;e=b[d++]}else{d=b.next();if(d.done)break;e=d.value}e=e;e()}this.$8["delete"](a)};e.$19=function(a,b){var c=this;this.setState(function(b){b=a(b.listState);return!b?null:{listState:b}},function(){return b&&b(c.state.listState)})};e.render=function(){var a=this.props,b=a.children,c=a.commentParent,e=a.depth,f=a.environment,g=a.getComment,h=a.isInitiallyExpanded,i=a.onListRendered,j=a.replyViewOption,k=a.totalCount;a=a.viewOption;var l=this.state.listState;f={Actions:this.Actions,Selectors:d("CometUFICommentListState").Selectors,addRepliesListRenderedCallback:this.$17,environment:f,getComment:g,getCommentEditorProps:this.$26,getCommentProps:this.$27,getComposerProps:this.$31,getFilterWarningPropsForNewerComments:this.$38,getFilterWarningPropsForOlderComments:this.$37,getHiddenCommentsPlaceholderProps:this.$39,getNestedCommentsListProps:this.$40,getPagerPropsForNewerComments:this.$48,getPagerPropsForOlderComments:this.$47,getPaginationProgressProps:this.$49,getTotalRepliesCountForComment:this.$61,isInitiallyExpanded:h,isReplyComposerVisibleForComment:this.$60,listState:l,onCommentsListMouseEnter:this.$54,onCommentsListMouseLeave:this.$55,replyViewOption:j,totalCount:k,viewOption:a};g=e===0?babelHelpers["extends"]({},f,{depth:0}):babelHelpers["extends"]({},f,{commentParent:c,depth:e,getRepliesCollapserProps:this.$50,getRepliesExpanderProps:this.$51,getShouldInitiallyExpandSubRepliesForComment:this.$52});i&&i({composerVisible:d("CometUFICommentListState").Selectors.isComposerVisible({depth:e,state:l}),totalCount:k});return b(g)};return a}(j.PureComponent);n.displayName="CometUFICommentListInternal";n.getDerivedStateFromProps=d("CometUFICommentListGetDerivedStateFromProps").getDerivedStateFromProps;function a(a){var e=a.children,f=a.commentParent,g=a.composerBlurUnhighlightCommentCallback,h=a.composerFocusHighlightCommentCallback,l=a.depth,m=l===void 0?0:l,o=a.displayCommentsContext;l=a.fallback;var p=a.feedback,q=a.feedbackSource,r=a.feedLocation,s=a.focusCommentID,t=a.listRef,u=a.locallyComposedCommentIds,v=a.onComposerFocusCallback,w=a.onListRendered,x=a.onRealtimeCommentReceived,y=a.realtimeCommentIds,z=a.replyRecipientCommentID;a.subRepliesExpanderRef;var A=a.topLevelCommentFeedback,B=a.topLevelFeedback,C=a.topLevelViewOption,D=a.useDefaultActor;a=babelHelpers.objectWithoutPropertiesLoose(a,["children","commentParent","composerBlurUnhighlightCommentCallback","composerFocusHighlightCommentCallback","depth","displayCommentsContext","fallback","feedback","feedbackSource","feedLocation","focusCommentID","listRef","locallyComposedCommentIds","onComposerFocusCallback","onListRendered","onRealtimeCommentReceived","realtimeCommentIds","replyRecipientCommentID","subRepliesExpanderRef","topLevelCommentFeedback","topLevelFeedback","topLevelViewOption","useDefaultActor"]);var E=d("CometRelay").useRelayEnvironment(),F=k(c("CometUFIVisibilityContext")),G=k(d("CometUFIActionsContext").CometUFIActionsContext),H=k(d("CometUFICommentListenersContext").CometUFICommentListenersContext),I=k(d("CometUFIReparentedCommentIDsContext.react").CometUFIReparentedCommentIDsContext),J=I.reparentedToDeletedCommentsMap;I=k(c("CometUFIAutoMentionReplyConfigContext"));var K=I.autoMentionReplyConfig;I=k(c("CometUFICommentScrollOptionsContext"));var L=I.delay,M=d("CometRelay").useFragment(i!==void 0?i:i=b("CometUFICommentList_feedback.graphql"),p);if(m>0&&B==null){c("recoverableViolation")("CometUFICommentList: topLevelFeedback is required to render a replies list","ufi2");return null}if(m>1&&A==null){c("recoverableViolation")("CometUFICommentList: topLevelCommentFeedback is required to render a sub replies list","ufi2");return null}I=M.is_eligible_for_comment_api;return j.jsx(c("CometUFICommentsProvider.react"),babelHelpers["extends"]({depth:m,displayCommentsContext:o,environment:E,fallback:l,feedLocation:r,feedback:M,feedbackSource:q,focusCommentID:s,isEligibleForCommentAPI:I,locallyComposedCommentIds:u,onRealtimeCommentReceived:x,realtimeCommentIds:y,reparentedToDeletedCommentsMap:J,topLevelFeedback:B,topLevelViewOption:C,useDefaultActor:D},a,{children:function(a){return j.createElement(n,babelHelpers["extends"]({},a,{autoMentionReplyConfig:K,children:e,commentListenerContext:H,commentParent:f,composerBlurUnhighlightCommentCallback:g,composerFocusHighlightCommentCallback:h,depth:m,displayCommentsContext:o,environment:E,feedLocation:r,feedback:M,feedbackSource:q,focusCommentID:s,isUFIVisible:F,key:[q,s,(a=M.id)!=null?a:""].join("_"),locallyComposedCommentIds:u,onComposerFocusCallback:v,onListRendered:w,realtimeCommentIds:y,ref:t,reparentedToDeletedCommentsMap:J,replyRecipientCommentID:z,scrollDelay:L,topLevelCommentFeedback:A,topLevelFeedback:B,ufiActionsContext:G,useDefaultActor:D}))}}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometUFIComposerActionButton.react",["CometTooltip.react","TetraIcon.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a,b){var d=a.color;d=d===void 0?"secondary":d;var e=a.disabled;e=e===void 0?!1:e;var f=a.icon,g=a.label;a=babelHelpers.objectWithoutPropertiesLoose(a,["color","disabled","icon","label"]);return h.jsx(c("CometTooltip.react"),{position:"above",tooltip:g,children:h.jsx(c("TetraIcon.react"),babelHelpers["extends"]({},a,{"aria-label":g,color:d,disabled:e,icon:f,ref:b}))})}a.displayName=a.name+" [from "+f.id+"]";b=h.forwardRef(a);g["default"]=b}),98);
__d("CometUFIComposerFloatingButton.react",["CometIcon.react","CometPressable.react","TetraText.react","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={container:{display:"x78zum5",justifyContent:"x13a6bvl",paddingTop:"x889kno",position:"x1uhb9sk",start:"xtzzx4i"},"default":{alignItems:"x6s0dn4",backgroundColor:"xtvsq51",borderTop:"x76ihet",borderEnd:"xwmqs3e",borderBottom:"x112ta8",borderStart:"xxxdfa6",borderTopStartRadius:"x10m1dyt",borderTopEndRadius:"xx7vh7w",borderBottomEndRadius:"xqw4mrg",borderBottomStartRadius:"x18f6g3z",display:"x78zum5",height:"xt7dq6l",justifyContent:"xl56j7k",paddingTop:"xz9dl7a",paddingEnd:"x1pi30zi",paddingBottom:"xsag5q8",paddingStart:"x1swvt13",position:"x1uhb9sk"},icon:{paddingStart:"xurb0ha"}};function a(a,b){var d=a.icon,e=a.label,f=a.onPress;a=a.text;return h.jsx("div",{className:c("stylex")(i.container),children:h.jsxs(c("CometPressable.react"),{display:"inline",onPress:f,overlayDisabled:!0,ref:b,xstyle:i["default"],children:[h.jsx(c("TetraText.react"),{color:"white",numberOfLines:1,type:"button2",children:a}),h.jsx("div",{className:c("stylex")(i.icon),children:h.jsx(c("CometIcon.react"),{"aria-label":e,color:"white",icon:d,ref:b})})]})})}a.displayName=a.name+" [from "+f.id+"]";b=h.forwardRef(a);g["default"]=b}),98);
__d("CometUFIComposerPreviewArea.react",["ix","TetraCircleButton.react","fbicon","react","useTriggerAccessibilityAlert"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=d("react").useCallback;function a(a){var b=a.children,e=a.isDisabled,f=a.label,g=a.onRemove,k=a.removeAnnouncement,l=a.testid;l=babelHelpers.objectWithoutPropertiesLoose(a,["children","isDisabled","label","onRemove","removeAnnouncement","testid"]);var m=c("useTriggerAccessibilityAlert")();a=j(function(){g(),k!=null&&m(k)},[g,k,m]);return i.jsxs("div",babelHelpers["extends"]({},l,{className:"x1ja2u2z x1n2onr6 xwib8y2 x1y1aw1k xkhd6sd x4uap5 xeuugli x16suv20 x1xmf6yo x1mh8g0r x11i5rnm xat24cr x1qughib xs83m0k x1iyjqo2 x1q0g3np x78zum5 x9f619 x972fbf x13fuv20 xm0m39n x26u7qi xcfux6l xu3j5b3 x1qhh985 x1q0q8m5 x2bj2ny x1qjc9v5","data-testid":void 0,children:[i.jsx("div",{className:"xh8yej3 xurb0ha x1sxyh0 x1iyjqo2",children:b}),i.jsx("div",{className:"x1sxyh0",children:i.jsx(c("TetraCircleButton.react"),{disabled:e,icon:d("fbicon")._(h("478231"),12),label:f,onPress:a,size:24,testid:void 0})})]}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometUFIEntryPointPopoverComposerAction.react",["CometEntryPointPopoverTrigger.react","CometUFIComposerActionButton.react","CometUFIComposerPluginsContext","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useCallback,j=b.useContext,k=b.useState;function a(a){var b=a.entryPointParams,d=a.fallback,e=a.highlightIcon,f=e===void 0?!1:e,g=a.icon;e=a.imperativeRef;var l=a.label,m=a.onVisibilityChange,n=a.otherProps,o=a.popoverEntryPoint;a=a.tracePolicy;var p=k(!1),q=p[0],r=p[1];p=j(c("CometUFIComposerPluginsContext"));var s=p.openPopoverCountChange;p=i(function(a){s(a),r(a),m&&m(a)},[m,s]);return h.jsx(c("CometEntryPointPopoverTrigger.react"),{align:"end",entryPointParams:b,fallback:d,imperativeRef:e,onVisibilityChange:p,otherProps:n,popoverEntryPoint:o,position:"above",preloadTrigger:"button",tracePolicy:a,children:function(a,b,d,e,i,j){return h.jsx(c("CometUFIComposerActionButton.react"),{color:q?"highlight":f?"highlight":void 0,icon:g,label:l,onHoverIn:e,onHoverOut:i,onPress:b,onPressIn:j,ref:a})}})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometUFILazyPopoverComposerAction.react",["CometLazyPopoverTrigger.react","CometUFIComposerActionButton.react","CometUFIComposerPluginsContext","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useCallback,j=b.useContext,k=b.useState;function a(a){var b=a.fallback,d=a.icon,e=a.label,f=a.popoverProps,g=a.popoverResource,l=a.position;l=l===void 0?"above":l;a=a.tracePolicy;var m=k(!1),n=m[0],o=m[1];m=j(c("CometUFIComposerPluginsContext"));var p=m.openPopoverCountChange;m=i(function(a){o(a),p(a)},[p]);return h.jsx(c("CometLazyPopoverTrigger.react"),{align:"end",fallback:b,onVisibilityChange:m,popoverProps:f,popoverResource:g,position:l,preloadTrigger:"button",tracePolicy:a,children:function(a,b,f,g,i,j){return h.jsx(c("CometUFIComposerActionButton.react"),{color:n?"highlight":void 0,icon:d,label:e,onHoverIn:g,onHoverOut:i,onPress:b,onPressIn:j,ref:a})}})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("cometUFIComposerAssociateReplyWithParentPlugin",["cometUFIComposerAssociateReplyWithParentPlugin_plugin.graphql","useLayoutEffect_SAFE_FOR_SSR"],(function(a,b,c,d,e,f,g){"use strict";var h;h!==void 0?h:h=b("cometUFIComposerAssociateReplyWithParentPlugin_plugin.graphql");function i(a){a=a.pluginProps;var b=a.addCommandListener,d=a.setComposerState;c("useLayoutEffect_SAFE_FOR_SSR")(function(){b(function(a){if(a.__type==="SetReplyAssociation"){var b=a.commentAssociatedWithReply;d(function(){return{commentAssociatedWithReply:b}});return"handled"}return"not-handled"})},[b,d]);return null}function a(a){return{above:null,action:null,below:i,id:"associate_reply",inside:null,props:{}}}g["default"]=a}),98);
__d("CometUFIAvatarFABComposerForLexical.react",["fbt","ix","CometLazyPopoverTrigger.react","CometPopoverLoadingState.react","CometUFIComposerFloatingButton.react","JSResourceForInteraction","fbicon","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k=d("react").useMemo,l=c("JSResourceForInteraction")("CometUFIAvatarPopoverForLexical.react").__setRef("CometUFIAvatarFABComposerForLexical.react"),m={popoverFallback:{minHeight:"x1qq0ucp"}};function a(a){var b=a.hasAvatar,e=a.pluginProps,f=a.postID;a=k(function(){return{hasAvatar:b,pluginProps:e,postID:f}},[b,e,f]);return j.jsx(c("CometLazyPopoverTrigger.react"),{align:"end",fallback:j.jsx(c("CometPopoverLoadingState.react"),{withArrow:!0,xstyle:m.popoverFallback}),popoverProps:a,popoverResource:l,position:"above",preloadTrigger:"button",children:function(a,b){return j.jsx(c("CometUFIComposerFloatingButton.react"),{icon:d("fbicon")._(i("1704739"),16),label:h._("__JHASH__9VrqPSokiho__JHASH__"),onPress:b,ref:a,text:h._("__JHASH__l6FYVisBb-E__JHASH__")})}})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometUFIInsertAvatarStickerComposerActionForLexical.react",["fbt","ix","CometPopoverLoadingState.react","CometUFILazyPopoverComposerAction.react","JSResourceForInteraction","fbicon","gkx","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k=d("react").useMemo,l=c("JSResourceForInteraction")("CometUFIAvatarPopoverForLexical.react").__setRef("CometUFIInsertAvatarStickerComposerActionForLexical.react"),m={popoverFallback:{minHeight:"xmaeki8"}};function a(a){var b=a.hasAvatar,e=a.pluginProps,f=a.postID;a=k(function(){return{hasAvatar:b,pluginProps:e,postID:f}},[b,e,f]);return j.jsx(c("CometUFILazyPopoverComposerAction.react"),{fallback:j.jsx(c("CometPopoverLoadingState.react"),{withArrow:!0,xstyle:m.popoverFallback}),icon:d("fbicon")._(i("1704745"),16),label:h._("__JHASH__7qcLMMiNzAP__JHASH__"),popoverProps:a,popoverResource:l,tracePolicy:c("gkx")("1217157")?"gemini.avatarpicker":"comet.avatarpicker"})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("cometUFIComposerAvatarPlugin",["fbt","CometProgressIndicator.react","CometRelay","CometUFIAvatarFABComposerForLexical.react","CometUFIComposerPreviewArea.react","CometUFIInsertAvatarStickerComposerActionForLexical.react","FBLogger","cometUFIComposerAvatarPlugin_plugin.graphql","cometUFIComposerAvatarPlugin_pluginData.graphql","react","requireDeferred","useDeferredModuleOnReady"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=d("react");e=d("react");var l=e.useCallback,m=e.useEffect,n=c("requireDeferred")("CometUFIStickersComposerUpgradedPreviewContent.react").__setRef("cometUFIComposerAvatarPlugin");function o(a){return a.attachment&&a.attachment.__type==="AvatarSticker"?a.attachment.id:null}i!==void 0?i:i=b("cometUFIComposerAvatarPlugin_plugin.graphql");function p(a){a=a.pluginProps;var b=a.addAttachmentMapper,d=a.composerState,e=a.setComposerState;a=o(d);d=l(function(){e(function(){return{attachment:null}})},[e]);var f=l(function(a){e(function(){return{attachment:null}}),c("FBLogger")("UFIOutlinePlugin").catching(a).mustfix("Encountered an error while rendering a sticker.")},[e]),g=c("useDeferredModuleOnReady")(n);m(function(){return b(function(a){return a.__type==="AvatarSticker"?{media:{id:a.id}}:null})},[b]);var i=k.jsx(c("CometProgressIndicator.react"),{size:"small"});return k.jsx("div",{className:"x1iyjqo2",children:a!=null?k.jsx(c("CometUFIComposerPreviewArea.react"),{label:h._("__JHASH__jXDc8myLwdK__JHASH__"),onRemove:d,removeAnnouncement:h._("__JHASH__uFeYqds_zv-__JHASH__"),children:g==null?i:k.jsx(g,{loadingIndicatorElement:i,onError:f,stickerId:a})}):null})}p.displayName=p.name+" [from "+f.id+"]";function q(a){a=a.pluginProps;a=a.composerState;return!a||!a.attachment?c("CometUFIInsertAvatarStickerComposerActionForLexical.react"):null}function r(){return c("CometUFIAvatarFABComposerForLexical.react")}function a(a){var c;a=a.fragmentKey;a=d("CometRelay").readInlineData(j!==void 0?j:j=b("cometUFIComposerAvatarPlugin_pluginData.graphql"),a);return{above:null,action:q,after:r,below:p,id:"avatars",inside:null,props:{hasAvatar:(c=a.has_avatar)!=null?c:!1,postID:a.feedback_id}}}g["default"]=a}),98);
__d("cometUFIComposerDelightsPlugin",["CometDelightsPluginForLexical","cometUFIComposerDelightsPlugin_plugin.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h;h!==void 0?h:h=b("cometUFIComposerDelightsPlugin_plugin.graphql");function a(){return{above:null,action:null,below:c("CometDelightsPluginForLexical"),id:"delights",inside:null,props:{}}}g["default"]=a}),98);
__d("CometUFIComposerEmojiPluginInner.react",["CometLexicalEmojiNode","react","requireDeferred","useDeferredModuleOnReady"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useEffect,i=c("requireDeferred")("getUpgradedCometEmojiComposerHandler").__setRef("CometUFIComposerEmojiPluginInner.react");function a(a){var b=a.pluginProps.editor,e=c("useDeferredModuleOnReady")(i);h(function(){if(e!=null)return e(b,d("CometLexicalEmojiNode").UFI_EMOJI_SIZE)},[b,e]);return null}g["default"]=a}),98);
__d("CometUFIEmojiComposerFabForLexical.react",["fbt","ix","CometLazyPopoverTrigger.react","CometPopoverLoadingState.react","CometUFIComposerFloatingButton.react","JSResourceForInteraction","fbicon","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k=c("JSResourceForInteraction")("CometUFIEmojiPickerPopoverForLexical.react").__setRef("CometUFIEmojiComposerFabForLexical.react"),l={popoverFallback:{minHeight:"x1or5b8i"}};function a(a){a=a.pluginProps;a={pluginProps:a};return j.jsx(c("CometLazyPopoverTrigger.react"),{align:"end",fallback:j.jsx(c("CometPopoverLoadingState.react"),{withArrow:!0,xstyle:l.popoverFallback}),popoverProps:a,popoverResource:k,position:"above",preloadTrigger:"button",children:function(a,b){return j.jsx(c("CometUFIComposerFloatingButton.react"),{icon:d("fbicon")._(i("642533"),16),label:h._("__JHASH__LfwC8ZO2FKZ__JHASH__"),onPress:b,ref:a,text:h._("__JHASH__OKmcdG14kAb__JHASH__")})}})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometUFIInsertEmojiComposerActionForLexical.react",["fbt","ix","CometPopoverLoadingState.react","CometUFILazyPopoverComposerAction.react","JSResourceForInteraction","fbicon","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k=d("react").useMemo,l=c("JSResourceForInteraction")("CometUFIEmojiPickerPopoverForLexical.react").__setRef("CometUFIInsertEmojiComposerActionForLexical.react"),m={popoverFallback:{minHeight:"x1or5b8i"}};function a(a){var b=a.pluginProps;a=k(function(){return{pluginProps:b}},[b]);return j.jsx(c("CometUFILazyPopoverComposerAction.react"),{fallback:j.jsx(c("CometPopoverLoadingState.react"),{withArrow:!0,xstyle:m.popoverFallback}),icon:d("fbicon")._(i("642536"),16),label:h._("__JHASH__LfwC8ZO2FKZ__JHASH__"),popoverProps:a,popoverResource:l})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("cometUFIComposerEmojiPlugin",["CometRelay","CometUFIComposerEmojiPluginInner.react","CometUFIEmojiComposerFabForLexical.react","CometUFIInsertEmojiComposerActionForLexical.react","cometUFIComposerEmojiPlugin_plugin.graphql","cometUFIComposerEmojiPlugin_pluginData.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i;h!==void 0?h:h=b("cometUFIComposerEmojiPlugin_plugin.graphql");function j(){return c("CometUFIEmojiComposerFabForLexical.react")}function a(a){a=a.fragmentKey;a=d("CometRelay").readInlineData(i!==void 0?i:i=b("cometUFIComposerEmojiPlugin_pluginData.graphql"),a);a={size:(a=a.emoji_size)!=null?a:16};return{above:null,action:function(){return c("CometUFIInsertEmojiComposerActionForLexical.react")},after:j,below:c("CometUFIComposerEmojiPluginInner.react"),id:"emoji",inside:null,props:a}}g["default"]=a}),98);
__d("CometUFIEmoticonsComposerPluginInner.react",["react","requireDeferred","useDeferredModuleOnReady"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useEffect,i=c("requireDeferred")("getUpgradedCometUFIEmoticonsComposerHandler").__setRef("CometUFIEmoticonsComposerPluginInner.react");function a(a){var b=a.pluginProps.editor,d=c("useDeferredModuleOnReady")(i);h(function(){if(d!=null)return d(b)},[b,d]);return null}g["default"]=a}),98);
__d("cometUFIComposerEmoticonPlugin",["CometRelay","CometUFIEmoticonsComposerPluginInner.react","cometUFIComposerEmoticonPlugin_plugin.graphql","cometUFIComposerEmoticonPlugin_pluginData.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i;h!==void 0?h:h=b("cometUFIComposerEmoticonPlugin_plugin.graphql");function a(a){a=a.fragmentKey;a=d("CometRelay").readInlineData(i!==void 0?i:i=b("cometUFIComposerEmoticonPlugin_pluginData.graphql"),a);return{above:null,action:null,below:c("CometUFIEmoticonsComposerPluginInner.react"),id:"emoticons",inside:null,props:{size:(a=a.emoji_size)!=null?a:16}}}g["default"]=a}),98);
__d("CometUFIHashtagComposerPluginInner.react",["react","requireDeferred","useDeferredModuleOnReady"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useEffect,i=c("requireDeferred")("getUpgradedCometHashtagComposerHandler").__setRef("CometUFIHashtagComposerPluginInner.react");function a(a){var b=a.pluginProps.editor,d=c("useDeferredModuleOnReady")(i);h(function(){if(d!=null)return d(b)},[b,d]);return null}g["default"]=a}),98);
__d("cometUFIComposerHashtagPlugin",["CometUFIHashtagComposerPluginInner.react","cometUFIComposerHashtagPlugin_plugin.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h;h!==void 0?h:h=b("cometUFIComposerHashtagPlugin_plugin.graphql");function a(a){return{above:null,action:null,below:c("CometUFIHashtagComposerPluginInner.react"),id:"hashtag",inside:null,props:{}}}g["default"]=a}),98);
__d("CometUFIMediaUploadComposerActionForLexical.react",["fbt","ix","CometUFIActionsContext","CometUFIComposerActionButton.react","UFICommentFileInputAcceptValues","fbicon","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");b=d("react");var k=b.useCallback,l=b.useContext,m=b.useEffect,n=b.useRef,o=b.useState;function a(a){var b=a.pluginProps,e=b.composerState.feedbackID;a=b.fileIsHoveringOverDropTarget;var f=b.mediaUploadError!==null,g=l(d("CometUFIActionsContext").CometUFIActionsContext),p=g.registerUFIActions,q=n(null);g=o(!1);var r=g[0],s=g[1],t=k(function(){var a;s(!0);(a=q.current)==null?void 0:a.click()},[s]);m(function(){if(e==null)return;var a=p(e,{uploadMedia:t});return function(){a&&a.dispose()}},[p,t,e]);return j.jsxs(j.Fragment,{children:[j.jsx(c("CometUFIComposerActionButton.react"),{color:r?"highlight":f&&!a?"negative":"secondary",icon:a?d("fbicon")._(i("568448"),16):d("fbicon")._(i("550098"),16),label:f?h._("__JHASH__CeSJQ_Q7OSE__JHASH__"):h._("__JHASH__acZ_gpYQ5VM__JHASH__"),onFocusIn:function(){return s(!1)},onPress:t}),j.jsx("input",{accept:c("UFICommentFileInputAcceptValues").both,className:"x1s85apg",onChange:function(a){var c=a.target.files.item(0);a=b.setComposerState;a(function(){return{attachment:{__type:"Media",reference:{__type:"File",file:c}}}});s(!1)},ref:q,type:"file"})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometUFIMediaUploadComposerFabForLexical.react",["fbt","ix","CometUFIActionsContext","CometUFIComposerFloatingButton.react","UFICommentFileInputAcceptValues","fbicon","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");b=d("react");var k=b.useCallback,l=b.useContext,m=b.useEffect,n=b.useRef;function a(a){var b=a.onPressCallback,e=a.pluginProps,f=e.composerState.feedbackID;a=e.mediaUploadError!==null;var g=l(d("CometUFIActionsContext").CometUFIActionsContext),o=g.registerUFIActions,p=n(null),q=k(function(){var a;(a=p.current)==null?void 0:a.click();b&&b()},[b]);m(function(){if(f==null)return;var a=o(f,{uploadMedia:q});return function(){a&&a.dispose()}},[o,q,f]);return j.jsxs(j.Fragment,{children:[j.jsx(c("CometUFIComposerFloatingButton.react"),{icon:d("fbicon")._(i("481797"),16),label:a?h._("__JHASH__CeSJQ_Q7OSE__JHASH__"):h._("__JHASH__acZ_gpYQ5VM__JHASH__"),onPress:q,text:h._("__JHASH__H9J4YNMdTL-__JHASH__")}),j.jsx("input",{accept:c("UFICommentFileInputAcceptValues").both,className:"x1s85apg",onChange:function(a){var b=a.target.files.item(0);a=e.setComposerState;a(function(){return{attachment:{__type:"Media",reference:{__type:"File",file:b}}}})},ref:p,type:"file"})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometUFIMediaUploadProgressBar.react",["CometProgressStepper.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.label;a=a.value;return h.jsx("div",{className:"x1e56ztr x1xmf6yo x1emribx x1iyjqo2",children:h.jsx(c("CometProgressStepper.react"),{label:b,step:a,totalSteps:100})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometUFIMediaUploadPlaceholder.react",["fbt","CometUFIComposerPreviewArea.react","CometUFIMediaUploadProgressBar.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=d("react").useCallback;function a(a){var b=a.setComposerState;a=j(function(){b(function(){return{attachment:null}})},[b]);return i.jsx("div",{className:"x1iyjqo2",children:i.jsx(c("CometUFIComposerPreviewArea.react"),{label:h._("__JHASH__M0Eks8PkfAq__JHASH__"),onRemove:a,removeAnnouncement:h._("__JHASH__wFhOf0WKSdR__JHASH__"),children:i.jsx(c("CometUFIMediaUploadProgressBar.react"),{label:h._("__JHASH__AoQAbcMN3Ju__JHASH__",[h._param("value","0")]),value:0})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("checkIfCometUFIComposerStateHasMediaAttachment",[],(function(a,b,c,d,e,f){"use strict";function a(a){return((a=a.attachment)==null?void 0:a.__type)==="Media"}f["default"]=a}),66);
__d("useCometUFIMediaUploadDragAndDrop",["react","useCometLexicalFileDragAndDrop"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback;function i(a,b){a(function(){return{attachment:{__type:"Media",reference:{__type:"File",file:b}}}})}function a(a){var b=a.editor,d=a.isMimeTypeAcceptable,e=a.setComposerState,f=a.setFileIsHoveringOverDropTarget;a=h(function(a,b){f(b)},[f]);var g=h(function(a){a.length>0&&i(e,a[0])},[e]);c("useCometLexicalFileDragAndDrop")({editor:b,isMimeTypeAcceptable:d,onHover:a,onSubmit:g})}g["default"]=a}),98);
__d("useCometUFIPreventCommitWhenUploadingFile",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useEffect;function a(a){var b=a.addCommitListener,c=a.composerState;h(function(){return b(function(){var a=c.attachment;return(a==null?void 0:a.__type)==="Media"&&(a==null?void 0:a.reference.__type)!=="UploadedFile"?"block-commit":"continue-commit"})},[b,c.attachment])}g["default"]=a}),98);
__d("cometUFIMediaUploadComposerPluginSupportedTypes",[],(function(a,b,c,d,e,f){"use strict";a=["photo","video"];b=a;f["default"]=b}),66);
__d("useIsMimeTypeAcceptable",["cometIsMimeTypeForMedia","cometUFIMediaUploadComposerPluginSupportedTypes","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback;function a(){return h(function(a){if(a.kind!=="file")return!1;for(var b=c("cometUFIMediaUploadComposerPluginSupportedTypes"),e=Array.isArray(b),f=0,b=e?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=b.length)break;g=b[f++]}else{f=b.next();if(f.done)break;g=f.value}g=g;switch(g){case"photo":if(d("cometIsMimeTypeForMedia").isMimeTypeForPhoto(a.type))return!0;break;case"video":if(d("cometIsMimeTypeForMedia").isMimeTypeForVideo(a.type))return!0;break;default:g}}return!1},[])}g["default"]=a}),98);
__d("CometUFIMediaUploadComposerPluginInner.react",["CometPlaceholder.react","CometUFIMediaUploadPlaceholder.react","JSResourceForInteraction","checkIfCometUFIComposerStateHasMediaAttachment","lazyLoadComponent","react","useCometUFIMediaUploadDragAndDrop","useCometUFIPreventCommitWhenUploadingFile","useIsMimeTypeAcceptable"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=c("lazyLoadComponent")(c("JSResourceForInteraction")("CometUFIMediaUploadUpgradedPlugin.experimental.react").__setRef("CometUFIMediaUploadComposerPluginInner.react"));function a(a){var b=a.feedback,d=a.lightweightGroupMediaUploadLogger,e=a.pluginProps;a=a.shouldCondenseVideoPreview;var f=e.addCommitListener,g=e.composerState,j=e.editor,k=e.setComposerState,l=e.setFileIsHoveringOverDropTarget,m=c("useIsMimeTypeAcceptable")(),n=c("checkIfCometUFIComposerStateHasMediaAttachment")(g);c("useCometUFIMediaUploadDragAndDrop")({editor:j,isMimeTypeAcceptable:m,setComposerState:k,setFileIsHoveringOverDropTarget:l});c("useCometUFIPreventCommitWhenUploadingFile")({addCommitListener:f,composerState:g});if(n)return h.jsx(c("CometPlaceholder.react"),{fallback:h.jsx(c("CometUFIMediaUploadPlaceholder.react"),{setComposerState:k}),children:h.jsx(i,{feedback:b,lightweightGroupMediaUploadLogger:d,pluginProps:e,shouldCondenseVideoPreview:a})});else return null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("cometUFIComposerMentionsPlugin",["cometUFIComposerMentionsPlugin_plugin.graphql","react","requireDeferred","useDeferredModuleOnReady"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react"),j=c("requireDeferred")("createUpgradedUFI2MentionsComposerPluginForLexical").__setRef("cometUFIComposerMentionsPlugin");h!==void 0?h:h=b("cometUFIComposerMentionsPlugin_plugin.graphql");function k(a){var b=a.config,d=a.pluginProps;a=a.upgradedPluginDeferred_FOR_DRAFTJS_AND_OUTLINE;a=c("useDeferredModuleOnReady")(a);if(a==null)return null;else return i.jsx(a,{config:b,pluginProps:d})}k.displayName=k.name+" [from "+f.id+"]";function a(a){a={upgradedPluginDeferred_FOR_DRAFTJS_AND_OUTLINE:j};var b=a.upgradedPluginDeferred_FOR_DRAFTJS_AND_OUTLINE;a=babelHelpers.objectWithoutPropertiesLoose(a,["upgradedPluginDeferred_FOR_DRAFTJS_AND_OUTLINE"]);return{above:null,action:null,below:k,id:"mentions",inside:null,props:{config:a,upgradedPluginDeferred_FOR_DRAFTJS_AND_OUTLINE:b}}}g["default"]=a}),98);
__d("cometUFIComposerPrefillMentionPlugin",["CometLexicalGenericEntityNode","FBLogger","Lexical","LexicalText","cometUFIComposerPrefillMentionPlugin_plugin.graphql","requireDeferred","useLayoutEffect_SAFE_FOR_SSR"],(function(a,b,c,d,e,f,g){"use strict";var h,i=c("requireDeferred")("UFIODSLogger").__setRef("cometUFIComposerPrefillMentionPlugin");h!==void 0?h:h=b("cometUFIComposerPrefillMentionPlugin_plugin.graphql");function j(a){a=a.pluginProps;var b=a.addCommandListener,e=a.editor;a=a.setComposerState;c("useLayoutEffect_SAFE_FOR_SSR")(function(){b(function(a){if(a.__type==="PrefillMention"){i.onReady(function(a){a.bump("prefill_mention_plugin.prefill_requested.with_implementation","relay")});e.update(function(){var b=a.mentionableEntity,f=d("LexicalText").$rootTextContent(),g=d("LexicalText").$isRootTextContentEmpty(e.isComposing()),h=!1;d("Lexical").$getRoot().getAllTextNodes().forEach(function(a){d("CometLexicalGenericEntityNode").$isCometLexicalGenericEntityNode(a)&&a.getTextContent()===f.trim()&&(h=!0)});if(!g&&!h)return;g=d("Lexical").$getRoot();var i=g.getFirstChild();if(d("Lexical").$isElementNode(i))i.clear();else if(i===null)i=d("Lexical").$createParagraphNode(),g.append(i);else{c("FBLogger")("UFILexicalComposer").mustfix("Prefill mentions plugin found a non-block first node. This should not happen.");return}g=k(b.getType());g=d("CometLexicalGenericEntityNode").$createCometLexicalGenericEntityNode({id:b.getUniqueID(),text:b.getTitle(),type:g,uri:b.getURI()});i.append(g);b=new(d("Lexical").TextNode)(" ");g.insertAfter(b);b.select()});return"handled"}return"not-handled"})},[b,e,a]);return null}function k(a){switch(a){case"Actor":case"Application":case"CMSObject":case"Doc":case"Event":case"FundraiserPersonForPerson":case"FundraiserPersonToCharity":case"GeneralGroupContextualProfile":case"Group":case"GroupAnonAuthorProfile":case"GroupCommerceProductItem":case"GroupRule":case"InstantArticle":case"KnowledgeNote":case"Menu":case"Note":case"Page":case"Photo":case"ProductItem":case"ReducedMessagingActor":case"Story":case"User":case"Video":case"VideoList":case"WorkKnowledgeCollection":return a;default:c("FBLogger")("UFILexicalPlugin").mustfix("PrefillMention unexpected command entity type "+a);return"Actor"}}function a(a){return{above:null,action:null,below:j,id:"prefill_mentions",inside:null,props:Object.freeze({})}}g["default"]=a}),98);
__d("cometUFIComposerSetReplyClickedPlugin",["cometUFIComposerSetReplyClickedPlugin_plugin.graphql","useLayoutEffect_SAFE_FOR_SSR"],(function(a,b,c,d,e,f,g){"use strict";var h;h!==void 0?h:h=b("cometUFIComposerSetReplyClickedPlugin_plugin.graphql");function i(a){a=a.pluginProps;var b=a.addCommandListener,d=a.setComposerState;c("useLayoutEffect_SAFE_FOR_SSR")(function(){b(function(a){if(a.__type==="SetReplyClicked"){d(function(){return{replyTargetClicked:!0}});return"handled"}return"not-handled"})},[b,d]);return null}function a(a){return{above:null,action:null,below:i,id:"set_reply_clicked",inside:null,props:{}}}g["default"]=a}),98);
__d("lastx",["invariant"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a){var b=null;if(Array.isArray(a))a.length&&(b={value:a[a.length-1]});else for(var a=a,c=Array.isArray(a),d=0,a=c?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=a.length)break;e=a[d++]}else{d=a.next();if(d.done)break;e=d.value}e=e;b=b||{};b.value=e}if(b)return b.value;h(0,1145)}g["default"]=a}),98);
__d("MultiKeyMap",["invariant","lastx"],(function(a,b,c,d,e,f,g,h){"use strict";var i=typeof WeakMap==="function";a=function(){function a(){this.$1=this.$2(),this.$3=null}var b=a.prototype;b.set=function(a,b){this.$4(a);var c=this.$1;for(var d=0;d<a.length-1;d++){var e=a[d],f=this.$5(c,e).get(e);f==null&&(f=this.$2(),this.$5(c,e).set(e,f));f.type==="map"||h(0,1732);c=f}e=a[a.length-1];this.$5(c,e).set(e,{type:"value",value:b})};b.get=function(a){this.$4(a);var b=this.$6(a);b=b&&b.get(c("lastx")(a));return b==null||b.type!=="value"?void 0:b.value};b["delete"]=function(a){this.$4(a);var b=this.$6(a);return b?b["delete"](c("lastx")(a)):!1};b.$5=function(a,b){return j(b)?a.cache:a.weakCache};b.$6=function(a){var b=this.$1;for(var d=0;d<a.length-1;d++){var e,f=a[d];if(((e=b)==null?void 0:e.type)==="map")b=this.$5(b,f).get(f);else return void 0}e=c("lastx")(a);f=b&&this.$5(b,e);return f};b.$2=function(){return{type:"map",cache:new Map(),weakCache:i?new WeakMap():new Map()}};b.$4=function(a){this.$3==null&&(this.$3=a.length);if(this.$3!==a.length)throw new Error("MultiKeyMap called with different number of keys");if(a.length<1)throw new Error("MultiKeyMap called with empty array of keys")};return a}();function j(a){var b=typeof a;return b==="number"||b==="string"||b==="boolean"||a==null}g["default"]=a}),98);
__d("memoizeWithArgsWeak",["MemoizationInstrumentation","MultiKeyMap"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){b===void 0&&(b="");var e=new(c("MultiKeyMap"))(),f=b||a.name||"unknown";b=function(){var b=d("MemoizationInstrumentation").onFunctionCall("memoizeWithArgsWeak",f);for(var c=arguments.length,g=new Array(c),h=0;h<c;h++)g[h]=arguments[h];var i=e.get(g);if(i!==void 0){b&&b(!0);return i}var j=a.apply(void 0,g);e.set(g,j);b&&b(!1);return j};return b}g["default"]=a}),98);
__d("getComposerStateSnapshotterForLexical",["CometLruCache","memoizeWithArgsWeak"],(function(a,b,c,d,e,f,g){"use strict";var h=d("CometLruCache").create(20);function i(a,b){return JSON.stringify({commentID:(b=b)!=null?b:"",feedbackID:a})}function a(a,b){var c=i(a,b);return{clear:function(){h["delete"](c)},get:function(){return h.get(c)},set:function(a){h.set(c,a)}}}b=c("memoizeWithArgsWeak")(a);g["default"]=b}),98);
__d("cometUFIComposerStateSnapshotPlugin",["FBLogger","cometUFIComposerStateSnapshotPlugin_plugin.graphql","getComposerStateSnapshotterForLexical","react"],(function(a,b,c,d,e,f,g){"use strict";var h;e=d("react");var i=e.useEffect,j=e.useRef;h!==void 0?h:h=b("cometUFIComposerStateSnapshotPlugin_plugin.graphql");function k(a){a=a.pluginProps;var b=a.addCommandListener,d=a.addCommitListener,e=a.composerState,f=a.editor,g=a.setComposerState;a=e.commentID;var h=e.feedbackID,k=c("getComposerStateSnapshotterForLexical")(h,(h=a)!=null?h:null),l=j(!1),m=j(!1),n=j(!1);a=f.getEditorState();var o=j(a.isEmpty()?null:a);i(function(){if(!l.current){var a=k.get();if(a!=null){var b=a.state;b.editor;var d=babelHelpers.objectWithoutPropertiesLoose(b,["editor"]);b=a.editorState;if(b.isEmpty()){c("FBLogger")("UFILexicalComposer").mustfix("Snapshot plugin attempted to restore an empty Outline EditorState");return}g(function(){return d});f.setEditorState(a.editorState)}l.current=!0}return function(){var a=o.current;a!==null&&f.getRootElement()==null&&!m.current&&!n.current&&k.set({editorState:a,state:e})}},[k,g,f,e]);i(function(){return f.registerUpdateListener(function(a){a=a.editorState;f.getRootElement()!==null&&!a.isEmpty()&&(o.current=a)})},[f]);i(function(){return d(function(){m.current=!0;k.clear();return"continue-commit"})},[k,d]);i(function(){return b(function(a){if(a.__type==="BeforeFinishEdit"){n.current=!0;k.clear();return"handled"}return"not-handled"})});return null}function a(a){return{above:null,action:null,below:k,id:"statesnapshot",inside:null,props:Object.freeze({})}}g["default"]=a}),98);
__d("CometUFIInsertStickerComposerActionForLexical.react",["fbt","ix","CometPopoverLoadingState.react","CometStickerPickerCardPopoverRootWithPresetProps","CometUFIEntryPointPopoverComposerAction.react","fbicon","react","useCometUFILexicalEmptyListeners"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k=d("react").useCallback;b=274;var l=Math.floor(b/4),m={popover:{height:"x1hie0zf",width:"xlro9se"},popoverFallback:{minHeight:"xny7s23"}},n=10;function a(a){var b=a.feedbackID;a=a.pluginProps;var e=a.setComposerState,f=a.commentAction,g=a.onCommit,o=d("useCometUFILexicalEmptyListeners").useCometUFILexicalIsEmpty(a.addEmptyListener),p=a.editor;a=k(function(a){var b=a.stickerID;a=function(a){return babelHelpers["extends"]({},a,{attachment:{__type:"Sticker",id:b},updateSource:"InsertStickerButton"})};o&&f==="ADD"?g(a):(e(a),p.focus())},[e,o,f,p,g]);return j.jsx(c("CometUFIEntryPointPopoverComposerAction.react"),babelHelpers["extends"]({},c("CometStickerPickerCardPopoverRootWithPresetProps").props,{entryPointParams:{feedbackID:b,flyoutTagsCount:n,stickerInterface:"COMMENTS"},fallback:j.jsx(c("CometPopoverLoadingState.react"),{withArrow:!0,xstyle:m.popoverFallback}),icon:d("fbicon")._(i("687986"),16),label:h._("__JHASH__OBILv6wtRcM__JHASH__"),otherProps:{onSelect:a,stickerHeight:l,stickerWidth:l,xstyle:m.popover},popoverEntryPoint:c("CometStickerPickerCardPopoverRootWithPresetProps").resource}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometUFIStickersComposerPreviewArea.react",["fbt","CometProgressIndicator.react","CometUFIComposerPreviewArea.react","FBLogger","react","requireDeferred","useDeferredModuleOnReady"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=d("react").useCallback,k=c("requireDeferred")("CometUFIStickersComposerUpgradedPreviewContent.react").__setRef("CometUFIStickersComposerPreviewArea.react");function l(a){return a.attachment&&a.attachment.__type==="Sticker"?a.attachment.id:null}function a(a){var b=a.composerState,d=a.removeAttachment;a=l(b);b=c("useDeferredModuleOnReady")(k);var e=j(function(){d()},[d]),f=j(function(a){d(),c("FBLogger")("ufi2").catching(a).mustfix("Encountered an error while rendering a sticker.")},[d]),g=i.jsx(c("CometProgressIndicator.react"),{size:"small"});return a==null?null:i.jsx(c("CometUFIComposerPreviewArea.react"),{label:h._("__JHASH__erNszf5-rZl__JHASH__"),onRemove:e,removeAnnouncement:h._("__JHASH__F2-tZW9Afnl__JHASH__"),testid:void 0,children:b==null?g:i.jsx(b,{loadingIndicatorElement:g,onError:f,stickerId:a})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useCometUFIStickersAttachmentMapper",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useEffect;function a(a){h(function(){return a(function(a){return a.__type==="Sticker"?{media:{id:a.id}}:null})},[a])}g["default"]=a}),98);
__d("CometUFIStickersComposerPluginInner.react",["CometUFIStickersComposerPreviewArea.react","react","useCometUFIStickersAttachmentMapper"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){a=a.pluginProps;var b=a.addAttachmentMapper,d=a.composerState;a=a.removeAttachment;c("useCometUFIStickersAttachmentMapper")(b);return h.jsx("div",{className:"x1iyjqo2",children:h.jsx(c("CometUFIStickersComposerPreviewArea.react"),{composerState:d,removeAttachment:a})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometUFIStickersFABComposerForLexical.react",["fbt","ix","CometEntryPointPopoverTrigger.react","CometPopoverLoadingState.react","CometStickerPickerCardPopoverRootWithPresetProps","CometUFIComposerFloatingButton.react","fbicon","react","useCometUFILexicalEmptyListeners"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k=d("react").useCallback;b=274;var l=10,m=Math.floor(b/4),n={popover:{height:"x1hie0zf",width:"xlro9se"},popoverFallback:{minHeight:"xny7s23"}};function a(a){var b=a.feedbackID;a=a.pluginProps;var e=a.setComposerState,f=a.commentAction,g=a.onCommit,o=d("useCometUFILexicalEmptyListeners").useCometUFILexicalIsEmpty(a.addEmptyListener),p=a.editor;a=k(function(a){var b=a.stickerID;a=function(a){return babelHelpers["extends"]({},a,{attachment:{__type:"Sticker",id:b},updateSource:"InsertStickerButton"})};o&&f==="ADD"?g(a):(e(a),p.focus())},[e,o,f,p,g]);return j.jsx(c("CometEntryPointPopoverTrigger.react"),{align:"end",entryPointParams:{feedbackID:b,flyoutTagsCount:l,stickerInterface:"COMMENTS"},fallback:j.jsx(c("CometPopoverLoadingState.react"),{withArrow:!0,xstyle:n.popoverFallback}),otherProps:{onSelect:a,stickerHeight:m,stickerWidth:m,xstyle:n.popover},popoverEntryPoint:c("CometStickerPickerCardPopoverRootWithPresetProps").resource,position:"above",preloadTrigger:"button",children:function(a,b){return j.jsx(c("CometUFIComposerFloatingButton.react"),{icon:d("fbicon")._(i("687984"),16),label:h._("__JHASH__aT_PLj5aun4__JHASH__"),onPress:b,ref:a,text:h._("__JHASH__mbw7tOCwMeJ__JHASH__")})}})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("cometUFIComposerStickersPlugin.next",["CometRelay","CometUFIInsertStickerComposerActionForLexical.react","CometUFIStickersComposerPluginInner.react","CometUFIStickersFABComposerForLexical.react","cometUFIComposerStickersPlugin_next_plugin.graphql","cometUFIComposerStickersPlugin_next_pluginData.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i;h!==void 0?h:h=b("cometUFIComposerStickersPlugin_next_plugin.graphql");function j(a){a=a.pluginProps;a=a.composerState;return!a||!a.attachment?c("CometUFIInsertStickerComposerActionForLexical.react"):null}function k(){return c("CometUFIStickersFABComposerForLexical.react")}function a(a){var e=a.environment;a=a.fragmentKey;a=d("CometRelay").readInlineData(i!==void 0?i:i=b("cometUFIComposerStickersPlugin_next_pluginData.graphql"),a);return a.feedback_id==null?null:{above:null,action:j,after:k,below:c("CometUFIStickersComposerPluginInner.react"),id:"stickers",inside:null,props:{environment:e,feedbackID:a.feedback_id,targetID:a.owning_profile_id}}}g["default"]=a}),98);
__d("CometUFILiveTypingBroadcastComposerPluginInner.react",["react","requireDeferred","useDeferredModuleOnReady"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=c("requireDeferred")("CometUFILiveTypingBroadcastComposerUpgradedPlugin.react").__setRef("CometUFILiveTypingBroadcastComposerPluginInner.react");function a(a){var b=a.feedback,d=a.groupID,e=a.pluginProps;a=a.relayEnvironment;var f=c("useDeferredModuleOnReady")(i);return f!=null?h.jsx(f,{feedback:b,groupID:d,pluginProps:e,relayEnvironment:a}):null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("cometUFIComposerLiveTypingBroadcastPlugin",["CometRelay","CometUFILiveTypingBroadcastComposerPluginInner.react","cometUFIComposerLiveTypingBroadcastPlugin_plugin.graphql","cometUFIComposerLiveTypingBroadcastPlugin_pluginData.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i;h!==void 0?h:h=b("cometUFIComposerLiveTypingBroadcastPlugin_plugin.graphql");function a(a){var e=a.environment;a=a.fragmentKey;a=d("CometRelay").readInlineData(i!==void 0?i:i=b("cometUFIComposerLiveTypingBroadcastPlugin_pluginData.graphql"),a);a={id:a.feedback_id,viewer_actor:a.viewer_actor};return{above:null,action:null,below:c("CometUFILiveTypingBroadcastComposerPluginInner.react"),id:"typing_broadcast",inside:null,props:{feedback:a,relayEnvironment:e}}}g["default"]=a}),98);
__d("cometUFIComposerWriteToComposerPlugin",["CometUFIConversationGuideContext","Lexical","cometUFIComposerWriteToComposerPlugin_plugin.graphql","react","useCometUFILexicalEmptyListeners","useLayoutEffect_SAFE_FOR_SSR"],(function(a,b,c,d,e,f,g){"use strict";var h;e=d("react");var i=e.useCallback,j=e.useContext;h!==void 0?h:h=b("cometUFIComposerWriteToComposerPlugin_plugin.graphql");function k(a){a=a.pluginProps;var b=a.addEmptyListener,e=a.editor,f=a.setComposerState;a=j(c("CometUFIConversationGuideContext"));var g=a.onComposerEmptyStateChange,h=a.setAddGiphyStickerToComposer,k=a.setAddStickerToComposer,l=a.setGetIsComposerEmpty,m=a.setWriteToComposer,n=a.unsetAddGiphyStickerToComposer,o=a.unsetAddStickerToComposer,p=a.unsetWriteToComposer,q=d("useCometUFILexicalEmptyListeners").useCometUFILexicalIsEmpty(b);c("useLayoutEffect_SAFE_FOR_SSR")(function(){g(q)},[q,g]);var r=i(function(){return q},[q]);c("useLayoutEffect_SAFE_FOR_SSR")(function(){l(function(){return r})},[r,l]);var s=i(function(a){e.focus(function(){e.update(function(){var b=d("Lexical").$getSelection();d("Lexical").$isRangeSelection(b)&&b.insertText(a)})})},[e]),t=i(function(a){var b=function(b){return babelHelpers["extends"]({},b,{attachment:{__type:"Sticker",id:a},updateSource:"ConversationGuide"})};f(b);e.focus()},[f,e]),u=i(function(a){var b={cursor:"",media:{preview:{durationMs:0,height:40,label:"",sizeBytes:0,url:a,width:40}},platformFBID:"",resultID:"",source:{durationMs:0,gifSource:"GIPHY",height:40,mimeType:"",sizeBytes:0,tags:[],title:"",url:a,width:40},type:0};a=function(a){return babelHelpers["extends"]({},a,{attachment:{__type:"GIF",data:b},updateSource:"ConversationGuide"})};f(a);e.focus()},[e,f]);c("useLayoutEffect_SAFE_FOR_SSR")(function(){m(s);k(t);h(u);return function(){p(),o(),n()}},[m,p,s,k,t,o,h,n,u]);return null}function a(a){return{above:null,action:null,below:null,id:"write_to_composer",inside:k,props:{}}}g["default"]=a}),98);